(function(a){function u(c,b,l){var g=this;return this.on("click.pjax",c,function(c){var d=a.extend({},w(b,l));d.container||(d.container=a(this).attr("data-pjax")||g);t(c,d)})}function t(c,b,d){d=w(b,d);b=c.currentTarget;if("A"!==b.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<c.which||c.metaKey||c.ctrlKey||c.shiftKey||c.altKey||location.protocol!==b.protocol||location.hostname!==b.hostname||b.hash&&b.href.replace(b.hash,"")===location.href.replace(location.hash,
"")||b.href===location.href+"#")){var g={url:b.href,container:a(b).attr("data-pjax"),target:b};d=a.extend({},g,d);g=a.Event("pjax:click");a(b).trigger(g,[d]);g.isDefaultPrevented()||(f(d),c.preventDefault(),a(b).trigger("pjax:clicked",[d]))}}function x(c,b,d){d=w(b,d);b=c.currentTarget;if("FORM"!==b.tagName.toUpperCase())throw"$.pjax.submit requires a form element";b={type:b.method.toUpperCase(),url:b.action,data:a(b).serializeArray(),container:a(b).attr("data-pjax"),target:b};f(a.extend({},b,d));
c.preventDefault()}function f(c){function b(c,d){var g=a.Event(c,{relatedTarget:l});k.trigger(g,d);return!g.isDefaultPrevented()}c=a.extend(!0,{},a.ajaxSettings,f.defaults,c);a.isFunction(c.url)&&(c.url=c.url());var l=c.target,g=z(c.url).hash,k=c.context=F(c.container);c.data||(c.data={});c.data._pjax=k.selector;var e;c.beforeSend=function(a,d){"GET"!==d.type&&(d.timeout=0);a.setRequestHeader("X-PJAX","true");a.setRequestHeader("X-PJAX-Container",k.selector);if(!b("pjax:beforeSend",[a,d]))return!1;
0<d.timeout&&(e=setTimeout(function(){b("pjax:timeout",[a,c])&&a.abort("timeout")},d.timeout),d.timeout=0);c.requestUrl=z(d.url).href};c.complete=function(a,d){e&&clearTimeout(e);b("pjax:complete",[a,d,c]);b("pjax:end",[a,c])};c.error=function(a,d,g){var l=A("",a,c);a=b("pjax:error",[a,d,g,c]);"GET"==c.type&&("abort"!==d&&a)&&B(l.url)};c.success=function(d,l,h){var e="function"===typeof a.pjax.defaults.version?a.pjax.defaults.version():a.pjax.defaults.version,C=h.getResponseHeader("X-PJAX-Version"),
r=A(d,h,c);if(e&&C&&e!==C)B(r.url);else if(r.contents){f.state={id:c.id||(new Date).getTime(),url:r.url,title:r.title,container:k.selector,fragment:c.fragment,timeout:c.timeout};(c.push||c.replace)&&window.history.replaceState(f.state,r.title,r.url);try{document.activeElement.blur()}catch(q){}r.title&&(document.title=r.title);k.html(r.contents);(e=k.find("input[autofocus], textarea[autofocus]").last()[0])&&document.activeElement!==e&&e.focus();D(r.scripts);"number"===typeof c.scrollTo&&a(window).scrollTop(c.scrollTo);
""!==g&&(e=z(r.url),e.hash=g,f.state.url=e.href,window.history.replaceState(f.state,r.title,e.href),r=a(e.hash),r.length&&a(window).scrollTop(r.offset().top));b("pjax:success",[d,l,h,c])}else B(r.url)};f.state||(f.state={id:(new Date).getTime(),url:window.location.href,title:document.title,container:k.selector,fragment:c.fragment,timeout:c.timeout},window.history.replaceState(f.state,document.title));var h=f.xhr;h&&4>h.readyState&&(h.onreadystatechange=a.noop,h.abort());f.options=c;h=f.xhr=a.ajax(c);
0<h.readyState&&(c.push&&!c.replace&&(d(f.state.id,k.clone().contents()),window.history.pushState(null,"",G(c.requestUrl))),b("pjax:start",[h,c]),b("pjax:send",[h,c]));return f.xhr}function v(c,b){return f(a.extend({url:window.location.href,push:!1,replace:!0,scrollTo:!1},w(c,b)))}function B(a){window.history.replaceState(null,"","#");window.location.replace(a)}function E(c){if((c=c.state)&&c.container){if(b&&C==c.url||f.state&&f.state.id===c.id)return;var d=a(c.container);if(d.length){var e,g=s[c.id];
if(f.state){var k=e=f.state.id<c.id?"forward":"back",h=f.state.id,q=d.clone().contents();s[h]=q;"forward"===k?(k=n,q=p):(k=p,q=n);k.push(h);(h=q.pop())&&delete s[h]}e=a.Event("pjax:popstate",{state:c,direction:e});d.trigger(e);e={id:c.id,url:c.url,container:d,push:!1,fragment:c.fragment,timeout:c.timeout,scrollTo:!1};g?(d.trigger("pjax:start",[null,e]),c.title&&(document.title=c.title),d.html(g),f.state=c,d.trigger("pjax:end",[null,e])):f(e);d[0].offsetHeight}else B(location.href)}b=!1}function H(c){var b=
a.isFunction(c.url)?c.url():c.url,d=c.type?c.type.toUpperCase():"GET",g=a("<form>",{method:"GET"===d?"GET":"POST",action:b,style:"display:none"});"GET"!==d&&"POST"!==d&&g.append(a("<input>",{type:"hidden",name:"_method",value:d.toLowerCase()}));c=c.data;if("string"===typeof c)a.each(c.split("&"),function(c,b){var d=b.split("=");g.append(a("<input>",{type:"hidden",name:d[0],value:d[1]}))});else if("object"===typeof c)for(key in c)g.append(a("<input>",{type:"hidden",name:key,value:c[key]}));a(document.body).append(g);
g.submit()}function G(a){return a.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function z(a){var b=document.createElement("a");b.href=a;return b}function w(c,b){c&&b?b.container=c:b=a.isPlainObject(c)?c:{container:c};b.container&&(b.container=F(b.container));return b}function F(c){c=a(c);if(c.length){if(""!==c.selector&&c.context===document)return c;if(c.attr("id"))return a("#"+c.attr("id"));throw"cant get selector for pjax container!";}throw"no pjax container for "+
c.selector;}function y(c){return a.parseHTML(c,document,!0)}function A(c,b,d){var g={};g.url=G(b.getResponseHeader("X-PJAX-URL")||d.requestUrl);if(/<html/i.test(c)){b=a(y(c.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));var e=a(y(c.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else b=e=a(y(c));if(0===e.length)return g;g.title=b.filter("title").add(b.find("title")).last().text();d.fragment?(c="body"===d.fragment?e:e.filter(d.fragment).add(e.find(d.fragment)).first(),c.length&&(g.contents=c.contents(),
g.title||(g.title=c.attr("title")||c.data("title")))):/<html/i.test(c)||(g.contents=e);g.contents&&(g.contents=g.contents.not(function(){return a(this).is("title")}),g.contents.find("title").remove(),g.scripts=g.contents.filter("script[src]").add(g.contents.find("script[src]")).remove(),g.contents=g.contents.not(g.scripts));g.title&&(g.title=a.trim(g.title));return g}function D(c){if(c){var b=a("script[src]");c.each(function(){var c=this.src;if(!b.filter(function(){return this.src===c}).length){var d=
document.createElement("script");d.type=a(this).attr("type");d.src=a(this).attr("src");document.head.appendChild(d)}})}}function d(a,b){s[a]=b;for(n.push(a);p.length;)delete s[p.shift()];for(;n.length>f.defaults.maxCacheLength;)delete s[n.shift()]}function k(){return a("meta").filter(function(){var c=a(this).attr("http-equiv");return c&&"X-PJAX-VERSION"===c.toUpperCase()}).attr("content")}function h(){a.fn.pjax=u;a.pjax=f;a.pjax.enable=a.noop;a.pjax.disable=e;a.pjax.click=t;a.pjax.submit=x;a.pjax.reload=
v;a.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:k};a(window).on("popstate.pjax",E)}function e(){a.fn.pjax=function(){return this};a.pjax=H;a.pjax.enable=h;a.pjax.disable=a.noop;a.pjax.click=a.noop;a.pjax.submit=a.noop;a.pjax.reload=function(){window.location.reload()};a(window).off("popstate.pjax",E)}var b=!0,C=window.location.href,q=window.history.state;q&&q.container&&(f.state=q);"state"in window.history&&(b=!1);var s={},p=[],n=[];
0>a.inArray("state",a.event.props)&&a.event.props.push("state");a.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/);a.support.pjax?h():e()})(jQuery);var hljs=new function(){function a(a){return a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function u(a,k){var h=a&&a.exec(k);return h&&0==h.index}function t(a){a=(a.className+" "+(a.parentNode?a.parentNode.className:"")).split(/\s+/);a=a.map(function(a){return a.replace(/^lang(uage)?-/,"")});return a.filter(function(a){return F(a)||/no(-?)highlight/.test(a)})[0]}function x(a,k){var h={},e;for(e in a)h[e]=a[e];if(k)for(e in k)h[e]=k[e];return h}function f(a){var k=[];(function e(a,
d){for(var f=a.firstChild;f;f=f.nextSibling)3==f.nodeType?d+=f.nodeValue.length:1==f.nodeType&&(k.push({event:"start",offset:d,node:f}),d=e(f,d),f.nodeName.toLowerCase().match(/br|hr|img|input/)||k.push({event:"stop",offset:d,node:f}));return d})(a,0);return k}function v(d,k,h){function e(){return d.length&&k.length?d[0].offset!=k[0].offset?d[0].offset<k[0].offset?d:k:"start"==k[0].event?d:k:d.length?d:k}function b(c){p+="<"+c.nodeName.toLowerCase()+Array.prototype.map.call(c.attributes,function(c){return" "+
c.nodeName+'="'+a(c.value)+'"'}).join("")+">"}function f(a){p+="</"+a.nodeName.toLowerCase()+">"}function q(a){("start"==a.event?b:f)(a.node)}for(var s=0,p="",n=[];d.length||k.length;){var c=e(),p=p+a(h.substr(s,c[0].offset-s)),s=c[0].offset;if(c==d){n.reverse().forEach(f);do q(c.splice(0,1)[0]),c=e();while(c==d&&c.length&&c[0].offset==s);n.reverse().forEach(b)}else"start"==c[0].event?n.push(c[0].node):n.pop(),q(c.splice(0,1)[0])}return p+a(h.substr(s))}function B(a){function k(a){return a&&a.source||
a}function h(b,e){return RegExp(k(b),"m"+(a.cI?"i":"")+(e?"g":""))}function e(b,f){if(!b.compiled){b.compiled=!0;b.k=b.k||b.bK;if(b.k){var q={},s=function(c,b){a.cI&&(b=b.toLowerCase());b.split(" ").forEach(function(a){a=a.split("|");q[a[0]]=[c,a[1]?Number(a[1]):1]})};"string"==typeof b.k?s("keyword",b.k):Object.keys(b.k).forEach(function(a){s(a,b.k[a])});b.k=q}b.lR=h(b.l||/\b[A-Za-z0-9_]+\b/,!0);f&&(b.bK&&(b.b="\\b("+b.bK.split(" ").join("|")+")\\b"),b.b||(b.b=/\B|\b/),b.bR=h(b.b),b.e||b.eW||(b.e=
/\B|\b/),b.e&&(b.eR=h(b.e)),b.tE=k(b.e)||"",b.eW&&f.tE&&(b.tE+=(b.e?"|":"")+f.tE));b.i&&(b.iR=h(b.i));void 0===b.r&&(b.r=1);b.c||(b.c=[]);var p=[];b.c.forEach(function(a){a.v?a.v.forEach(function(b){p.push(x(a,b))}):p.push("self"==a?b:a)});b.c=p;b.c.forEach(function(a){e(a,b)});b.starts&&e(b.starts,f);var n=b.c.map(function(a){return a.bK?"\\.?("+a.b+")\\.?":a.b}).concat([b.tE,b.i]).map(k).filter(Boolean);b.t=n.length?h(n.join("|"),!0):{exec:function(a){return null}}}}e(a)}function E(d,f,h,e){function b(a,
c){if(u(a.eR,c))return a;if(a.eW)return b(a.parent,c)}function C(a,c,b,d){d='<span class="'+(d?"":y.classPrefix);return d+(a+'">')+c+(b?"":"</span>")}function q(){var b;if(void 0!==c.sL)c.sL&&!A[c.sL]?b=a(g):(b=c.sL?E(c.sL,g,!0,w):H(g),0<c.r&&(t+=b.r),"continuous"==c.subLanguageMode&&(w=b.top),b=C(b.language,b.value,!1,!0));else if(c.k){b="";var d=0;c.lR.lastIndex=0;for(var e=c.lR.exec(g);e;){b+=a(g.substr(d,e.index-d));var d=c,f=e,f=n.cI?f[0].toLowerCase():f[0];(d=d.k.hasOwnProperty(f)&&d.k[f])?
(t+=d[1],b+=C(d[0],a(e[0]))):b+=a(e[0]);d=c.lR.lastIndex;e=c.lR.exec(g)}b+=a(g.substr(d))}else b=a(g);return b}function s(b,d){var e=b.cN?C(b.cN,"",!0):"";b.rB?(l+=e,g=""):b.eB?(l+=a(d)+e,g=""):(l+=e,g=d);c=Object.create(b,{parent:{value:c}})}function p(d,e){g+=d;if(void 0===e)return l+=q(),0;var f;a:{f=c;for(var k=0;k<f.c.length;k++)if(u(f.c[k].bR,e)){f=f.c[k];break a}f=void 0}if(f)return l+=q(),s(f,e),f.rB?0:e.length;if(f=b(c,e)){k=c;k.rE||k.eE||(g+=e);l+=q();do c.cN&&(l+="</span>"),t+=c.r,c=c.parent;
while(c!=f.parent);k.eE&&(l+=a(e));g="";f.starts&&s(f.starts,"");return k.rE?0:e.length}if(!h&&u(c.iR,e))throw Error('Illegal lexeme "'+e+'" for mode "'+(c.cN||"<unnamed>")+'"');g+=e;return e.length||1}var n=F(d);if(!n)throw Error('Unknown language: "'+d+'"');B(n);var c=e||n,w,l="";for(e=c;e!=n;e=e.parent)e.cN&&(l=C(e.cN,"",!0)+l);var g="",t=0;try{for(var v,z,x=0;;){c.t.lastIndex=x;v=c.t.exec(f);if(!v)break;z=p(f.substr(x,v.index-x),v[0]);x=v.index+z}p(f.substr(x));for(e=c;e.parent;e=e.parent)e.cN&&
(l+="</span>");return{r:t,value:l,language:d,top:c}}catch(D){if(-1!=D.message.indexOf("Illegal"))return{r:0,value:a(f)};throw D;}}function H(d,f){f=f||y.languages||Object.keys(A);var h={r:0,value:a(d)},e=h;f.forEach(function(a){if(F(a)){var f=E(a,d,!1);f.language=a;f.r>e.r&&(e=f);f.r>h.r&&(e=h,h=f)}});e.language&&(h.second_best=e);return h}function G(a){y.tabReplace&&(a=a.replace(/^((<[^>]+>|\t)+)/gm,function(a,d,e,b){return d.replace(/\t/g,y.tabReplace)}));y.useBR&&(a=a.replace(/\n/g,"<br>"));return a}
function z(a){var k=t(a);if(!/no(-?)highlight/.test(k)){var h;y.useBR?(h=document.createElementNS("http://www.w3.org/1999/xhtml","div"),h.innerHTML=a.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):h=a;var e=h.textContent,b=k?E(k,e,!0):H(e);h=f(h);if(h.length){var u=document.createElementNS("http://www.w3.org/1999/xhtml","div");u.innerHTML=b.value;b.value=v(h,f(u),e)}b.value=G(b.value);a.innerHTML=b.value;a.className+=" hljs "+(!k&&b.language||"");a.result={language:b.language,re:b.r};b.second_best&&
(a.second_best={language:b.second_best.language,re:b.second_best.r})}}function w(){if(!w.called){w.called=!0;var a=document.querySelectorAll("pre code");Array.prototype.forEach.call(a,z)}}function F(a){return A[a]||A[D[a]]}var y={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},A={},D={};this.highlight=E;this.highlightAuto=H;this.fixMarkup=G;this.highlightBlock=z;this.configure=function(a){y=x(y,a)};this.initHighlighting=w;this.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",
w,!1);addEventListener("load",w,!1)};this.registerLanguage=function(a,f){var h=A[a]=f(this);h.aliases&&h.aliases.forEach(function(e){D[e]=a})};this.listLanguages=function(){return Object.keys(A)};this.getLanguage=F;this.inherit=x;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";
this.BE={b:"\\\\[\\s\\S]",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]};this.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/};this.CLCM={cN:"comment",b:"//",e:"$",c:[this.PWM]};this.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[this.PWM]};this.HCM={cN:"comment",b:"#",e:"$",c:[this.PWM]};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM=
{cN:"number",b:this.BNR,r:0};this.CSSNM={cN:"number",b:this.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0};this.RM={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]};this.TM={cN:"title",b:this.IR,r:0};this.UTM={cN:"title",b:this.UIR,r:0}};
hljs.registerLanguage("javascript",function(a){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"},
c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},a.ASM,a.QSM,a.CLCM,a.CBCM,a.CNM,{b:"("+a.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[a.CLCM,a.CBCM,a.RM,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[a.inherit(a.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[a.CLCM,a.CBCM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+a.IR,r:0}]}});if("undefined"===!window.jQuery)throw Error("app.js requires jQuery");else{var app=function(a){function u(a,c){Storage&&localStorage.setItem(a,JSON.stringify(c))}function t(){a(document).pjax("a[data-pjax]","#pjax-container");a(document).on("pjax:send",function(){});a(document).on("pjax:end",function(){0<a("#listsjs").length?f():0<a("#merger").length?v():(a(".teams").hide(),a("#sidebarTrigger").hide(),a(".navbar-fixed-top").show(),a(".navbar-brand > .text-warning").text("kurtlocker.org"),a(".social").show())})}
function x(){a("#sidebarTrigger").unbind("click").click(function(c){c.preventDefault();a("#wrapper").toggleClass("toggled")})}function f(){0<a("#listsjs").length&&(x(),a("#sidebarTrigger").show(),a(".navbar-brand > .text-warning").text("[ l [ i [ s ] t ] s ]"),a("div.js").each(function(c,b){a(b).text(a(b).text().trim());hljs.highlightBlock(b)}),a(".sidebarFunc").unbind("click").click(function(){a(".sidebarFunc").removeClass("blue-dotted");a(this).addClass("blue-dotted");a(".nav-tabs").removeClass("blue-dotted");
a("#function-"+a(this).attr("num")).addClass("blue-dotted");a("html, body").animate({scrollTop:a("#function-"+a(this).attr("num")).offset().top-60},500);a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}),a("#page-content-wrapper").unbind("click").click(function(){a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}))}function v(){0<a("#merger").length&&(a(".teams").show(),a(".social").hide(),a(".navbar-fixed-top").hide(),a(".navbar-brand > .text-warning").text("thread merger"),
a(".open-controls").unbind("click").click(function(){E()}),a("#delete-column").unbind("click").click(function(){D(a(this).data("column"));m.remove(a(this).data("column"));u("config",m);b();z()}),app.height=window.innerHeight,B(),0<m.length?(a("#greeting").hide(),b(),z()):E())}function B(){a(".frame-content, .edit-form").css("height",window.innerHeight-107);a(window).unbind("resize").bind("resize",function(){app.height!=window.innerHeight&&a(".frame-content, .edit-form").css("height",window.innerHeight-
107)})}function E(){c();b();a("#save-changes").unbind("click").bind("click",function(){a("#greeting").hide();u("config",m);z()});a("#controlModal").unbind("hide.bs.modal").on("hide.bs.modal",function(c){a("#config-row-container").children().remove()});a("#controlModal").modal()}function H(){a("#reddit-block, #twitter-block").unbind("click").bind("click",function(){"reddit-block"==this.id&&(p("#reddit","column-settings","sub-group-controls","subreddit-controls","thread-controls","delete-controls"),
s(),q(),G(),a("#vendor-group, #reddit").toggleClass("hide"))})}function G(){a("#add-button").unbind("click").bind("click",function(){C(".sub-group-controls",".subreddit-controls",".thread-controls","#reddit .column-settings");b();a("#cancel-column").trigger("click")})}function z(){a(".carousel-inner").children().remove();for(var c=0,b=m.length;c<b;c++)A(m[c],c)}function w(c,b){for(var d="<div class='edit-button-group'><button type='button' class='add-thread-button btn btn-primary btn-default'>Add Thread</button><button style='float:right;' type='button' class='save-edit-button btn btn-primary btn-default'>Save</button><button style='float:right; margin-right: 5px;' type='button' class='cancel-edit-button btn btn-default'>Cancel</button></div>",
e=a("<div>").append(a("#template > option").clone()).html(),f=a("<div>").append(a(".column-settings").children().clone().each(function(){var c=a(this).find("label"),d=a(this).find("*[id]");c.attr("for",c.attr("for")+"-"+b);d.attr("id",d.attr("id")+"-"+b)})).html(),g=0,h=c.threads.length;g<h;g++)d+="<div class='subreddit-group-edit'>"+("<div class='form-group'><label class='control-label'>Subreddit</label><span style='float:right;'><i class='fa fa-close fa-lg delete-edit'></i></span><select class='form-control subreddit-edit'>"+
e+"</select></div>")+("<div class='form-group'><label class='control-label'>Threads</label><select data-column='"+b+"' class='form-control thread-edit'></select></div>")+"</div>";d+="<div class='edit-column-settings'>"+f+"</div>";a(".edit-form[data-column="+b+"]").append(d);a("#column-name-"+b).val(c.settings.name);a("#refresh-"+b).val(c.settings.refreshRate);a("#limit-"+b).val(c.settings.limitPosts);a("#sortBy-"+b).val(c.settings.sortBy);a(".edit-form[data-column="+b+"] .subreddit-edit").each(function(c,
d){this.value=m[b].threads[c].subreddit;a(this).unbind("change").bind("change",function(){var c=a(".edit-form[data-column="+b+"] .subreddit-group-edit").index(a(this).parent().parent());I(this.value,"","",{target:["edit-form .thread-edit",c,b],callback:K})})});n("delete-edit");p(".edit-form[data-column="+b+"]","edit-button-group","subreddit-group-edit","subreddit-edit","thread-edit","delete-edit");y(c,b);F(c,b)}function F(c,b){a(".edit-form[data-column="+b+"] .save-edit-button").unbind("click").bind("click",
function(){var a=".edit-form[data-column="+b+"]";C(a+" .subreddit-group-edit",".subreddit-edit",".thread-edit",a+" .edit-column-settings",b);u("config",m);A(m[b],b);h(b)})}function y(c,b){a(".edit-form[data-column="+b+"] .cancel-edit-button").unbind("click").bind("click",function(){A(c,b);h(b)})}function A(c,b){a(".item[data-column="+b+"]").remove();var f="<div data-column='"+b+"' class='item "+(0==b?"active":"")+"'>"+("<div data-column='"+b+"' data-type='"+c.type+"' class='frame-position nopacity'>"+
("<div class='frame-container'>"+("<i data-column='"+b+"' class='nopacity loading fa fa-refresh fa-spin fa-2x'></i><div class='frame-overlay' data-column='"+b+"'><div data-column='"+b+"' class='frame'><h6 class='frame-header'>"+("reddit"==c.type?"<i class='fa fa-reddit fa-lg'></i> ":"<i class='fa fa-twitter'></i> ")+c.settings.name+("<span style='float:right;'><i data-column='"+b+"' class='fa fa-toggle-on fa-lg refreshSwitch'></i><i data-column='"+b+"' class='fa fa-edit fa-lg'></i><i data-column='"+
b+"' class='fa fa-close fa-lg'></i></span>")+"</h6>"+("<div data-column='"+b+"' class='frame-edit nopacity hide'><form data-column='"+b+"' role='form' class='edit-form'></form></div>")+"</div></div>"+("<div data-column='"+b+"' class='frame-content nopacity'></div>"))+"</div>")+"</div>")+"</div>",h=a(".carousel-inner");0==b?0<h.children().length?a(f).insertBefore(".item:first"):h.append(f):a(f).insertAfter(a(".item[data-column="+(b-1)+"]"));k(b);w(c,b);"reddit"==c.type&&(e(c,b),d(b));a(window).trigger("resize");
g(".frame-position[data-column="+b+"]",100)}function D(a){clearInterval(app["r"+a]);delete app["r"+a]}function d(b){D(b);a(".refreshSwitch[data-column="+b+"]").hasClass("fa-toggle-on")?app["r"+b]=setInterval(function(){e(m[b],b)},1E3*parseInt(m[b].settings.refreshRate)):clearInterval(app["r"+b])}function k(b){a(".refreshSwitch[data-column="+b+"]").unbind("click").bind("click",function(){var b=a(this).data("column");a(this).toggleClass("fa-toggle-on fa-toggle-off");a(this).hasClass("fa-toggle-on")&&
e(m[b],b);d(b)});a(".fa-edit[data-column="+b+"]").unbind("click").bind("click",function(){var b=a(this).data("column"),c=a(".frame-edit[data-column="+b+"]"),d=a(".frame-content[data-column="+b+"]");c.hasClass("hide")?(c.removeClass("hide"),d.removeClass("faded").addClass("hide"),g(c,100),a(".edit-form[data-column="+b+"] .subreddit-group-edit").each(function(b,c){var d=a(this).find(".subreddit-edit").val(),e=a(this).find(".thread-edit").val();"default"!=d&&null==e&&a(this).find(".subreddit-edit").trigger("change")})):
(c.removeClass("faded").addClass("hide"),d.removeClass("hide"),g(d,100))});a(".fa-close[data-column="+b+"]").unbind("click").bind("click",function(){var b=a(this).data("column");a("#delete-column").data("column",b);a("#column-to-delete").text(m[b].settings.name);a("#delete-column-modal").modal()})}function h(b){a(".item").removeClass("active");a(".item[data-column="+b+"]").addClass("active")}function e(b,c){l(c);for(var d=[],e=0,f=b.threads.length;e<f;e++)I(b.threads[e].thread,b.settings.sortBy,b.settings.limitPosts,
{target:c,callback:function(b,c){d=d.concat([b.concat(c)]);if(m[c].threads.length==d.length){var e=P(d);N(e,c);a(".frame-overlay[data-column="+c+"]").removeClass("half-fade");a(".loading[data-column="+c+"]").removeClass("faded")}}})}function b(){if(0<m.length){a("#current-config").removeClass("hide");var c=a("#config-row-container");c.children().remove();for(var d="",e=0,f=m.length;e<f;e++)d+="<div data-columnNum='"+e+"' class='col-xs-12 col-md-8 config-panel-column nopacity'>"+m[e].settings.name+
"<span class='icon-right icon-config'><i class='fa fa-edit fa-lg'></i><i class='fa fa-close fa-lg'></i></span></div>";c.append(d);g(c.children(),100);c.find(".fa-close").unbind("click").bind("click",function(){var c=a(this).parent().parent().data("columnnum");D(c);m.remove(c);u("config",m);b()})}else a("#current-config").removeClass("hide").addClass("hide")}function C(b,c,d,e,f){var g={},h={},k=[];b=a(b);e=a(e).find(".form-control");var l="undefined"!==typeof f&&"reddit"==a(".frame-position[data-column="+
f+"]").data("type")||!a("#reddit").hasClass("hide")?"reddit":"twitter";b.each(function(b,e){var f={},g=a(e).find(d+" option:selected");f.subreddit=a(e).find(c).val();f.thread=a(e).find(d).val();f.threadid=g.data("threadid");f.threadtitle=g.data("threadtitle");f.subid=g.data("subid");k.push(f)});g.threads=k;h.name=e[0].value;h.refreshRate=e[1].value;h.limitPosts=e[2].value;h.sortBy=e[3].value;g.settings=h;g.type=l;"undefined"!==typeof f?m[f]=g:m=m.concat(g)}function q(){a(".fa-arrow-circle-left, .fa-arrow-circle-right").unbind("click").click(function(){a(this).hasClass("fa-arrow-circle-left")?
a(".add-thread-button").hasClass("hide")?a("#add-button, .add-thread-button, [id^=helpBlock-], .fa-arrow-circle-right, .sub-group-controls, .column-settings").toggleClass("hide"):a("#vendor-group, #reddit").toggleClass("hide"):a(".add-thread-button").hasClass("hide")||(a(".add-thread-button").addClass("hide"),a("#add-button").removeClass("hide"),a("[id^=helpBlock-], .fa-arrow-circle-right, .sub-group-controls, .column-settings").toggleClass("hide"))})}function s(){a("#cancel-column").unbind("click").bind("click",
function(){a(".sub-group-controls").remove();a("#add-a-column, #reddit").toggleClass("hide");a("#helpBlock-1").hasClass("hide")&&a("#add-button, .add-thread-button, [id^=helpBlock-], .fa-arrow-circle-right, .sub-group-controls, .column-settings").toggleClass("hide")})}function p(b,c,d,e,f,h){a(b+" .add-thread-button").unbind("click").click(function(){var k="<div class='"+d+" nopacity'>"+("<div class='form-group'><label class='control-label'>Subreddit</label><span style='float:right;'><i class='fa fa-close fa-lg "+
h+"'></i></span><select class='form-control "+e+"'></select></div>")+("<div class='form-group'><label class='control-label'>Threads</label><select class='form-control "+f+"'></select></div>")+"</div>",l=a("#template > option").clone();a(k).insertAfter(b+" ."+c);a(b+" ."+e+":first").append(l);a(b+" ."+e+":first").unbind("change").bind("change",function(){var b=a("."+d).index(a(this).parent().parent());I(this.value,"","",{target:[f,b],callback:K})});g("."+d,100);n(h)})}function n(b){a("."+b).unbind("click").bind("click",
function(){a(this).parent().parent().parent().remove()})}function c(){a("#add-a-column").unbind("click").bind("click",function(){a(this).removeClass("hide").addClass("hide");a("#vendor-group").removeClass("hide");H()})}function K(b,c){var d=c[2]?a(a("."+c[0]+"[data-column="+c[2]+"]")[c[1]]):a(a("."+c[0])[c[1]]);d.children().remove();b.data.children.forEach(function(a,b){d.append("<option data-subid='"+a.data.subreddit_id+"' data-threadtitle='"+a.data.title+"' data-threadid='"+a.data.id+"' value='"+
a.data.permalink+"'>"+a.data.title+"</option>")});if(0<m.length&&"undefined"!==typeof c[2]){var e=m[c[2]].threads[c[1]];0==d.find("option[data-threadid="+e.threadid+"]").length&&e.subid==d.find("option:selected").data("subid")&&d.append("<option data-threadid='"+e.threadid+"' value='"+e.thread+"'>"+e.threadtitle+"</option>");d.find("option[data-threadid="+e.threadid+"]").prop("selected",!0)}}function l(b){a(".frame-overlay[data-column="+b+"]").addClass("half-fade");a(".loading[data-column="+b+"]").addClass("faded")}
function g(b,c){setTimeout(function(){a(b).addClass("faded")},c)}function N(b,c){$frameContent=a(".frame-content[data-column="+c+"]");$frameContent.children().remove();$frameContent.removeClass("faded");b[1].data.children.forEach(function(b,c){var d="more"!=b.kind&&b.data.replies.hasOwnProperty("data")?b.data.replies.data.children:[],e=d.length,e=0==e?"":1==e?e+" reply":e+" replies",f="more"!=b.kind?"<footer class='comment-footer'><div class='time-container'>"+M(b.data.created_utc)+"</div><div class='links-container'><i class='fa fa-reply fa-lg'></i><a href='"+
L(b.data.link_id,b.data.id)+"' target='_blank'><i class='fa fa-link fa-lg'></i></a><i class='fa fa-newspaper-o fa-lg'></i><i class='fa fa-reddit fa-lg'></i></div>":"",d=a("<div/>").html(b.data.body_html).text()+f+J(d);body="<div class='media-body'>"+("more"!=b.kind?"<p class='media-heading'><a style='color:white;' href='http://www.reddit.com/u/"+b.data.author+"' target='_blank'>"+b.data.author+"</a>  |  "+b.data.score+"  |  <a data-name='"+b.data.name+"' class='reply'><span class='text-warning'>"+
e+"</span></a></p>"+d:"<div>load more comments</div>"+d)+"</div>";thumbnail="more"!=b.kind?"<div class='thumb pull-left icon-"+b.data.subreddit+"'></div>":"<a style='padding: 5px 0 0 5px;'class='pull-left' href='#'><i class='fa fa-download'></i></a>";media="<div id='"+b.data.name+"' class='media parent'>"+thumbnail+body+"</div>";$frameContent.append(media)});g($frameContent,1E3);a(".md a").attr("target","_blank");O();Q()}function J(b){b=b||[];var c="";b.forEach(function(b){var d="more"!=b.kind&&b.data.replies.hasOwnProperty("data")?
b.data.replies.data.children:[],e=d.length,e=0==e?"":1==e?e+" reply":e+" replies",f="more"!=b.kind?"<footer class='comment-footer'><div class='time-container'>"+M(b.data.created_utc)+"</div>\t<div class='links-container'><i class='fa fa-reply fa-lg'></i><a href='"+L(b.data.link_id,b.data.id)+"' target='_blank'><i class='fa fa-link fa-lg'></i></a><i class='fa fa-newspaper-o fa-lg'></i><i class='fa fa-reddit fa-lg'></i></div>":"",d=a("<div/>").html(b.data.body_html).text()+f+J(d);body="<div style='padding-top:5px;' class='media-body'>"+
("more"!=b.kind?"<p class='media-heading'><a style='color:white;' href='http://www.reddit.com/u/"+b.data.author+"' target='_blank'>"+b.data.author+"</a>  |  "+b.data.score+"  |  <a data-name='"+b.data.name+"' class='reply'><span class='text-warning'>"+e+"</span></a></p>"+d:"<div class='loadReplies' id='"+b.data.id+"' data-name='"+b.data.name+"' data-parent='"+b.data.parent_id+"'>load "+b.data.count+" replies</div><p></p>")+"</div>";thumbnail="more"!=b.kind?"<div class='thumb pull-left'></div>":"<a style='padding: 5px 0 0 5px;'class='pull-left' href='#'><i class='fa fa-download'></i></a>";
media="<div id='"+b.data.name+"' class='media hide'>"+thumbnail+body+"</div>";c+=media});return c}function Q(){a(".reply").unbind("click").click(function(){a("#"+a(this).data("name")).find(".hide").removeClass("hide")})}function O(){a(".loadReplies").unbind("click").click(function(){var b=a(this).data("team"),c=a(this).data("parent"),d="team1"==b?a("#threads-1").val():a("#threads-2").val();I(d+c.substr(3),"",b,function(b,d){var e=J(b[1].data.children,d);a("#"+c).replaceWith(e);"merger"!=a("#"+c).parent().attr("id")||
a("#"+c).hasClass("parent")||a("#"+c).addClass("parent");a(".media:not(.faded)").find(".md a").attr("target","_blank");g(".media:not(.faded)",1E3)})})}function L(a,b){return"http://www.reddit.com/comments/"+a.substr(3)+"/_/"+b}function M(a){a=new Date(1E3*a);var b=(new Date).getTime()-a.getTime(),c=Math.floor(b/864E5),b=b-864E5*c,d=Math.floor(b/36E5),b=b-36E5*d,e=Math.floor(b/6E4),b=Math.floor((b-6E4*e)/1E3);return 0==!c?c+"d":0==c&&0==!d?d+"h":0==c&&0==d&&0==!e?e+"m":0==c&&0==d&&0==e&&0==!b?b+"s":
a.toLocalTimeString()}function P(a){var b=[];a.forEach(function(a,c){b=b.concat(a[1].data.children)});b=b.filter(function(a){if("more"!=a.kind)return a}).sort(function(a,b){return"more"!=a.kind&&"more"==b.kind?1:"more"==a.kind&&"more"!=b.kind?-1:a.data.created_utc<b.data.created_utc?1:a.data.created_utc>b.data.created_utc?-1:0});a[0][1].data.children=b;return a[0]}function I(b,c,d,e){a.getJSON("http://www.reddit.com"+b+"/.json?sort="+c+"&limit="+d+"&jsonp=?",function(a){e.callback(a,e.target)}).fail(function(){console.log("error retrieving - "+
b+" json");e.callback([],e.target)}).always(function(){e.always&&e.always(e.target)})}var r;r=Storage&&localStorage.getItem("config")?Storage?JSON.parse(localStorage.getItem("config")):void 0:[];var m=r;return{init:function(){t();f();v()}}}(jQuery);$(document).ready(function(){app.init()});Array.prototype.remove=function(a,u){var t=this.slice((u||a)+1||this.length);this.length=0>a?this.length+a:a;return this.push.apply(this,t)}};(function(a,u,t,x,f,v,B){a.GoogleAnalyticsObject=f;a[f]=a[f]||function(){(a[f].q=a[f].q||[]).push(arguments)};a[f].l=1*new Date;v=u.createElement(t);B=u.getElementsByTagName(t)[0];v.async=1;v.src=x;B.parentNode.insertBefore(v,B)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-57745225-1","auto");ga("send","pageview");
