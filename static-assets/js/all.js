(function(a){function c(b,O,d){var h=this;return this.on("click.pjax",b,function(b){var c=a.extend({},s(O,d));c.container||(c.container=a(this).attr("data-pjax")||h);e(b,c)})}function e(b,d,h){h=s(d,h);d=b.currentTarget;if("A"!==d.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<b.which||b.metaKey||b.ctrlKey||b.shiftKey||b.altKey||location.protocol!==d.protocol||location.hostname!==d.hostname||d.hash&&d.href.replace(d.hash,"")===location.href.replace(location.hash,
"")||d.href===location.href+"#")){var c={url:d.href,container:a(d).attr("data-pjax"),target:d};h=a.extend({},c,h);c=a.Event("pjax:click");a(d).trigger(c,[h]);c.isDefaultPrevented()||(f(h),b.preventDefault(),a(d).trigger("pjax:clicked",[h]))}}function p(b,d,h){h=s(d,h);d=b.currentTarget;if("FORM"!==d.tagName.toUpperCase())throw"$.pjax.submit requires a form element";d={type:d.method.toUpperCase(),url:d.action,data:a(d).serializeArray(),container:a(d).attr("data-pjax"),target:d};f(a.extend({},d,h));
b.preventDefault()}function f(b){function d(b,h){var m=a.Event(b,{relatedTarget:c});A.trigger(m,h);return!m.isDefaultPrevented()}b=a.extend(!0,{},a.ajaxSettings,f.defaults,b);a.isFunction(b.url)&&(b.url=b.url());var c=b.target,m=z(b.url).hash,A=b.context=F(b.container);b.data||(b.data={});b.data._pjax=A.selector;var l;b.beforeSend=function(a,h){"GET"!==h.type&&(h.timeout=0);a.setRequestHeader("X-PJAX","true");a.setRequestHeader("X-PJAX-Container",A.selector);if(!d("pjax:beforeSend",[a,h]))return!1;
0<h.timeout&&(l=setTimeout(function(){d("pjax:timeout",[a,b])&&a.abort("timeout")},h.timeout),h.timeout=0);b.requestUrl=z(h.url).href};b.complete=function(a,h){l&&clearTimeout(l);d("pjax:complete",[a,h,b]);d("pjax:end",[a,b])};b.error=function(a,h,c){var m=D("",a,b);a=d("pjax:error",[a,h,c,b]);"GET"==b.type&&("abort"!==h&&a)&&x(m.url)};b.success=function(h,c,r){var k="function"===typeof a.pjax.defaults.version?a.pjax.defaults.version():a.pjax.defaults.version,l=r.getResponseHeader("X-PJAX-Version"),
e=D(h,r,b);if(k&&l&&k!==l)x(e.url);else if(e.contents){f.state={id:b.id||(new Date).getTime(),url:e.url,title:e.title,container:A.selector,fragment:b.fragment,timeout:b.timeout};(b.push||b.replace)&&window.history.replaceState(f.state,e.title,e.url);try{document.activeElement.blur()}catch(w){}e.title&&(document.title=e.title);A.html(e.contents);(k=A.find("input[autofocus], textarea[autofocus]").last()[0])&&document.activeElement!==k&&k.focus();G(e.scripts);"number"===typeof b.scrollTo&&a(window).scrollTop(b.scrollTo);
""!==m&&(k=z(e.url),k.hash=m,f.state.url=k.href,window.history.replaceState(f.state,e.title,k.href),e=a(k.hash),e.length&&a(window).scrollTop(e.offset().top));d("pjax:success",[h,c,r,b])}else x(e.url)};f.state||(f.state={id:(new Date).getTime(),url:window.location.href,title:document.title,container:A.selector,fragment:b.fragment,timeout:b.timeout},window.history.replaceState(f.state,document.title));var k=f.xhr;k&&4>k.readyState&&(k.onreadystatechange=a.noop,k.abort());f.options=b;k=f.xhr=a.ajax(b);
0<k.readyState&&(b.push&&!b.replace&&(h(f.state.id,A.clone().contents()),window.history.pushState(null,"",E(b.requestUrl))),d("pjax:start",[k,b]),d("pjax:send",[k,b]));return f.xhr}function y(b,d){return f(a.extend({url:window.location.href,push:!1,replace:!0,scrollTo:!1},s(b,d)))}function x(a){window.history.replaceState(null,"","#");window.location.replace(a)}function H(b){if((b=b.state)&&b.container){if(d&&w==b.url||f.state&&f.state.id===b.id)return;var h=a(b.container);if(h.length){var c,k=v[b.id];
if(f.state){var A=c=f.state.id<b.id?"forward":"back",e=f.state.id,l=h.clone().contents();v[e]=l;"forward"===A?(A=t,l=u):(A=u,l=t);A.push(e);(e=l.pop())&&delete v[e]}c=a.Event("pjax:popstate",{state:b,direction:c});h.trigger(c);c={id:b.id,url:b.url,container:h,push:!1,fragment:b.fragment,timeout:b.timeout,scrollTo:!1};k?(h.trigger("pjax:start",[null,c]),b.title&&(document.title=b.title),h.html(k),f.state=b,h.trigger("pjax:end",[null,c])):f(c);h[0].offsetHeight}else x(location.href)}d=!1}function I(b){var d=
a.isFunction(b.url)?b.url():b.url,h=b.type?b.type.toUpperCase():"GET",c=a("<form>",{method:"GET"===h?"GET":"POST",action:d,style:"display:none"});"GET"!==h&&"POST"!==h&&c.append(a("<input>",{type:"hidden",name:"_method",value:h.toLowerCase()}));b=b.data;if("string"===typeof b)a.each(b.split("&"),function(b,d){var h=d.split("=");c.append(a("<input>",{type:"hidden",name:h[0],value:h[1]}))});else if("object"===typeof b)for(key in b)c.append(a("<input>",{type:"hidden",name:key,value:b[key]}));a(document.body).append(c);
c.submit()}function E(a){return a.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function z(a){var d=document.createElement("a");d.href=a;return d}function s(b,d){b&&d?d.container=b:d=a.isPlainObject(b)?b:{container:b};d.container&&(d.container=F(d.container));return d}function F(b){b=a(b);if(b.length){if(""!==b.selector&&b.context===document)return b;if(b.attr("id"))return a("#"+b.attr("id"));throw"cant get selector for pjax container!";}throw"no pjax container for "+
b.selector;}function C(b){return a.parseHTML(b,document,!0)}function D(b,d,h){var c={};c.url=E(d.getResponseHeader("X-PJAX-URL")||h.requestUrl);if(/<html/i.test(b)){d=a(C(b.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));var k=a(C(b.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else d=k=a(C(b));if(0===k.length)return c;c.title=d.filter("title").add(d.find("title")).last().text();h.fragment?(b="body"===h.fragment?k:k.filter(h.fragment).add(k.find(h.fragment)).first(),b.length&&(c.contents=b.contents(),
c.title||(c.title=b.attr("title")||b.data("title")))):/<html/i.test(b)||(c.contents=k);c.contents&&(c.contents=c.contents.not(function(){return a(this).is("title")}),c.contents.find("title").remove(),c.scripts=c.contents.filter("script[src]").add(c.contents.find("script[src]")).remove(),c.contents=c.contents.not(c.scripts));c.title&&(c.title=a.trim(c.title));return c}function G(b){if(b){var d=a("script[src]");b.each(function(){var b=this.src;if(!d.filter(function(){return this.src===b}).length){var h=
document.createElement("script");h.type=a(this).attr("type");h.src=a(this).attr("src");document.head.appendChild(h)}})}}function h(a,d){v[a]=d;for(t.push(a);u.length;)delete v[u.shift()];for(;t.length>f.defaults.maxCacheLength;)delete v[t.shift()]}function A(){return a("meta").filter(function(){var b=a(this).attr("http-equiv");return b&&"X-PJAX-VERSION"===b.toUpperCase()}).attr("content")}function k(){a.fn.pjax=c;a.pjax=f;a.pjax.enable=a.noop;a.pjax.disable=l;a.pjax.click=e;a.pjax.submit=p;a.pjax.reload=
y;a.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:A};a(window).on("popstate.pjax",H)}function l(){a.fn.pjax=function(){return this};a.pjax=I;a.pjax.enable=k;a.pjax.disable=a.noop;a.pjax.click=a.noop;a.pjax.submit=a.noop;a.pjax.reload=function(){window.location.reload()};a(window).off("popstate.pjax",H)}var d=!0,w=window.location.href,L=window.history.state;L&&L.container&&(f.state=L);"state"in window.history&&(d=!1);var v={},u=[],t=[];
0>a.inArray("state",a.event.props)&&a.event.props.push("state");a.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/);a.support.pjax?k():l()})(jQuery);var hljs=new function(){function a(a){return a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function c(a,c){var k=a&&a.exec(c);return k&&0==k.index}function e(a){a=(a.className+" "+(a.parentNode?a.parentNode.className:"")).split(/\s+/);a=a.map(function(a){return a.replace(/^lang(uage)?-/,"")});return a.filter(function(a){return F(a)||/no(-?)highlight/.test(a)})[0]}function p(a,c){var k={},e;for(e in a)k[e]=a[e];if(c)for(e in c)k[e]=c[e];return k}function f(a){var c=[];(function l(a,
h){for(var e=a.firstChild;e;e=e.nextSibling)3==e.nodeType?h+=e.nodeValue.length:1==e.nodeType&&(c.push({event:"start",offset:h,node:e}),h=l(e,h),e.nodeName.toLowerCase().match(/br|hr|img|input/)||c.push({event:"stop",offset:h,node:e}));return h})(a,0);return c}function y(c,e,k){function f(){return c.length&&e.length?c[0].offset!=e[0].offset?c[0].offset<e[0].offset?c:e:"start"==e[0].event?c:e:c.length?c:e}function d(b){u+="<"+b.nodeName.toLowerCase()+Array.prototype.map.call(b.attributes,function(b){return" "+
b.nodeName+'="'+a(b.value)+'"'}).join("")+">"}function w(a){u+="</"+a.nodeName.toLowerCase()+">"}function p(a){("start"==a.event?d:w)(a.node)}for(var v=0,u="",t=[];c.length||e.length;){var b=f(),u=u+a(k.substr(v,b[0].offset-v)),v=b[0].offset;if(b==c){t.reverse().forEach(w);do p(b.splice(0,1)[0]),b=f();while(b==c&&b.length&&b[0].offset==v);t.reverse().forEach(d)}else"start"==b[0].event?t.push(b[0].node):t.pop(),p(b.splice(0,1)[0])}return u+a(k.substr(v))}function x(a){function c(a){return a&&a.source||
a}function e(d,k){return RegExp(c(d),"m"+(a.cI?"i":"")+(k?"g":""))}function f(d,w){if(!d.compiled){d.compiled=!0;d.k=d.k||d.bK;if(d.k){var x={},v=function(b,d){a.cI&&(d=d.toLowerCase());d.split(" ").forEach(function(a){a=a.split("|");x[a[0]]=[b,a[1]?Number(a[1]):1]})};"string"==typeof d.k?v("keyword",d.k):Object.keys(d.k).forEach(function(a){v(a,d.k[a])});d.k=x}d.lR=e(d.l||/\b[A-Za-z0-9_]+\b/,!0);w&&(d.bK&&(d.b="\\b("+d.bK.split(" ").join("|")+")\\b"),d.b||(d.b=/\B|\b/),d.bR=e(d.b),d.e||d.eW||(d.e=
/\B|\b/),d.e&&(d.eR=e(d.e)),d.tE=c(d.e)||"",d.eW&&w.tE&&(d.tE+=(d.e?"|":"")+w.tE));d.i&&(d.iR=e(d.i));void 0===d.r&&(d.r=1);d.c||(d.c=[]);var u=[];d.c.forEach(function(a){a.v?a.v.forEach(function(d){u.push(p(a,d))}):u.push("self"==a?d:a)});d.c=u;d.c.forEach(function(a){f(a,d)});d.starts&&f(d.starts,w);var t=d.c.map(function(a){return a.bK?"\\.?("+a.b+")\\.?":a.b}).concat([d.tE,d.i]).map(c).filter(Boolean);d.t=t.length?e(t.join("|"),!0):{exec:function(a){return null}}}}f(a)}function H(h,e,k,f){function d(a,
b){if(c(a.eR,b))return a;if(a.eW)return d(a.parent,b)}function w(a,b,d,c){c='<span class="'+(c?"":C.classPrefix);return c+(a+'">')+b+(d?"":"</span>")}function p(){var d;if(void 0!==b.sL)b.sL&&!D[b.sL]?d=a(m):(d=b.sL?H(b.sL,m,!0,y):I(m),0<b.r&&(s+=d.r),"continuous"==b.subLanguageMode&&(y=d.top),d=w(d.language,d.value,!1,!0));else if(b.k){d="";var c=0;b.lR.lastIndex=0;for(var h=b.lR.exec(m);h;){d+=a(m.substr(c,h.index-c));var c=b,e=h,e=t.cI?e[0].toLowerCase():e[0];(c=c.k.hasOwnProperty(e)&&c.k[e])?
(s+=c[1],d+=w(c[0],a(h[0]))):d+=a(h[0]);c=b.lR.lastIndex;h=b.lR.exec(m)}d+=a(m.substr(c))}else d=a(m);return d}function v(d,c){var h=d.cN?w(d.cN,"",!0):"";d.rB?(r+=h,m=""):d.eB?(r+=a(c)+h,m=""):(r+=h,m=c);b=Object.create(d,{parent:{value:b}})}function u(h,e){m+=h;if(void 0===e)return r+=p(),0;var f;a:{f=b;for(var l=0;l<f.c.length;l++)if(c(f.c[l].bR,e)){f=f.c[l];break a}f=void 0}if(f)return r+=p(),v(f,e),f.rB?0:e.length;if(f=d(b,e)){l=b;l.rE||l.eE||(m+=e);r+=p();do b.cN&&(r+="</span>"),s+=b.r,b=b.parent;
while(b!=f.parent);l.eE&&(r+=a(e));m="";f.starts&&v(f.starts,"");return l.rE?0:e.length}if(!k&&c(b.iR,e))throw Error('Illegal lexeme "'+e+'" for mode "'+(b.cN||"<unnamed>")+'"');m+=e;return e.length||1}var t=F(h);if(!t)throw Error('Unknown language: "'+h+'"');x(t);var b=f||t,y,r="";for(f=b;f!=t;f=f.parent)f.cN&&(r=w(f.cN,"",!0)+r);var m="",s=0;try{for(var z,E,J=0;;){b.t.lastIndex=J;z=b.t.exec(e);if(!z)break;E=u(e.substr(J,z.index-J),z[0]);J=z.index+E}u(e.substr(J));for(f=b;f.parent;f=f.parent)f.cN&&
(r+="</span>");return{r:s,value:r,language:h,top:b}}catch(G){if(-1!=G.message.indexOf("Illegal"))return{r:0,value:a(e)};throw G;}}function I(c,e){e=e||C.languages||Object.keys(D);var f={r:0,value:a(c)},l=f;e.forEach(function(a){if(F(a)){var e=H(a,c,!1);e.language=a;e.r>l.r&&(l=e);e.r>f.r&&(l=f,f=e)}});l.language&&(f.second_best=l);return f}function E(a){C.tabReplace&&(a=a.replace(/^((<[^>]+>|\t)+)/gm,function(a,c,e,d){return c.replace(/\t/g,C.tabReplace)}));C.useBR&&(a=a.replace(/\n/g,"<br>"));return a}
function z(a){var c=e(a);if(!/no(-?)highlight/.test(c)){var k;C.useBR?(k=document.createElementNS("http://www.w3.org/1999/xhtml","div"),k.innerHTML=a.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):k=a;var l=k.textContent,d=c?H(c,l,!0):I(l);k=f(k);if(k.length){var p=document.createElementNS("http://www.w3.org/1999/xhtml","div");p.innerHTML=d.value;d.value=y(k,f(p),l)}d.value=E(d.value);a.innerHTML=d.value;a.className+=" hljs "+(!c&&d.language||"");a.result={language:d.language,re:d.r};d.second_best&&
(a.second_best={language:d.second_best.language,re:d.second_best.r})}}function s(){if(!s.called){s.called=!0;var a=document.querySelectorAll("pre code");Array.prototype.forEach.call(a,z)}}function F(a){return D[a]||D[G[a]]}var C={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},D={},G={};this.highlight=H;this.highlightAuto=I;this.fixMarkup=E;this.highlightBlock=z;this.configure=function(a){C=p(C,a)};this.initHighlighting=s;this.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",
s,!1);addEventListener("load",s,!1)};this.registerLanguage=function(a,c){var e=D[a]=c(this);e.aliases&&e.aliases.forEach(function(c){G[c]=a})};this.listLanguages=function(){return Object.keys(D)};this.getLanguage=F;this.inherit=p;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";
this.BE={b:"\\\\[\\s\\S]",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]};this.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/};this.CLCM={cN:"comment",b:"//",e:"$",c:[this.PWM]};this.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[this.PWM]};this.HCM={cN:"comment",b:"#",e:"$",c:[this.PWM]};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM=
{cN:"number",b:this.BNR,r:0};this.CSSNM={cN:"number",b:this.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0};this.RM={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]};this.TM={cN:"title",b:this.IR,r:0};this.UTM={cN:"title",b:this.UIR,r:0}};
hljs.registerLanguage("javascript",function(a){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"},
c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},a.ASM,a.QSM,a.CLCM,a.CBCM,a.CNM,{b:"("+a.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[a.CLCM,a.CBCM,a.RM,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[a.inherit(a.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[a.CLCM,a.CBCM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+a.IR,r:0}]}});var util={fn:{remove:function(a,c,e){e=a.slice((e||c)+1||a.length);a.length=0>c?a.length+c:c;return a.push.apply(a,e)},takeWhile:function(a,c,e){for(var p=[],f=0,y=a.length;f<y;f++)if(e(a[f],c))p.push(a[f]);else break;return p},any:function(a,c){var e=!1;$(a).each(function(a,f){c(f)&&(e=!0)});return e},jQueryExtensions:function(){$.fn.launchPopOver=function(a,c){var e=this;$(this).popover("destroy");$(this).popover(c);$(this).popover("show");setTimeout(function(){$(e).popover("destroy")},a);return this};
$.fn.hasOverflowed=function(){return 0<this.length?this[0].scrollHeight>this[0].clientHeight||this[0].scrollWidth>this[0].clientWidth:!1}}()},html:{a:function(a){return["<li class='list-group-item'><div class='input-group'>","<input class='form-control' type='text' value='"+a+"'></input>","<span class='input-group-addon'><i class='fa fa-close'></i></span></div></li>"].join("")},b:function(a,c){return["<li data-subid="+a.subreddit_id+" data-subreddit="+a.subreddit+" data-thread="+a.permalink+" data-threadid="+
a.id+" class='list-group-item nopacity'>",a.title," <span class='text-primary'>in /r/"+a.subreddit+"</span>","<span class='badge pull-right'>"+c+"</span>","</li>"].join("")},c:function(a,c){var e=function(){var a="";c.forEach(function(c){a+="<a class='btn "+c[0]+"'><i class='fa fa-"+c[1]+" fa-2x'></i></a>"});return a}();return["<ul class='list-group controls "+a+"'>","<li class='list-group-item controls'><div class='btn-group'>",e,"</div></li></ul>"].join("")},d:function(a){return["<div class='form-group'><label class='control-label'>Threads</label>",
"<select data-column='"+a+"' class='form-control thread-edit'></select>","</div>"].join("")},e:function(){return"<div class='form-group'><label class='control-label'>Subreddit</label><span style='float:right;'><i class='fa fa-close fa-lg delete-edit'></i></span><input type='text' class='form-control subreddit-edit' placeholder='Enter a subreddit'></div>"},f:function(a,c){return"<div class='subreddit-group-edit'>"+a+c+"</div>"},g:function(a){return"<div class='edit-column-settings'>"+a+"</div>"},h:function(a,
c,e){return['<ul class="nav nav-tabs">','<li class="active"><a href="#'+a+'-add" data-toggle="tab">Add</a></li>','<li><a data-toggle="tab" href="#'+a+'-settings">Settings</a></li>','<li><a data-toggle="tab" href="#'+a+'-post">Post</a></li>','<li><a data-toggle="tab" href="#'+a+'-info">Info</a></li>','</ul><div class="tab-content">','<div class="tab-pane fade active in" id="'+a+'-add">'+c+"</div>",'<div class="tab-pane fade" id="'+a+'-settings">'+e+"</div>",'<div class="tab-pane fade" id="'+a+'-post">Post</div>',
'<div class="tab-pane fade" id="'+a+'-info">Info</div>',"</div>"].join("")},i:function(a){return"<div data-column='"+a+"' class='frame-content nopacity'></div>"},j:function(a){return["<span style='float:right;'>","<i data-column='"+a+"' class='fa fa-toggle-on fa-lg refreshSwitch'></i>","<i data-column='"+a+"' class='fa fa-edit fa-lg'></i>","<i data-column='"+a+"' class='fa fa-close fa-lg'></i>","</span>"].join("")},k:function(a){return["<div data-column='"+a+"' class='frame-edit nopacity hide'>",
"<form data-column='"+a+"' role='form' class='edit-form'></form>","</div>"].join("")},l:function(a,c,e,p,f){return["<i data-column='"+a+"' class='nopacity loading fa fa-refresh fa-spin fa-2x'></i>","<div class='frame-overlay' data-column='"+a+"'>","<div data-column='"+a+"' class='frame'>","<h6 class='frame-header'>"+("reddit"==c.type?"<i class='fa fa-reddit fa-lg'></i> ":"<i class='fa fa-twitter'></i> ")+c.settings.name+e,"</h6>"+p,"</div>","</div>"+f].join("")},m:function(a){return"<div class='frame-container'>"+
a+"</div>"},n:function(a,c,e){return"<div data-column='"+a+"' data-type='"+c.type+"' class='frame-position nopacity'>"+e+"</div>"},o:function(a,c){return"<div data-column='"+a+"' class='item "+(0==a?"active":"")+"'>"+c+"</div>"},p:function(a,c){return['<div class="panel-heading" role="tab" id="heading'+a+'">','<h4 class="panel-title">','<a data-toggle="collapse" data-parent="#accordion" href="#collapse'+a+'" aria-expanded="true" aria-controls="collapse'+a+'">',a+1+". "+c.settings.name,"</a></h4></div>"].join("")},
q:function(a){return['<div id="collapse'+a+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading'+a+'">','<div class="panel-body"></div></div>'].join("")},r:function(a,c){return'<div class="panel panel-default nopacity">'+a+c+"</div>"},s:function(a){return["<div class='form-group'><label class='control-label'>Threads</label>","<select class='form-control "+a+"'></select>","</div>"].join("")},t:function(a,c){return["<div class='form-group'>","<label class='control-label'>Subreddit</label><span style='float:right;'><i class='fa fa-close fa-lg "+
a+"'></i></span>","<input type='text' class='form-control "+c+"' placeholder='Enter a subreddit'>","</div>"].join("")},u:function(a,c,e){return"<div class='"+a+" nopacity'>"+c+e+"</div>"},v:function(a){return["<option data-subid='"+a.data.subreddit_id+"' data-threadtitle='"+a.data.title+"' data-threadid='"+a.data.id+"' value='"+a.data.permalink+"'>",a.data.title,"</option>"].join("")},w:function(a){return["<option data-subid='"+a.subid+"' data-threadtitle='"+a.threadtitle+"' data-threadid='"+a.threadid+
"' value='"+a.thread+"'>",a.threadtitle,"</option>"].join("")},x:function(){return"<div class='reply-buttons'><button class='cancel-reply btn btn-default'>Cancel</button><button type='submit' class='save-reply btn btn-primary'>Save</button></div>"},y:function(a){return"<input type='hidden' name='thing_id' value='"+a+"''>"},z:function(a){return"<textarea name='text' class='form-control textarea-reply' placeholder='Reply to "+a+"..'></textarea>"},aa:function(a,c,e){return["<div class='nopacity hide reply-form'><div class='submitting nopacity hide'>Submitting...</div>",
"<form action='javascript:void(0)'>"+a+c+e+"</form>","</div>"].join("")},ab:function(a){return"<a class='btn new-comment'><span class='text-primary diff'>"+a+" new</span></a>"},ac:function(a){return["<span class='reply-num text-warning'>"+a+"</span>","<span class='text-warning'>&nbsp;<i class='fa expand fa-plus-square'></i>&nbsp;</span>"].join("")},ad:function(a,c){return"<a data-name='"+a+"' data-replylength='"+c+"' class='btn reply'></a>"},ae:function(a,c,e,p,f){return["<footer data-id='"+a.data.name+
"' class='comment-footer'>","<div class='links-container btn-group'>","<a class='btn time-elapsed white'>"+e+"</a>","<a class='btn reply-switch'><i class='fa fa-reply fa-lg'></i></a>","<a class='btn perma' href='"+p+"' target='_blank'><i class='fa fa-link fa-lg'></i></a>","<a class='btn refresh-comment' data-linkid='"+a.data.link_id+"' data-id='"+a.data.id+"'><i class='fa fa-refresh fa-lg'></i></a>",0!=c?util.html.af(a,c):"","</div>",f,"</footer>"].join("")},af:function(a,c){return["<a data-name='"+
a.data.name+"' data-replylength='"+c+"' class='btn reply'>","<span class='reply-num text-warning'>"+c+"</span>","<span class='text-warning'>&nbsp;<i class='fa expand fa-plus-square'></i>&nbsp;</span></a>"].join("")},ag:function(a,c){return["<div class='media-heading btn-group'><a class='btn vote'><i class='fa fa-arrow-up'></i></a>","<a data-id='"+a.data.name+"' class='score btn'>"+a.data.score+"</a>","<a class='btn vote vote-last'><i class='fa fa-arrow-down'></i></a>","<a class='btn author' href='http://www.reddit.com/u/"+
a.data.author+"' target='_blank'>"+a.data.author+"</a>",a.data.author_flair_css_class?"<a class='flair btn'>"+a.data.author_flair_css_class+"</a>":"&nbsp;","</div>"+c].join("")},ah:function(a,c){return["<div class='load-comments' data-parent='"+a.data.parent_id+"' class='load-comments'>","<i class='fa fa-download'></i>&nbsp; load more comments","</div>"+c].join("")},ai:function(a){return"<div class='media-body'>"+a+"</div>"},aj:function(a,c){return"<div class='thumb pull-left "+(a?c:"")+"'></div>"},
ak:function(a,c,e,p,f,y,x){return["<div data-parentid='"+a.data.parent_id+"' data-linkid='"+a.data.link_id+"' ","data-icon='"+c+"' id='"+a.data.name+"' ","class='media"+(e?" parent ":x?" hide":"")+""+(p?" nopacity":"")+"'>"+f+y,"</div>"].join("")},al:function(){return'<li class="list-group-item"><div class="input-group"><input class="form-control" type="text"><span class="input-group-addon"><i class="fa fa-close"></i></span></div></li>'}}},app=function(a){function c(a){if(Storage)return JSON.parse(localStorage.getItem(a))}
function e(a,g){Storage&&localStorage.setItem(a,JSON.stringify(g))}function p(){a(document).pjax("a[data-pjax]","#pjax-container");a(document).on("pjax:send",function(){});a(document).on("pjax:end",function(){0<a("#listsjs").length?y():0<a("#blenddit").length?x():(a(".teams").hide(),a("#sidebarTrigger").hide(),a(".navbar-fixed-top").show(),a(".navbar-brand > .text-warning").text("kurtlocker.org"),a(".social").show())})}function f(){a("#sidebarTrigger").unbind("click").click(function(n){n.preventDefault();
a("#wrapper").toggleClass("toggled")})}function y(){0<a("#listsjs").length&&(f(),a("#sidebarTrigger").show(),a(".navbar-brand > .text-warning").text("[ l [ i [ s ] t ] s ]"),a("div.js").each(function(n,g){a(g).text(a(g).text().trim());hljs.highlightBlock(g)}),a(".sidebarFunc").unbind("click").click(function(){a(".sidebarFunc").removeClass("blue-dotted");a(this).addClass("blue-dotted");a(".nav-tabs").removeClass("blue-dotted");a("#function-"+a(this).attr("num")).addClass("blue-dotted");a("html, body").animate({scrollTop:a("#function-"+
a(this).attr("num")).offset().top-60},500);a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}),a("#page-content-wrapper").unbind("click").click(function(){a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}))}function x(){0<a("#blenddit").length&&(a(".teams").show(),a(".social").hide(),a(".navbar-fixed-top").hide(),a(".open-controls").unbind("click").click(function(){L()}),a("#delete-column").unbind("click").click(function(){util.fn.remove(q,a(this).data("column"));
J(a(this).data("column"));e("config",q);K();b()}),H(),w())}function H(){var n=a("#reddit-uri").data("subreddituri"),g=a("#reddit-uri").data("threadiduri");n&&g?ma(g,function(a){"undefined"!==typeof a.data.children&&Z(E(a.data.children))},void 0,I):n||I()}function I(){0<q.length?(K(),b()):s()}function E(a){var g={},b={},d=[];a.forEach(function(a){var g={};g.subid=a.data.subreddit_id;g.subreddit=("/r/"+a.data.subreddit).toLowerCase();g.thread=a.data.permalink;g.threadid=a.data.id;g.threadtitle=a.data.title;
d.push(g)});b.limitPosts="50";b.name=1==a.length?a[0].data.title.substring(0,15)+" ...":"My Column";b.refreshRate="60";b.sortBy="new";g.type="reddit";g.settings=b;g.threads=d;return g}function z(a,g,b){return{placement:a,title:g,content:b,trigger:"manual"}}function s(){var a;Object.keys(P).length?a=P:a={subs:"nfl nba mlb nhl mls hockey soccer".split(" "),match:["Game Thread","Match Thread","Live Thread"]};F(a);C(a.match);D();A();G();h()}function F(b){var g=b.match,c="",e="";b.subs.forEach(function(a,
g){c+=d(a,"input")});g.forEach(function(a,g){e+=d(a,"input")});a("#watch-subreddits .list-group.contain, #watch-matching .list-group.contain").children().remove();a("#watch-subreddits .list-group.contain").append(c);a("#watch-matching .list-group.contain").append(e)}function C(b){a("#watch-threads .list-group.contain").children().remove();a("#watch-subreddits input").each(function(g,c){Q("/r/"+c.value,"","",{target:b,callback:function(g,c){g.data.children.forEach(function(g,c){b.some(function(a){return RegExp(a.toLowerCase()).test(g.data.title.toLowerCase())})&&
a("#watch-threads .list-group.contain").append(d(g.data));B(a("#watch-threads .list-group-item"),100);l()})}})})}function D(){a("#watch-subreddits .input-group-addon, #watch-matching .input-group-addon").unbind("click").click(function(){a(this).parent().parent().remove()})}function G(){a("#watch-subreddits .btn.add").unbind("click").bind("click",function(){a("#watch-subreddits .list-group.contain").append(util.html.al);D()});a("#watch-matching .btn.add").unbind("click").bind("click",function(){a("#watch-matching .list-group.contain").append(util.html.al);
D()})}function h(){a("#watch-threads .btn.refresh").unbind("click").bind("click",function(){k();s()})}function A(){a("#watch-subreddits .btn.save, #watch-matching .btn.save, #watch-threads .btn.save").unbind("click").bind("click",function(){function b(g){return""!=a(g).val()}var g=a("#watch-subreddits .list-group.contain"),c=a("#watch-matching .list-group.contain");if(0!=g.children().length&&util.fn.any(g.find("input"),b)&&0!=c.children().length&&util.fn.any(c.find("input"),b)){if(k(),a(this).hasClass("wthreads"))if(util.fn.any("#watch-threads .list-group.contain li",
function(g){return a(g).hasClass("white")})){var d=[];a("#watch-threads .list-group.contain li.white").each(function(g,b){var c={},n={};n.subreddit_id=a(b).data("subid");n.subreddit=a(b).data("subreddit");n.permalink=a(b).data("thread");n.id=a(b).data("threadid");n.title=a(b).text();c.data=n;d.push(c)});Z(E(d));I()}else a("#watch-threads .list-group-item.controls").launchPopOver(3E3,z("top","Verification","Please select at least one thread from the list."))}else a("#watch-subreddits .list-group-item.controls, #watch-matching .list-group-item.controls, #watch-threads .list-group-item.controls").launchPopOver(3E3,
z("top","Verification","Verify you have one subreddit and one matching pattern added with values."))})}function k(){var b={};b.subs=function(){var g=[];a("#watch-subreddits .list-group.contain input").each(function(a,b){""!=b.value&&null!=b.value?g.push(b.value):""});return g}();b.match=function(){var g=[];a("#watch-matching .list-group.contain input").each(function(a,b){""!=b.value&&null!=b.value?g.push(b.value):""});return g}();P=b;e("watch",P)}function l(){a("#watch-threads .list-group-item").unbind("click").click(function(){a(this).hasClass("white")?
a(this).removeClass("white"):a(this).addClass("white")})}function d(a,g){return"input"==g?util.html.a(a):util.html.b(a,T(a.created_utc))}function w(){function b(){a(".frame-content").css("height",window.innerHeight-107);a(".frame-edit").css("height",window.innerHeight-115);a("#greeting").hasClass("hide")?a(".carousel-inner").css("height",window.innerHeight-50):a(".carousel-inner").removeAttr("style")}app.height=window.innerHeight;b();a(window).unbind("resize").bind("resize",function(){app.height!=
window.innerHeight&&(b(),app.height=window.innerHeight)})}function L(){oa();K();v();a("#save-changes").unbind("click").bind("click",function(){t();b()});a("#controlModal").unbind("hide.bs.modal").on("hide.bs.modal",function(b){a("#config-rows").children().remove()});a("#controlModal").modal()}function v(){B(a("a.white"),100);a("#reddit-logout").unbind("click").bind("click",function(){U("/reddit-logout",function(b,g,c){a("[data-reddituser]").data("reddituser",null);a(".config-account").children().remove();
a(".config-account").append(b);B(a("a.white"),100)})})}function u(){a("#reddit-block, #twitter-block").unbind("click").bind("click",function(){"reddit-block"==this.id&&(aa("#reddit","column-settings","sub-group-controls","subreddit-controls","thread-controls","delete-controls"),pa(),a("#vendor-group, #reddit").toggleClass("hide"))})}function t(){!a("#reddit").hasClass("hide")&&util.fn.any(".thread-controls",function(b){return null!=a(b).val()})&&(ba(".sub-group-controls",".subreddit-controls",".thread-controls",
"#reddit .column-settings"),K(),a("#cancel-column").trigger("click"))}function b(){a(".carousel-inner").children().remove();0==q.length?(a("#greeting").removeClass("hide"),0==a("#watch-threads .list-group.contain").children().length?s():""):a("#greeting").addClass("hide");w();for(var b=0,g=q.length;b<g;b++)S(q[b],b)}function O(b,g,c){var d=function(){for(var a=util.html.c("edit-button-group",[["add-thread-button","plus-circle"],["cancel-edit-button","close"],["save-edit-button","save"]]),c=0,d=b.threads.length;c<
d;c++)var e=util.html.d(g),na=util.html.e(),e=util.html.f(na,e),a=a+e;return a}(),e=function(){var b=util.html.c("edit-button-group",[["cancel-edit-button","close"],["save-edit-button","save"]]),d=a("<div>").append(a(".column-settings").children().clone().each(function(){var b=a(this).find("label"),d=a(this).find("*[id]");b.each(function(b,d){a(d).attr("for","column"==c?a(d).attr("for")+"-column-"+g:a(d).attr("for")+"-config-"+g)});d.each(function(b,d){a(d).attr("id","column"==c?a(d).attr("id")+"-column-"+
g:a(d).attr("id")+"-config-"+g)})})).html();return util.html.g(b+d)}();navTabs=util.html.h("column"==c?"column-"+g:"config-"+g,d,e);"column"==c?a(".edit-form[data-column="+g+"]").append(navTabs):a("#collapse"+g+" .panel-body").append(navTabs);d="column"==c?".edit-form[data-column="+g+"]":"#collapse"+g+" .panel-body";m(c,g);ca("delete-edit");aa(d+" #"+c+"-"+g+"-add","edit-button-group","subreddit-group-edit","subreddit-edit","thread-edit","delete-edit");ka(b,g);ja(b,g,c);r(c,g,b)}function r(b,g,c){"column"==
b?a("#column-name-column-"+g).val(c.settings.name):a("#column-name-config-"+g).val(c.settings.name);"column"==b?a("#refresh-column-"+g).val(c.settings.refreshRate):a("#refresh-config-"+g).val(c.settings.refreshRate);"column"==b?a("#limit-column-"+g).val(c.settings.limitPosts):a("#limit-config-"+g).val(c.settings.limitPosts);"column"==b?a("#sortBy-column-"+g).val(c.settings.sortBy):a("#sortBy-config-"+g).val(c.settings.sortBy)}function m(b,g){("column"==b?a(".edit-form[data-column="+g+"] .subreddit-edit"):
a("#collapse"+g+" .panel-body .subreddit-edit")).each(function(c,d){this.value=q[g].threads[c].subreddit;a(this).unbind("change").bind("change",function(){var c="column"==b?a(".edit-form[data-column="+g+"] .subreddit-group-edit").index(a(this).parent().parent()):a("#collapse"+g+" .panel-body .subreddit-group-edit").index(a(this).parent().parent());Q(this.value,"","",{target:"column"==b?[".edit-form .thread-edit",c,g]:["#collapse"+g+" .panel-body .thread-edit",c],callback:da})})})}function ja(b,g,
c){b="column"==c?".edit-form[data-column="+g+"]":"#collapse"+g+" .panel-body";var d=b+" #"+c+"-"+g+"-add",e=b+" #"+c+"-"+g+"-settings";a(b+" .save-edit-button").unbind("click").bind("click",function(){ba(d+" .subreddit-group-edit",".subreddit-edit",".thread-edit",e+" .edit-column-settings",g);K();S(q[g],g);X(g)})}function ka(b,g){a(".edit-form[data-column="+g+"] .cancel-edit-button").unbind("click").bind("click",function(){S(b,g);X(g)})}function S(b,g){a(".item[data-column="+g+"]").remove();var c=
util.html.i(g),d=util.html.j(g),e=util.html.k(g),c=util.html.l(g,b,d,e,c),c=util.html.m(c),c=util.html.n(g,b,c),c=util.html.o(g,c),d=a(".carousel-inner");0==g?0<d.children().length?a(c).insertBefore(".item:first"):d.append(c):a(c).insertAfter(a(".item[data-column="+(g-1)+"]"));la(g);O(b,g,"column");"reddit"==b.type&&(R(b,g),W(g));w();B(".frame-position[data-column="+g+"]",100)}function J(a){clearInterval(app["r"+a]);delete app["r"+a]}function W(b){J(b);a(".refreshSwitch[data-column="+b+"]").hasClass("fa-toggle-on")?
app["r"+b]=setInterval(function(){q[b]?R(q[b],b):clearInterval(app["r"+b])},1E3*parseInt(q[b].settings.refreshRate)):clearInterval(app["r"+b])}function la(b){a(".refreshSwitch[data-column="+b+"]").unbind("click").bind("click",function(){var b=a(this).data("column");a(this).toggleClass("fa-toggle-on fa-toggle-off");a(this).hasClass("fa-toggle-on")&&R(q[b],b);W(b)});a(".fa-edit[data-column="+b+"]").unbind("click").bind("click",function(){var b=a(this).data("column"),c=a(".frame-edit[data-column="+b+
"]"),d=a(".frame-content[data-column="+b+"]");c.hasClass("hide")?(c.removeClass("hide"),d.removeClass("faded").addClass("hide"),B(c,100),a(".edit-form[data-column="+b+"] .subreddit-group-edit").each(function(b,c){var g=a(this).find(".subreddit-edit").val(),d=a(this).find(".thread-edit").val();"default"!=g&&null==d&&a(this).find(".subreddit-edit").trigger("change")})):(c.removeClass("faded").addClass("hide"),d.removeClass("hide"),B(d,100))});a(".fa-close[data-column="+b+"]").unbind("click").bind("click",
function(){var b=a(this).data("column");a("#delete-column").data("column",b);a("#column-to-delete").text(q[b].settings.name);a("#delete-column-modal").modal()})}function X(b){a(".item").removeClass("active");a(".item[data-column="+b+"]").addClass("active")}function R(b,c){qa(c);for(var d=[],e=0,f=b.threads.length;e<f;e++)Q(b.threads[e].thread,b.settings.sortBy,b.settings.limitPosts,{target:c,timeout:".frame[data-column="+c+"]",callback:function(b,e){d=d.concat([b.concat(e)]);if(q[e].threads&&q[e].threads.length==
d.length){var n=ra(d);0==a(".frame-content[data-column="+c+"]").children().length&&0<n[1].data.children.length&&Y(n[1].data.children[0].data.name,e);sa(n,e);ea(e)}}})}function Y(a,b){"undefined"!==typeof a&&(app["firstComment"+b]=a)}function K(){if(0<q.length){a("#current-config").removeClass("hide");var b=a("#accordion"),c="";b.children().remove();for(var d=0,e=q.length;d<e;d++)var f=util.html.p(d,q[d]),h=util.html.q(d),f=util.html.r(f,h),c=c+f;b.append(c);a("#accordion .panel").each(function(b,
c){B(a(c),500)});q.forEach(function(a,b){O(a,b,"config")})}else a("#current-config").removeClass("hide").addClass("hide")}function ba(b,c,d,f,h){var M={},k={},l=[];b=a(b);f=a(f).find(".form-control");var m="undefined"!==typeof h&&"reddit"==a(".frame-position[data-column="+h+"]").data("type")||!a("#reddit").hasClass("hide")?"reddit":"twitter";b.each(function(b,e){if(a(e).find(d).val()){var f={},n=a(e).find(d+" option:selected");f.subreddit=a(e).find(c).val();f.thread=a(e).find(d).val();f.threadid=
n.data("threadid");f.threadtitle=n.data("threadtitle");f.subid=n.data("subid");l.push(f)}});0<b.length&&util.fn.any(b.find(d),function(b){return null!=a(b).val()})&&(M.threads=l,k.name=f[0].value,k.refreshRate=f[1].value,k.limitPosts=f[2].value,k.sortBy=f[3].value,M.settings=k,M.type=m,"undefined"!==typeof h?q[h]=M:q=q.concat(M),e("config",q))}function Z(a){q=q.concat(a);e("config",q)}function pa(){a("#cancel-column").unbind("click").bind("click",function(){a(".sub-group-controls").remove();a("#add-a-column, #reddit").toggleClass("hide");
a("#helpBlock-1").hasClass("hide")&&a("#add-button, .add-thread-button, [id^=helpBlock-], .fa-arrow-circle-right, .sub-group-controls, .column-settings").toggleClass("hide")})}function aa(b,c,d,e,f,h){a(b+" .add-thread-button").unbind("click").click(function(){var k=util.html.s(f),l=util.html.t(h,e),k=util.html.u(d,l,k);a(k).insertAfter(b+" ."+c);a(b+" ."+e+":first").unbind("change").bind("change",function(){var b=a("."+d).index(a(this).parent().parent());Q(this.value,"","",{target:["."+f,b],callback:da})});
B("."+d,100);ca(h)})}function ca(b){a("."+b).unbind("click").bind("click",function(){a(this).parent().parent().parent().remove()})}function oa(){a("#add-a-column").unbind("click").bind("click",function(){a(this).removeClass("hide").addClass("hide");a("#vendor-group").removeClass("hide");u()})}function da(b,c){var d="undefined"!==typeof c[2]?a(a(c[0]+"[data-column="+c[2]+"]")[c[1]]):a(a(c[0])[c[1]]);d.children().remove();b.data.children.forEach(function(a,b){d.append(util.html.v(a))});if(0<q.length&&
"undefined"!==typeof c[2]){var e=q[c[2]].threads[c[1]];0==d.find("option[data-threadid="+e.threadid+"]").length&&e.subid==d.find("option:selected").data("subid")&&d.append(util.html.w(e));d.find("option[data-threadid="+e.threadid+"]").prop("selected",!0)}}function qa(b){a(".frame-overlay[data-column="+b+"]").addClass("half-fade");a(".loading[data-column="+b+"]").addClass("faded")}function ea(b){a(".frame-overlay[data-column="+b+"]").removeClass("half-fade");a(".loading[data-column="+b+"]").removeClass("faded")}
function B(b,c){setTimeout(function(){a(b).addClass("faded")},c)}function ta(a,b,c){c=util.html.x();a=util.html.y(a);b=util.html.z(b);return util.html.aa(a,b,c)}function ua(){a(".reply-switch").unbind("click").bind("click",function(){var b=a(this).parent().parent().find(".reply-form");b.hasClass("hide")?(b.removeClass("hide"),b.find("form").removeClass("hide"),b.find(".submitting").removeClass("faded").addClass("hide"),B(b,100)):b.removeClass("faded").addClass("hide")});a(".save-reply").unbind("click").click(function(){function b(c,
d,g){c&&c.needsLogin?a("#login-reddit-modal").modal():c.statusCode?console.log(c.statusCode):c.json&&0<c.json.errors.length?console.log(c.json.errors):(c=c.json.data.things,a(N(c,!0)).insertAfter("#"+c[0].data.parent_id+" .comment-footer:first"),a("#"+c[0].data.parent_id+" .fa-reply:first").trigger("click"),V(),B(a("#"+c[0].data.name),100))}function c(a,b,d){console.log(b)}var d=this.form.thing_id.value,e=this.form.text.value,f=a(this.form.previousSibling);0!=e.length&&(a(this.form).addClass("hide"),
B(f.removeClass("hide"),100),fa("/save-reddit-reply",{thing_id:d,text:e},b,c))});a(".textarea-reply").unbind("focus").bind("focus",function(){a("[data-reddituser]").data("reddituser")||fa("/check-login",{},function(b,c,d){b&&b.needsLogin&&a("#login-reddit-modal").modal()})});a(".cancel-reply").unbind("click").click(function(){console.log("shut it down!")})}function V(){a(".md a").each(function(b,c){a(c).attr("target","_blank");"/u/"==a(c).attr("href").substring(0,3)||"/r/"==a(c).attr("href").substring(0,
3)?a(c).attr("href","http://www.reddit.com"+a(c).attr("href")):""});ua();va();wa()}function sa(b,c){var d=a(".frame-content[data-column="+c+"]");if(d.children().length){d=app["firstComment"+c];if(d!=b[1].data.children[0].data.name){var e=util.fn.takeWhile(b[1].data.children,d,function(a,b){return a.data.name!=b});a(N(e,!0,!0)).insertBefore(".frame-content[data-column="+c+"] #"+d);e.forEach(function(b){B(a("#"+b.data.name),500)});a(".frame-overlay[data-column="+c+"]").launchPopOver(3E3,z("bottom",
"",e.length+" new comments!"));Y(b[1].data.children[0].data.name,c)}ha(b[1].data.children)}else d.append(N(b[1].data.children,!1,!0)),B(d,1E3);V()}function ha(b){b.forEach(function(b){var c="more"!=b.kind&&b.data.replies.hasOwnProperty("data")?b.data.replies.data.children:[],d=c.length,e="#"+b.data.name+" .comment-footer[data-id="+b.data.name+"]";"undefined"!==typeof b.data.created_utc?a(e+" .time-elapsed").text(T(b.data.created_utc)):"";"undefind"!==typeof b.data.score?a(".score[data-id="+b.data.name+
"]").text(b.data.score):"";b=b.data.name;var f=a("#"+b+" .media[data-parentid="+b+"]"),h=a(e+" .reply"),k=a(e+" .reply .reply-num"),n=d-f.length,l=util.html.ab(n),m=util.html.ac(d);0<d&&0<h.length?(h.data("replylength",d),k.text(d),0<n&&0==a(e+" .new-comment").length?a(l).insertAfter(e+" .reply"):(!a("footer[data-id="+b+"] .reply").children().length&&0<f.length&&(a("footer[data-id="+b+"] .reply").append(m),a("footer[data-id="+b+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square")),a(e+
" .new-comment .diff").text(n+" new")),ia(e+" .new-comment")):0<d&&(d=util.html.ad(b,d),a(d).insertAfter(e+" .refresh-comment"),0<n&&(a(l).insertAfter(e+" .reply"),ia(e+" .new-comment")),f.hasClass("faded")&&(a("footer[data-id="+b+"] .reply").append(m),a("footer[data-id="+b+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square")));ha(c)})}function ia(b){a(b).unbind("click").bind("click",function(){a(this).parent().parent().find(".refresh-comment").trigger("click")})}function N(b,c,d,e){b=
b||[];var f="";b.forEach(function(b,h){var k="more"!=b.kind&&b.data.replies.hasOwnProperty("data")?b.data.replies.data.children:[],n=k.length,n="more"!=b.kind?util.html.ae(b,n,T(b.data.created_utc),"http://www.reddit.com/comments/"+b.data.link_id.substr(3)+"/_/"+b.data.id,ta(b.data.name,b.data.author)):"",k=a("<div/>").html(b.data.body_html).text()+n+N(k,!0,!1,!0),k="more"!=b.kind?util.html.ag(b,k):util.html.ah(b,k),k=util.html.ai(k),n="more"!=b.kind?util.html.aj(d,"icon-"+b.data.subreddit):"",k=
util.html.ak(b,"icon-"+b.data.subreddit,d,c,n,k,e);f+=k});return f}function wa(){a(".reply").unbind("click").click("click",function(){var b=a(this).data("name"),b=a("#"+b+" .media[data-parentid="+b+"]"),c=a(this).find(".expand");c.hasClass("fa-plus-square")?(c.removeClass("fa-plus-square").addClass("fa-minus-square"),B(b.removeClass("hide"),100)):(c.removeClass("fa-minus-square").addClass("fa-plus-square"),b.removeClass("faded").addClass("hide"))})}function va(){a(".refresh-comment, .load-comments").unbind("click").bind("click",
function(){var b=a(this).data("linkid"),c=a(this).data("id")?a(this).data("id"):a("#"+a(this).data("parent")).attr("id").substr(3),d=a("#t1_"+c).hasClass("parent");xa(b?b:a("#"+a(this).data("parent")).data("linkid"),c,function(b){b=N(b[1].data.children);a("#t1_"+c).replaceWith(b);d&&(a("#t1_"+c).addClass("parent"),a("#t1_"+c).children(":first").addClass(a("#t1_"+c).data("icon")));a("footer[data-id=t1_"+c+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square");a("#t1_"+c+" .media[data-parentid="+
a("#t1_"+c).attr("id")+"]").removeClass("hide").addClass("faded");a("#t1_"+c).addClass("nopacity");B(a("#t1_"+c),100);V()})})}function ma(a,b,c,d){U("http://www.reddit.com/by_id/t3_"+a+".json",b,c,d)}function xa(a,b,c,d,e){U("http://www.reddit.com/comments/"+a.substr(3)+"/_/"+b+".json?sort=new",c,d,e)}function T(a){if(a){var b=new Date(1E3*a),c=(new Date).getTime(),d=c-b.getTime(),e=Math.floor(d/864E5),d=d-864E5*e,f=Math.floor(d/36E5),d=d-36E5*f,h=Math.floor(d/6E4),d=Math.floor((d-6E4*h)/1E3);return 0!=
!e||0>=e?0==e&&0==!f?f+"h":0==e&&0==f&&0==!h?h+"m":0==e&&0==f&&0==h&&0==!d?d+"s":1E3>c-1E3*a?"1s":b.toLocaleTimeString():e+"d"}}function ra(a){var b=[];a.forEach(function(a,c){0<a.length&&(b=b.concat(a[1].data.children))});b=b.filter(function(a){if("more"!=a.kind)return a}).sort(ya);a[0][1].data.children=b;return a[0]}function ya(a,b){return"more"!=a.kind&&"more"==b.kind?1:"more"==a.kind&&"more"!=b.kind?-1:a.data.created_utc<b.data.created_utc?1:a.data.created_utc>b.data.created_utc?-1:0}function U(b,
c,d,e){a.ajax({url:b,type:"GET",timeout:7E3,cache:!1}).done(function(a,b,d){c&&c(a,b,d)}).fail(function(a,b,c){d&&d(a,b,c)}).always(function(){e&&e()})}function fa(b,c,d,e,f){a.ajax({url:b,type:"POST",timeout:7E3,data:c,cache:!1}).done(function(a,b,c){d&&d(a,b,c)}).fail(function(a,b,c){e&&e(a,b,c)}).always(function(){f&&f()})}function Q(b,c,d,e){a.ajax({url:"http://www.reddit.com"+b+"/.json?sort="+c+"&limit="+d+"&jsonp=?",dataType:"json",timeout:7E3,cache:!1}).done(function(a,b,c){e.callback(a,e.target)}).fail(function(c,
d,f){"timeout"==f?"undefined"!==typeof e.timeout&&a(e.timeout).launchPopOver(5E3,z("bottom","Servers Busy","Reddit servers are busy.")):console.log(f+": error retrieving - "+b);ea(e.target)}).always(function(){e.always&&e.always(e.target)})}var q=localStorage.getItem("config")?c("config"):[],P=localStorage.getItem("watch")?c("watch"):{};return{init:function(){p();y();x()}}}(jQuery);$(document).ready(function(){app.init()});(function(a,c,e,p,f,y,x){a.GoogleAnalyticsObject=f;a[f]=a[f]||function(){(a[f].q=a[f].q||[]).push(arguments)};a[f].l=1*new Date;y=c.createElement(e);x=c.getElementsByTagName(e)[0];y.async=1;y.src=p;x.parentNode.insertBefore(y,x)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-57745225-1","auto");ga("send","pageview");
