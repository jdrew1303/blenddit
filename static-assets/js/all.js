(function(a){function b(d,q,e){var b=this;return this.on("click.pjax",d,function(d){var k=a.extend({},v(q,e));k.container||(k.container=a(this).attr("data-pjax")||b);l(d,k)})}function l(d,q,e){e=v(q,e);q=d.currentTarget;if("A"!==q.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<d.which||d.metaKey||d.ctrlKey||d.shiftKey||d.altKey||location.protocol!==q.protocol||location.hostname!==q.hostname||q.hash&&q.href.replace(q.hash,"")===location.href.replace(location.hash,
"")||q.href===location.href+"#")){var b={url:q.href,container:a(q).attr("data-pjax"),target:q};e=a.extend({},b,e);b=a.Event("pjax:click");a(q).trigger(b,[e]);b.isDefaultPrevented()||(f(e),d.preventDefault(),a(q).trigger("pjax:clicked",[e]))}}function m(d,e,b){b=v(e,b);e=d.currentTarget;if("FORM"!==e.tagName.toUpperCase())throw"$.pjax.submit requires a form element";e={type:e.method.toUpperCase(),url:e.action,data:a(e).serializeArray(),container:a(e).attr("data-pjax"),target:e};f(a.extend({},e,b));
d.preventDefault()}function f(d){function e(d,k){var q=a.Event(d,{relatedTarget:b});s.trigger(q,k);return!q.isDefaultPrevented()}d=a.extend(!0,{},a.ajaxSettings,f.defaults,d);a.isFunction(d.url)&&(d.url=d.url());var b=d.target,t=G(d.url).hash,s=d.context=K(d.container);d.data||(d.data={});d.data._pjax=s.selector;var p;d.beforeSend=function(a,b){"GET"!==b.type&&(b.timeout=0);a.setRequestHeader("X-PJAX","true");a.setRequestHeader("X-PJAX-Container",s.selector);if(!e("pjax:beforeSend",[a,b]))return!1;
0<b.timeout&&(p=setTimeout(function(){e("pjax:timeout",[a,d])&&a.abort("timeout")},b.timeout),b.timeout=0);d.requestUrl=G(b.url).href};d.complete=function(a,b){p&&clearTimeout(p);e("pjax:complete",[a,b,d]);e("pjax:end",[a,d])};d.error=function(a,b,k){var s=H("",a,d);a=e("pjax:error",[a,b,k,d]);"GET"==d.type&&("abort"!==b&&a)&&B(s.url)};d.success=function(b,k,n){var h="function"===typeof a.pjax.defaults.version?a.pjax.defaults.version():a.pjax.defaults.version,p=n.getResponseHeader("X-PJAX-Version"),
x=H(b,n,d);if(h&&p&&h!==p)B(x.url);else if(x.contents){f.state={id:d.id||(new Date).getTime(),url:x.url,title:x.title,container:s.selector,fragment:d.fragment,timeout:d.timeout};(d.push||d.replace)&&window.history.replaceState(f.state,x.title,x.url);try{document.activeElement.blur()}catch(l){}x.title&&(document.title=x.title);s.html(x.contents);(h=s.find("input[autofocus], textarea[autofocus]").last()[0])&&document.activeElement!==h&&h.focus();D(x.scripts);"number"===typeof d.scrollTo&&a(window).scrollTop(d.scrollTo);
""!==t&&(h=G(x.url),h.hash=t,f.state.url=h.href,window.history.replaceState(f.state,x.title,h.href),x=a(h.hash),x.length&&a(window).scrollTop(x.offset().top));e("pjax:success",[b,k,n,d])}else B(x.url)};f.state||(f.state={id:(new Date).getTime(),url:window.location.href,title:document.title,container:s.selector,fragment:d.fragment,timeout:d.timeout},window.history.replaceState(f.state,document.title));var h=f.xhr;h&&4>h.readyState&&(h.onreadystatechange=a.noop,h.abort());f.options=d;h=f.xhr=a.ajax(d);
0<h.readyState&&(d.push&&!d.replace&&(k(f.state.id,s.clone().contents()),window.history.pushState(null,"",I(d.requestUrl))),e("pjax:start",[h,d]),e("pjax:send",[h,d]));return f.xhr}function u(d,e){return f(a.extend({url:window.location.href,push:!1,replace:!0,scrollTo:!1},v(d,e)))}function B(a){window.history.replaceState(null,"","#");window.location.replace(a)}function L(d){if((d=d.state)&&d.container){if(e&&R==d.url||f.state&&f.state.id===d.id)return;var b=a(d.container);if(b.length){var k,s=z[d.id];
if(f.state){var h=k=f.state.id<d.id?"forward":"back",p=f.state.id,l=b.clone().contents();z[p]=l;"forward"===h?(h=w,l=y):(h=y,l=w);h.push(p);(p=l.pop())&&delete z[p]}k=a.Event("pjax:popstate",{state:d,direction:k});b.trigger(k);k={id:d.id,url:d.url,container:b,push:!1,fragment:d.fragment,timeout:d.timeout,scrollTo:!1};s?(b.trigger("pjax:start",[null,k]),d.title&&(document.title=d.title),b.html(s),f.state=d,b.trigger("pjax:end",[null,k])):f(k);b[0].offsetHeight}else B(location.href)}e=!1}function J(d){var e=
a.isFunction(d.url)?d.url():d.url,b=d.type?d.type.toUpperCase():"GET",k=a("<form>",{method:"GET"===b?"GET":"POST",action:e,style:"display:none"});"GET"!==b&&"POST"!==b&&k.append(a("<input>",{type:"hidden",name:"_method",value:b.toLowerCase()}));d=d.data;if("string"===typeof d)a.each(d.split("&"),function(d,b){var e=b.split("=");k.append(a("<input>",{type:"hidden",name:e[0],value:e[1]}))});else if("object"===typeof d)for(key in d)k.append(a("<input>",{type:"hidden",name:key,value:d[key]}));a(document.body).append(k);
k.submit()}function I(a){return a.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function G(a){var b=document.createElement("a");b.href=a;return b}function v(d,b){d&&b?b.container=d:b=a.isPlainObject(d)?d:{container:d};b.container&&(b.container=K(b.container));return b}function K(d){d=a(d);if(d.length){if(""!==d.selector&&d.context===document)return d;if(d.attr("id"))return a("#"+d.attr("id"));throw"cant get selector for pjax container!";}throw"no pjax container for "+
d.selector;}function C(d){return a.parseHTML(d,document,!0)}function H(d,b,e){var k={};k.url=I(b.getResponseHeader("X-PJAX-URL")||e.requestUrl);if(/<html/i.test(d)){b=a(C(d.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));var h=a(C(d.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else b=h=a(C(d));if(0===h.length)return k;k.title=b.filter("title").add(b.find("title")).last().text();e.fragment?(d="body"===e.fragment?h:h.filter(e.fragment).add(h.find(e.fragment)).first(),d.length&&(k.contents=d.contents(),
k.title||(k.title=d.attr("title")||d.data("title")))):/<html/i.test(d)||(k.contents=h);k.contents&&(k.contents=k.contents.not(function(){return a(this).is("title")}),k.contents.find("title").remove(),k.scripts=k.contents.filter("script[src]").add(k.contents.find("script[src]")).remove(),k.contents=k.contents.not(k.scripts));k.title&&(k.title=a.trim(k.title));return k}function D(d){if(d){var b=a("script[src]");d.each(function(){var d=this.src;if(!b.filter(function(){return this.src===d}).length){var e=
document.createElement("script");e.type=a(this).attr("type");e.src=a(this).attr("src");document.head.appendChild(e)}})}}function k(a,b){z[a]=b;for(w.push(a);y.length;)delete z[y.shift()];for(;w.length>f.defaults.maxCacheLength;)delete z[w.shift()]}function s(){return a("meta").filter(function(){var d=a(this).attr("http-equiv");return d&&"X-PJAX-VERSION"===d.toUpperCase()}).attr("content")}function p(){a.fn.pjax=b;a.pjax=f;a.pjax.enable=a.noop;a.pjax.disable=h;a.pjax.click=l;a.pjax.submit=m;a.pjax.reload=
u;a.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:s};a(window).on("popstate.pjax",L)}function h(){a.fn.pjax=function(){return this};a.pjax=J;a.pjax.enable=p;a.pjax.disable=a.noop;a.pjax.click=a.noop;a.pjax.submit=a.noop;a.pjax.reload=function(){window.location.reload()};a(window).off("popstate.pjax",L)}var e=!0,R=window.location.href,S=window.history.state;S&&S.container&&(f.state=S);"state"in window.history&&(e=!1);var z={},y=[],w=[];
0>a.inArray("state",a.event.props)&&a.event.props.push("state");a.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/);a.support.pjax?p():h()})(jQuery);var hljs=new function(){function a(a){return a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function b(a,b){var p=a&&a.exec(b);return p&&0==p.index}function l(a){a=(a.className+" "+(a.parentNode?a.parentNode.className:"")).split(/\s+/);a=a.map(function(a){return a.replace(/^lang(uage)?-/,"")});return a.filter(function(a){return K(a)||/no(-?)highlight/.test(a)})[0]}function m(a,b){var p={},h;for(h in a)p[h]=a[h];if(b)for(h in b)p[h]=b[h];return p}function f(a){var b=[];(function h(a,
k){for(var f=a.firstChild;f;f=f.nextSibling)3==f.nodeType?k+=f.nodeValue.length:1==f.nodeType&&(b.push({event:"start",offset:k,node:f}),k=h(f,k),f.nodeName.toLowerCase().match(/br|hr|img|input/)||b.push({event:"stop",offset:k,node:f}));return k})(a,0);return b}function u(b,f,p){function h(){return b.length&&f.length?b[0].offset!=f[0].offset?b[0].offset<f[0].offset?b:f:"start"==f[0].event?b:f:b.length?b:f}function e(d){y+="<"+d.nodeName.toLowerCase()+Array.prototype.map.call(d.attributes,function(d){return" "+
d.nodeName+'="'+a(d.value)+'"'}).join("")+">"}function l(a){y+="</"+a.nodeName.toLowerCase()+">"}function m(a){("start"==a.event?e:l)(a.node)}for(var z=0,y="",w=[];b.length||f.length;){var d=h(),y=y+a(p.substr(z,d[0].offset-z)),z=d[0].offset;if(d==b){w.reverse().forEach(l);do m(d.splice(0,1)[0]),d=h();while(d==b&&d.length&&d[0].offset==z);w.reverse().forEach(e)}else"start"==d[0].event?w.push(d[0].node):w.pop(),m(d.splice(0,1)[0])}return y+a(p.substr(z))}function B(a){function b(a){return a&&a.source||
a}function f(e,h){return RegExp(b(e),"m"+(a.cI?"i":"")+(h?"g":""))}function h(e,l){if(!e.compiled){e.compiled=!0;e.k=e.k||e.bK;if(e.k){var u={},z=function(d,b){a.cI&&(b=b.toLowerCase());b.split(" ").forEach(function(a){a=a.split("|");u[a[0]]=[d,a[1]?Number(a[1]):1]})};"string"==typeof e.k?z("keyword",e.k):Object.keys(e.k).forEach(function(a){z(a,e.k[a])});e.k=u}e.lR=f(e.l||/\b[A-Za-z0-9_]+\b/,!0);l&&(e.bK&&(e.b="\\b("+e.bK.split(" ").join("|")+")\\b"),e.b||(e.b=/\B|\b/),e.bR=f(e.b),e.e||e.eW||(e.e=
/\B|\b/),e.e&&(e.eR=f(e.e)),e.tE=b(e.e)||"",e.eW&&l.tE&&(e.tE+=(e.e?"|":"")+l.tE));e.i&&(e.iR=f(e.i));void 0===e.r&&(e.r=1);e.c||(e.c=[]);var y=[];e.c.forEach(function(a){a.v?a.v.forEach(function(b){y.push(m(a,b))}):y.push("self"==a?e:a)});e.c=y;e.c.forEach(function(a){h(a,e)});e.starts&&h(e.starts,l);var w=e.c.map(function(a){return a.bK?"\\.?("+a.b+")\\.?":a.b}).concat([e.tE,e.i]).map(b).filter(Boolean);e.t=w.length?f(w.join("|"),!0):{exec:function(a){return null}}}}h(a)}function L(k,f,l,h){function e(a,
d){if(b(a.eR,d))return a;if(a.eW)return e(a.parent,d)}function m(a,d,b,e){e='<span class="'+(e?"":C.classPrefix);return e+(a+'">')+d+(b?"":"</span>")}function u(){var b;if(void 0!==d.sL)d.sL&&!H[d.sL]?b=a(t):(b=d.sL?L(d.sL,t,!0,q):J(t),0<d.r&&(A+=b.r),"continuous"==d.subLanguageMode&&(q=b.top),b=m(b.language,b.value,!1,!0));else if(d.k){b="";var e=0;d.lR.lastIndex=0;for(var k=d.lR.exec(t);k;){b+=a(t.substr(e,k.index-e));var e=d,f=k,f=w.cI?f[0].toLowerCase():f[0];(e=e.k.hasOwnProperty(f)&&e.k[f])?
(A+=e[1],b+=m(e[0],a(k[0]))):b+=a(k[0]);e=d.lR.lastIndex;k=d.lR.exec(t)}b+=a(t.substr(e))}else b=a(t);return b}function z(b,e){var k=b.cN?m(b.cN,"",!0):"";b.rB?(n+=k,t=""):b.eB?(n+=a(e)+k,t=""):(n+=k,t=e);d=Object.create(b,{parent:{value:d}})}function y(k,f){t+=k;if(void 0===f)return n+=u(),0;var h;a:{h=d;for(var m=0;m<h.c.length;m++)if(b(h.c[m].bR,f)){h=h.c[m];break a}h=void 0}if(h)return n+=u(),z(h,f),h.rB?0:f.length;if(h=e(d,f)){m=d;m.rE||m.eE||(t+=f);n+=u();do d.cN&&(n+="</span>"),A+=d.r,d=d.parent;
while(d!=h.parent);m.eE&&(n+=a(f));t="";h.starts&&z(h.starts,"");return m.rE?0:f.length}if(!l&&b(d.iR,f))throw Error('Illegal lexeme "'+f+'" for mode "'+(d.cN||"<unnamed>")+'"');t+=f;return f.length||1}var w=K(k);if(!w)throw Error('Unknown language: "'+k+'"');B(w);var d=h||w,q,n="";for(h=d;h!=w;h=h.parent)h.cN&&(n=m(h.cN,"",!0)+n);var t="",A=0;try{for(var v,G,D=0;;){d.t.lastIndex=D;v=d.t.exec(f);if(!v)break;G=y(f.substr(D,v.index-D),v[0]);D=v.index+G}y(f.substr(D));for(h=d;h.parent;h=h.parent)h.cN&&
(n+="</span>");return{r:A,value:n,language:k,top:d}}catch(I){if(-1!=I.message.indexOf("Illegal"))return{r:0,value:a(f)};throw I;}}function J(b,f){f=f||C.languages||Object.keys(H);var l={r:0,value:a(b)},h=l;f.forEach(function(a){if(K(a)){var f=L(a,b,!1);f.language=a;f.r>h.r&&(h=f);f.r>l.r&&(h=l,l=f)}});h.language&&(l.second_best=h);return l}function I(a){C.tabReplace&&(a=a.replace(/^((<[^>]+>|\t)+)/gm,function(a,b,f,e){return b.replace(/\t/g,C.tabReplace)}));C.useBR&&(a=a.replace(/\n/g,"<br>"));return a}
function G(a){var b=l(a);if(!/no(-?)highlight/.test(b)){var m;C.useBR?(m=document.createElementNS("http://www.w3.org/1999/xhtml","div"),m.innerHTML=a.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):m=a;var h=m.textContent,e=b?L(b,h,!0):J(h);m=f(m);if(m.length){var v=document.createElementNS("http://www.w3.org/1999/xhtml","div");v.innerHTML=e.value;e.value=u(m,f(v),h)}e.value=I(e.value);a.innerHTML=e.value;a.className+=" hljs "+(!b&&e.language||"");a.result={language:e.language,re:e.r};e.second_best&&
(a.second_best={language:e.second_best.language,re:e.second_best.r})}}function v(){if(!v.called){v.called=!0;var a=document.querySelectorAll("pre code");Array.prototype.forEach.call(a,G)}}function K(a){return H[a]||H[D[a]]}var C={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},H={},D={};this.highlight=L;this.highlightAuto=J;this.fixMarkup=I;this.highlightBlock=G;this.configure=function(a){C=m(C,a)};this.initHighlighting=v;this.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",
v,!1);addEventListener("load",v,!1)};this.registerLanguage=function(a,b){var f=H[a]=b(this);f.aliases&&f.aliases.forEach(function(b){D[b]=a})};this.listLanguages=function(){return Object.keys(H)};this.getLanguage=K;this.inherit=m;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";
this.BE={b:"\\\\[\\s\\S]",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]};this.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/};this.CLCM={cN:"comment",b:"//",e:"$",c:[this.PWM]};this.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[this.PWM]};this.HCM={cN:"comment",b:"#",e:"$",c:[this.PWM]};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM=
{cN:"number",b:this.BNR,r:0};this.CSSNM={cN:"number",b:this.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0};this.RM={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]};this.TM={cN:"title",b:this.IR,r:0};this.UTM={cN:"title",b:this.UIR,r:0}};
hljs.registerLanguage("javascript",function(a){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"},
c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},a.ASM,a.QSM,a.CLCM,a.CBCM,a.CNM,{b:"("+a.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[a.CLCM,a.CBCM,a.RM,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[a.inherit(a.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[a.CLCM,a.CBCM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+a.IR,r:0}]}});var util={fn:{remove:function(a,b,l){l=a.slice((l||b)+1||a.length);a.length=0>b?a.length+b:b;return a.push.apply(a,l)},takeWhile:function(a,b,l){for(var m=[],f=0,u=a.length;f<u;f++)if(l(a[f],b))m.push(a[f]);else break;return m},any:function(a,b){var l=!1;$(a).each(function(a,f){b(f)&&(l=!0)});return l},setCookie:function(a,b){document.cookie=a+"="+b+";"},getCookie:function(a){a+="=";for(var b=document.cookie.split(";"),l=0;l<b.length;l++){for(var m=b[l];" "==m.charAt(0);)m=m.substring(1);if(0==m.indexOf(a))return m.substring(a.length,
m.length)}return""},cookieExists:function(a){return util.fn.getCookie(a)?!0:!1},brokenImage:function(a){$(a).parents(".media a").empty().append(util.html.ap())},getFromCookie:function(a){return JSON.parse(util.fn.getCookie(a))},setInCookie:function(a,b){util.fn.setCookie(a,JSON.stringify(b))},jQueryExtensions:function(){$.fn.launchPopOver=function(a,b){if(!/popover/.test($(this).attr("aria-describedby"))){var l=this;$(this).popover("destroy");$(this).popover(b);$(this).popover("show");setTimeout(function(){$(l).popover("destroy")},
a);return this}};$.fn.hasOverflowed=function(){return 0<this.length?this[0].scrollHeight>this[0].clientHeight||this[0].scrollWidth>this[0].clientWidth:!1}}()},html:{a:function(a){return["<li class='list-group-item'><div class='input-group'>","<input class='form-control' type='text' value='"+a+"'></input>","<span class='input-group-addon'><i class='fa fa-close'></i></span></div></li>"].join("")},b:function(a,b){return["<li data-subid="+a.subreddit_id+" data-subreddit="+a.subreddit+" data-thread="+
a.permalink," data-threadid="+a.id+" class='list-group-item nopacity'>",a.title," <span class='text-primary'>in /r/"+a.subreddit+"</span>","<span class='badge pull-right'>"+b+"</span>","</li>"].join("")},c:function(a,b){var l=function(){var a="";b.forEach(function(b){a+="<a class='btn "+b[0]+"'><i class='fa fa-"+b[1]+" fa-2x'></i></a>"});return a}();return["<ul class='list-group controls "+a+"'>","<li class='list-group-item controls'><div class='btn-group'>",l,"</div></li></ul>"].join("")},d:function(a){return["<div class='form-group'><label class='control-label label-width'>Threads <span class='info-edit label label-default pull-right'>Info</span></label>",
"<select data-column='"+a+"' class='form-control thread-edit'></select>","</div>"].join("")},e:function(){return"<div class='form-group'><label class='control-label label-width'>Subreddit <span class='label label-danger delete-edit pull-right'>Delete</span></label><input type='text' class='form-control subreddit-edit' placeholder='Enter a subreddit'></div>"},f:function(a,b){return"<div class='subreddit-group-edit'>"+a+b+"</div>"},g:function(a){return["<form action='javascript:void(0);' class='edit-column-settings'>"+
a,"<input type='submit' class='hide'></form>"].join("")},h:function(a,b,l,m){return['<ul class="nav nav-tabs">','<li class="active"><a href="#'+a+'-add" data-toggle="tab">Add</a></li>','<li><a data-toggle="tab" href="#'+a+'-settings">Settings</a></li>',m?'<li class="post-tab"><a data-toggle="tab" href="#'+a+'-post">Post</a></li>':"",'</ul><div class="tab-content">','<div class="tab-pane fade active in" id="'+a+'-add">'+b+"</div>",'<div class="tab-pane fade" id="'+a+'-settings">'+l+"</div>",m?'<div class="tab-pane fade" id="'+
a+'-post">'+m+"</div>":"","</div>"].join("")},i:function(a){return"<div data-column='"+a+"' class='frame-content nopacity'></div>"},j:function(a){return["<div data-column='"+a+"' class='btn-group column-bars'>","<a class='btn'>","<i data-column='"+a+"' class='fa fa-bars fa-lg'></i>","</a></div>"].join("")},l:function(a,b,l,m){return["<i data-column='"+a+"' class='nopacity loading fa fa-refresh fa-spin fa-2x'></i>","<div class='frame-overlay' data-column='"+a+"'>","<div data-column='"+a+"' class='frame'>",
"<h6 class='frame-header'>"+("reddit"==b.type?"<i class='fa fa-reddit fa-lg'></i> ":"<i class='fa fa-twitter'></i> ")+b.settings.name,"</h6>",l,"</div>","</div>"+util.html.p(a)+m].join("")},m:function(a){return"<div class='frame-container'>"+a+"</div>"},n:function(a,b,l){return"<div data-column='"+a+"' data-type='"+b.type+"' class='frame-position nopacity'>"+l+"</div>"},o:function(a,b){return"<div data-column='"+a+"' class='item "+(0==a?"active":"")+"'>"+b+"</div>"},p:function(a){return['<div data-column="'+
a+'" class="hide column-options btn-group" style="height:0;">','<a data-column="'+a+'" class="btn column-option teal manage-threads">','<i class="fa fa-newspaper-o fa-2x"></i><p>THREADS</p></a>','<form action="javascript:void(0);" data-column="'+a+'" class="hide edit-form teal">','<input data-column="'+a+'" type="submit" class="hide">',"</form>",'<a data-column="'+a+'" class="btn column-option darkgoldenrod settings-switch">','<i class="fa fa-cog fa-2x"></i><p>SETTINGS</p></a>','<div data-column="'+
a+'" class="hide settings-tab darkgoldenrod"></div>','<a data-column="'+a+'" class="btn column-option write-comment-switch cornflowerblue">','<i class="fa fa-pencil fa-2x"></i><p>WRITE COMMENT</p></a>','<div data-column="'+a+'" class="hide write-comment cornflowerblue"></div>','<a data-column="'+a+'" class="refreshSwitch btn column-option slateblue">','<i class="fa fa-toggle-on fa-2x"></i><p>AUTO REFRESH</p></a>','<a data-column="'+a+'" class="trash btn column-option darkred">','<i class="fa fa-trash fa-2x"></i><p>DELETE COLUMN</p></a></div>'].join("")},
q:function(a){return['<div id="collapse'+a+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading'+a+'">','<div class="panel-body"></div></div>'].join("")},r:function(a,b){return'<div class="panel panel-default nopacity">'+a+b+"</div>"},s:function(a,b){return["<div class='form-group'>","<label class='control-label label-width'>Threads <span class='"+a+" label label-default pull-right'>Info</span></label>","<select class='form-control "+b+"'></select>","</div>"].join("")},t:function(a,
b){return["<div class='form-group'>","<label class='control-label label-width'>Subreddit <span class='"+a+" label label-danger pull-right'>Delete</span></label>","<input type='text' class='form-control "+b+"' placeholder='Enter a subreddit'>","</div>"].join("")},u:function(a,b,l){return"<div class='"+a+" nopacity'>"+b+l+"</div>"},v:function(a){return["<option data-subid='"+a.data.subreddit_id+"' data-threadtitle='"+a.data.title+"' data-threadid='"+a.data.id+"' value='"+a.data.permalink+"'>",a.data.title,
"</option>"].join("")},w:function(a){return["<option data-subid='"+a.subid+"' data-threadtitle='"+a.threadtitle+"' data-threadid='"+a.threadid+"' value='"+a.thread+"'>",a.threadtitle,"</option>"].join("")},x:function(a){return["<div class='reply-buttons'><button class='cancel-reply btn btn-default'>Cancel</button>","<button type='submit' class='save-reply btn "+(a?"btn-default":"btn-primary")+"'>Save</button>","</div>"].join("")},y:function(a){return"<input type='hidden' name='thing_id' value='"+
a+"'>"},z:function(a,b){return[b?"<label>Comment</label>":"","<textarea name='text' class='form-control textarea-reply'","placeholder='"+(b?"Write a comment":"Reply to "+a+"..")+"'></textarea>"].join("")},aa:function(a,b,l,m){return["<div class='"+(m?"isTopLevel":"nopacity hide")+" reply-form'>","<div class='submitting nopacity hide'>"+(m?"<b><span class='black'>Submitting...</span></b>":"Submitting...")+"</div>","<form action='javascript:void(0)'>"+a+b+l+"</form>","</div>"].join("")},ab:function(a){return"<a class='btn new-comment'><span class='text-primary diff'>"+
a+" new</span></a>"},ac:function(a){return["<span class='reply-num text-warning'>"+a+"</span>","<span class='text-warning'>&nbsp;<i class='fa expand fa-plus-square'></i>&nbsp;</span>"].join("")},ad:function(a,b){return"<a data-name='"+a+"' data-replylength='"+b+"' class='btn reply'></a>"},ae:function(a,b,l,m,f){return["<footer data-id='"+a.data.name+"' class='comment-footer'>","<div class='links-container btn-group'>","<a class='btn time-elapsed white'>"+l+"</a>","<a class='btn reply-switch'><i class='fa fa-reply fa-lg'></i></a>",
"<a class='btn perma' href='"+m+"' target='_blank'><i class='fa fa-link fa-lg'></i></a>","<a class='btn refresh-comment' data-linkid='"+a.data.link_id+"' data-id='"+a.data.name+"'><i class='fa fa-refresh fa-lg'></i></a>",0!=b?util.html.af(a,b):"","</div>",f,"</footer>"].join("")},af:function(a,b){return["<a data-name='"+a.data.name+"' data-replylength='"+b+"' class='btn reply'>","<span class='reply-num text-warning'>"+b+"</span>","<span class='text-warning'>&nbsp;<i class='fa expand fa-plus-square'></i>&nbsp;</span></a>"].join("")},
ag:function(a,b){return["<div class='media-heading btn-group'><a class='btn vote'><i class='fa fa-arrow-up'></i></a>","<a data-id='"+a.data.name+"' class='score btn'>"+a.data.score+"</a>","<a class='btn vote vote-last'><i class='fa fa-arrow-down'></i></a>","<a class='btn from-sub' target='_blank' href='"+window.location.protocol+"//www.reddit.com/r/"+a.data.subreddit+"'>"+a.data.subreddit+"</a>","<a class='btn author' href='"+window.location.protocol+"//www.reddit.com/u/"+a.data.author+"' target='_blank'>"+
a.data.author+"</a>",a.data.author_flair_css_class?"<a class='flair btn'>"+a.data.author_flair_css_class+"</a>":"&nbsp;","</div>"+b].join("")},ah:function(a,b){return["<div class='load-comments' data-parent='"+a.data.parent_id+"' class='load-comments'>","<i class='fa fa-download'></i>&nbsp; load more comments","</div>"+b].join("")},ai:function(a){return"<div class='media-body'>"+a+"</div>"},aj:function(a,b){return"<div class='thumb pull-left "+(a?b:"")+"'></div>"},ak:function(a,b,l,m,f,u,B){return["<div data-parentid='"+
a.data.parent_id+"' data-linkid='"+a.data.link_id+"' ","data-icon='"+b+"' id='"+a.data.name+"' ","class='media"+(l?" parent ":B?" hide":"")+""+(m?" nopacity":"")+"'>",f+u,"</div>"].join("")},al:function(){return'<li class="list-group-item"><div class="input-group"><input class="form-control" type="text"><span class="input-group-addon"><i class="fa fa-close"></i></span></div></li>'},am:function(){return'<div class="form-group"><label>Thread</label><select class="form-control post-thread"></select></div>'},
an:function(a,b){return'<a target="_blank" href="'+a+'">'+b+"</a>"},ao:function(a,b){return["<li class='media' data-subreddit='"+a.data.subreddit+"' data-thread='"+a.data.permalink+"' ","data-id='"+a.data.id+"' data-subid='"+a.data.subreddit_id+"'>","<a class='subreddit-thumb pull-left' href='#'>",a.data.thumbnail&&"self"!=a.data.thumbnail?"<img class='media-object' height='70' width='70' src='"+a.data.thumbnail+"' alt='error' onerror='util.fn.brokenImage(this)'>":util.html.ap(),"</a><div class='media-body'>",
"<h4 class='media-heading'>"+a.data.title+"<span class='badge pull-right'>"+a.data.score+"</span></h4>","<p>Submitted "+b+" ago by "+a.data.author+" to /r/"+a.data.subreddit," | <span class='text-warning'>"+a.data.num_comments+" comments</span></p>","</div></li>"].join("")},ap:function(){return'<div class="subreddit-thumb-alt center-containing"><i class="fa fa-reddit fa-3x"></i></div>'},aq:function(a,b){return["<li class='media' data-id='"+a.data.id+"'>","<a class='subreddit-thumb pull-left' href='#'>&nbsp</a><div class='media-body'>",
"<h4 class='media-heading'>/r/"+a.data.display_name+" : "+a.data.title+"</h4>","<p>"+a.data.public_description+"</p>","<p>"+(a.data.subscribers?a.data.subscribers+" subscribers, a community for "+b:"A community for "+b)+"</p>","</div></li>"].join("")}}},app=function(a){function b(){a(document).pjax("a[data-pjax]","#pjax-container");a(document).on("pjax:send",function(){});a(document).on("pjax:end",function(){0<a("#listsjs").length?m():0<a("#blenddit").length?f():(a(".teams").hide(),a("#sidebarTrigger").hide(),
a(".navbar-fixed-top").show(),a(".navbar-brand > .text-warning").text("kurtlocker.org"),a(".social").show(),a("html, body").removeClass("noverflow"))})}function l(){a("#sidebarTrigger").unbind("click").click(function(c){c.preventDefault();a("#wrapper").toggleClass("toggled")})}function m(){0<a("#listsjs").length&&(l(),a("#sidebarTrigger").show(),a(".navbar-brand > .text-warning").text("[ l [ i [ s ] t ] s ]"),a("div.js").each(function(c,g){a(g).text(a(g).text().trim());hljs.highlightBlock(g)}),a(".sidebarFunc").unbind("click").click(function(){a(".sidebarFunc").removeClass("blue-dotted");
a(this).addClass("blue-dotted");a(".nav-tabs").removeClass("blue-dotted");a("#function-"+a(this).attr("num")).addClass("blue-dotted");a("html, body").animate({scrollTop:a("#function-"+a(this).attr("num")).offset().top-60},500);a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}),a("#page-content-wrapper").unbind("click").click(function(){a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}),a(".navbar-fixed-top, .navbar-fixed-bottom").removeClass("hide"))}
function f(){0<a("#blenddit").length&&(a(".teams").show(),a(".social").hide(),a(".navbar-fixed-bottom").removeClass("hide"),a(".navbar-fixed-top").hasClass("hide")?void 0:a(".navbar-fixed-top").addClass("hide"),a(".open-controls").unbind("click").click(function(){wa()}),a(".help").unbind("click").bind("click",function(){console.log("help modal")}),a("#delete-column").unbind("click").click(function(){util.fn.remove(r,a(this).data("column"));da(a(this).data("column"));util.fn.setInCookie("config",r);
x(!0)}),a('[data-toggle="tooltip"]').tooltip(),ea.initialize(),H(),n(),B("#subreddit-search",!0),u())}function u(){function c(){var c;a("#greeting").hasClass("hide")?(a(".columns-or-home i").removeClass("fa-columns").addClass("fa-home"),c="home"):(a(".columns-or-home i").removeClass("fa-home").addClass("fa-columns"),c="columns");return c}c();a(".columns-or-home").unbind("click").bind("click",function(){"columns"==c()?0<r.length?x():a(this).parent().launchPopOver(3E3,s("top","No columns","Build at least one column to view columns.")):
(0==a("#watch-threads .list-group.contain").children().length?p():"",O("#greeting"),c())})}function B(c,g){a(c+" .subreddit-search-input").hasClass("tt-input")||C(c+" .subreddit-search-input");a(c+" .subreddit-search-submit").unbind("click").bind("click",function(){var g=a(c+" .subreddit-search-input.tt-input").val();g&&P(window.location.protocol+"//www.reddit.com/r/"+g+".json",function(a,c,g,b){G(a,b.subreddit,!1);J(a.data.after,"thread",b.subreddit)},L,void 0,!1,void 0,{subreddit:g,errorLoc:this})});
g&&a(c+" .subreddit-search-submit").trigger("click")}function L(c,g,b,d){P(window.location.protocol+"//www.reddit.com/subreddits/search.json?q="+encodeURIComponent(d.subreddit),function(c,g,b,d){0<c.data.children.length?(I(c,d.subreddit,!1),J(c.data.after,"sub",d.subreddit)):a(d.errorLoc.form).launchPopOver(3E3,s("bottom","",'There were no results found for "'+d.subreddit+'"'))},void 0,void 0,!1,this,d)}function J(c,g,b){var d=a(".media-more li");d.data("after",c);d.data("type",g);d.data("subreddit",
b);a(".media-more li").unbind("click").bind("click",function(){var c=a(this).data("type"),g="thread"==c?window.location.protocol+"//www.reddit.com/r/"+a(this).data("subreddit")+".json?count=25&after="+a(this).data("after"):window.location.protocol+"//www.reddit.com/subreddits/search.json?q="+encodeURIComponent(a(this).data("subreddit"))+"&count=25&after="+a(this).data("after");P(g,"thread"==c?function(c,g,d,E){G(c,b,!0);a("#subreddit-container .media[data-id="+E.previousAfter.substr(3)+"]")[0].scrollIntoView();
c.data.after?J(c.data.after,"thread",E.subreddit):a(".media-more li").unbind("click")}:function(c,g,d,E){I(c,b,!0);a("#subreddit-container .media[data-id="+E.previousAfter.substr(3)+"]")[0].scrollIntoView();c.data.after?J(c.data.after,"sub",E.subreddit):a(".media-more li").unbind("click")},void 0,void 0,!1,this,{subreddit:b,previousAfter:a(this).data("after")})})}function I(c,g,b){O("#subreddit-container");a("#subreddit-result-title").text('Subreddits matching "'+g+'"..');B("#subreddit-search-results");
u();v(c,"t5",b)}function G(c,g,b){O("#subreddit-container");a("#subreddit-result-title").text("/r/"+g);B("#subreddit-search-results");u();v(c,"t3",b);K()}function v(c,g,b){var d=a("#subreddit-container .media-results");!1==b&&d.children().remove();"t3"==g?c.data.children.forEach(function(c,g){d.append(util.html.ao(c,Q(c.data.created_utc)));F(a("#subreddit-container .media-results li:last-child"),100+50*g,"opacity-7")}):"t5"==g&&c.data.children.forEach(function(c,g){d.append(util.html.aq(c,Q(c.data.created_utc)));
F(a("#subreddit-container .media-results li:last-child"),100+50*g,"opacity-7")})}function K(){a(".media-results li").unbind("click").bind("click",function(){var c={},g={};g.subreddit_id=a(this).data("subid");g.subreddit=a(this).data("subreddit");g.permalink=a(this).data("thread");g.id=a(this).data("id");g.title=a(this).find("h4").text();c.data=g;Z(k([c]));D()})}function C(c,g){a(c).typeahead(null,{name:"reddit-names",displayKey:"value",source:ea.ttAdapter()}).on("typeahead:selected typeahead:autocompleted",
function(){g&&g(this)})}function H(){var c=a("#reddit-uri").data("subreddituri"),g=a("#reddit-uri").data("threadiduri");c&&g?fa(g,function(a){"undefined"!==typeof a.data.children&&Z(k(a.data.children))},void 0,D):c?a("#subreddit-search .subreddit-search-input").val(c):D()}function D(){0<r.length?(a(".carousel-inner").children().remove(),x()):(O("#greeting"),p())}function k(a){var g={},b={},d=[];a.forEach(function(a){var c={};c.subid=a.data.subreddit_id;c.subreddit=a.data.subreddit.toLowerCase();c.thread=
a.data.permalink;c.threadid=a.data.id;c.threadtitle=a.data.title;d.push(c)});b.limitPosts="50";b.name=1==a.length?a[0].data.title.substring(0,22)+" ...":"My Column";b.refreshRate="60";b.sortBy="new";g.type="reddit";g.settings=b;g.threads=d;return g}function s(a,g,b){return{placement:a,title:g,content:b,trigger:"manual"}}function p(){var a;Object.keys(V).length?a=V:a={subs:"nfl nba mlb nhl mls hockey soccer collegebasketball".split(" "),match:["Game Thread","Match Thread","Live Thread"]};h(a);e(a.match);
R();y();S();z()}function h(c){var g=c.match,b="",d="";c.subs.forEach(function(a,c){b+=q(a,"input")});g.forEach(function(a,c){d+=q(a,"input")});a("#watch-subreddits .list-group.contain, #watch-matching .list-group.contain").children().remove();a("#watch-subreddits .list-group.contain").append(b);a("#watch-matching .list-group.contain").append(d)}function e(c){a("#watch-threads .list-group.contain").children().remove();a("#watch-list-no-results").removeClass("hide");a("#watch-subreddits input").each(function(g,
b){M("/r/"+b.value,"","",{target:c,callback:function(g,b){g.data.children.forEach(function(g,b){c.some(function(a){return RegExp(a.toLowerCase()).test(g.data.title.toLowerCase())})&&(a("#watch-list-no-results").addClass("hide"),a("#watch-threads .list-group.contain").append(q(g.data)));F(a("#watch-threads .list-group-item"),100);d()})}})})}function R(){a("#watch-subreddits .input-group-addon, #watch-matching .input-group-addon").unbind("click").click(function(){a(this).parent().parent().remove()})}
function S(){a("#watch-subreddits .btn.add").unbind("click").bind("click",function(){a("#watch-subreddits .list-group.contain").append(util.html.al);R()});a("#watch-matching .btn.add").unbind("click").bind("click",function(){a("#watch-matching .list-group.contain").append(util.html.al);R()})}function z(){a("#watch-threads .btn.refresh").unbind("click").bind("click",function(){w();p()})}function y(){a("#watch-subreddits .btn.save, #watch-matching .btn.save, #watch-threads .btn.save").unbind("click").bind("click",
function(){function c(c){return""!=a(c).val()}var g=a("#watch-subreddits .list-group.contain"),b=a("#watch-matching .list-group.contain");if(0!=g.children().length&&util.fn.any(g.find("input"),c)&&0!=b.children().length&&util.fn.any(b.find("input"),c)){if(w(),a(this).hasClass("wthreads"))if(util.fn.any("#watch-threads .list-group.contain li",function(c){return a(c).hasClass("white")})){var d=[];a("#watch-threads .list-group.contain li.white").each(function(c,g){var b={},e={};e.subreddit_id=a(g).data("subid");
e.subreddit=a(g).data("subreddit");e.permalink=a(g).data("thread");e.id=a(g).data("threadid");e.title=a(g).text();b.data=e;d.push(b)});Z(k(d));D()}else a("#watch-threads .list-group-item.controls").launchPopOver(3E3,s("top","Verification","Please select at least one thread from the list."))}else a("#watch-subreddits .list-group-item.controls, #watch-matching .list-group-item.controls, #watch-threads .list-group-item.controls").launchPopOver(3E3,s("top","Verification","Verify you have one subreddit and one matching pattern added with values."))})}
function w(){var c={};c.subs=function(){var c=[];a("#watch-subreddits .list-group.contain input").each(function(a,b){""!=b.value&&null!=b.value?c.push(b.value):""});return c}();c.match=function(){var c=[];a("#watch-matching .list-group.contain input").each(function(a,b){""!=b.value&&null!=b.value?c.push(b.value):""});return c}();V=c;util.fn.setInCookie("watch",V)}function d(){a("#watch-threads .list-group-item").unbind("click").click(function(){a(this).hasClass("white")?a(this).removeClass("white"):
a(this).addClass("white")})}function q(a,g){return"input"==g?util.html.a(a):util.html.b(a,Q(a.created_utc))}function n(){function c(){a("#greeting").hasClass("hide")?a(".carousel-inner").css("height",window.innerHeight-53):a(".carousel-inner").removeAttr("style")}app.height=window.innerHeight;c();A();a(window).unbind("resize").bind("resize",function(){app.height!=window.innerHeight&&(c(),A(),app.height=window.innerHeight)})}function t(c,g){var b=a(".column-options[data-column="+c+"]");b.removeAttr("style").css("max-height",
b.height());A(c,g)}function A(c,g){var b="undefined"!==typeof c?a(".frame-content[data-column="+c+"]"):a(".frame-content");if("undefined"===typeof c)b.each(function(c,b){var d=a(".column-options[data-column="+c+"]").hasClass("hide")?0:a(".column-options[data-column="+c+"]").height(),d="undefined"!==typeof g?g:d;a(b).removeAttr("style").css("height",window.innerHeight-(107+d))});else{var d=a(".column-options[data-column="+c+"]").hasClass("hide")?0:a(".column-options[data-column="+c+"]").height(),d=
"undefined"!==typeof g?g:d;b.removeAttr("style").css("height",window.innerHeight-(107+d))}}function wa(){Ba();Aa();a("#save-changes").unbind("click").bind("click",function(){ya();x(!0)});a("#controlModal").modal()}function Aa(){F(a("a.white"),100);a("#reddit-logout").unbind("click").bind("click",function(){P("/reddit-logout",function(c,g,b){a("[data-reddituser]").data("reddituser",null);a(".config-account").children().remove();a(".config-account").append(c);F(a("a.white"),100)})})}function xa(){a("#reddit-block, #twitter-block").unbind("click").bind("click",
function(){"reddit-block"==this.id&&(ha("#reddit","column-settings","sub-group-controls","subreddit-controls","thread-controls","delete-controls"),Ca(),a("#vendor-group, #reddit").toggleClass("hide"))})}function ya(){!a("#reddit").hasClass("hide")&&util.fn.any(".thread-controls",function(c){return null!=a(c).val()})&&(ia(".sub-group-controls",".subreddit-controls",".thread-controls","#reddit .column-settings"),a("#cancel-column").trigger("click"))}function Y(c,g){a([".write-comment[data-column="+
g+"]",".settings-switch[data-column="+g+"]",".edit-form[data-column="+g+"]",".manage-threads[data-column="+g+"]",".settings-tab[data-column="+g+"]",".write-comment-switch[data-column="+g+"]",".refreshSwitch[data-column="+g+"]",".trash[data-column="+g+"]"].join()).addClass("hide");a(c).removeClass("hide");a(c[0].previousSibling).removeClass("hide")}function N(c){a([".settings-switch[data-column="+c+"]",".manage-threads[data-column="+c+"]",".write-comment-switch[data-column="+c+"]",".refreshSwitch[data-column="+
c+"]",".trash[data-column="+c+"]"].join()).removeClass("hide");a([".write-comment[data-column="+c+"]",".edit-form[data-column="+c+"]",".settings-tab[data-column="+c+"]"].join()).addClass("hide")}function O(c){a("#main-loader-container, #content-container, #greeting, #subreddit-container").removeClass("faded").addClass("hide");"#content-container"==c?a("html, body").addClass("noverflow"):a("html, body").removeClass("noverflow");F(a(c).removeClass("hide"),100)}function x(c){if(0==r.length)O("#greeting"),
0==a("#watch-threads .list-group.contain").children().length?p():"";else if(O("#content-container"),0==a(".carousel-inner").children().length||c){c&&a(".carousel-inner").children().remove();c=0;for(var g=r.length;c<g;c++)ja(r[c],c)}u();n()}function za(c,g){var b=function(){for(var a=util.html.c("edit-button-group",[["add-thread-button","plus-circle"],["cancel-edit-button","close"],["save-edit-button","save"]]),b=0,d=c.threads.length;b<d;b++)var e=util.html.d(g),E=util.html.e(),e=util.html.f(E,e),
a=a+e;return a}(),d=function(){var c=util.html.c("edit-button-group",[["cancel-edit-button","close"],["save-edit-button","save"]]),b=a("<div>").append(a(".column-settings").children().clone().each(function(){var c=a(this).find("label"),b=a(this).find("*[id]");c.each(function(c,b){a(b).attr("for",a(b).attr("for")+"-column-"+g)});b.each(function(c,b){a(b).attr("id",a(b).attr("id")+"-column-"+g)})})).html();return util.html.g(c+b)}(),e=util.html.am()+ka("","",!0);a(".edit-form[data-column="+g+"]").append(b);
a(".settings-tab[data-column="+g+"]").append(d);a(".write-comment[data-column="+g+"]").append(e);Da(g);la("delete-edit");ma("info-edit");ha(".edit-form[data-column="+g+"]","edit-button-group","subreddit-group-edit","subreddit-edit","thread-edit","delete-edit","info-edit",g);Ea(c,g);Fa(c,g);na(".edit-form[data-column="+g+"]",g);na(".settings-tab[data-column="+g+"]",g);Ga(g,c)}function na(c,g){a(c).find("input[type=submit]").unbind("click").bind("click",function(){a(c).find(".save-edit-button").trigger("click")})}
function Ha(c,g){var b=a(c+" .post-thread"),d=a(g+" .thread-edit");b.children().remove();d.each(function(c,g){a(g).val()&&b.append(a(g).find("option:selected").clone())})}function Ga(c,g){a("#column-name-column-"+c).val(g.settings.name);a("#refresh-column-"+c).val(g.settings.refreshRate);a("#limit-column-"+c).val(g.settings.limitPosts);a("#sortBy-column-"+c).val(g.settings.sortBy)}function Da(c){a(".edit-form[data-column="+c+"] .subreddit-edit").each(function(g,b){this.value=r[c].threads[g].subreddit;
C(b,function(g){var b=a(".edit-form[data-column="+c+"] .subreddit-edit").parent().parent().parent().index(a(g).parent().parent().parent());M("/r/"+g.value,"","",{target:[".edit-form[data-column="+c+"] .thread-edit",b],errorMsgLoc:g,callback:T})});a(this).unbind("change").bind("change",function(){var g=a(".edit-form[data-column="+c+"] .subreddit-edit").parent().parent().parent().index(a(this).parent().parent().parent());M("/r/"+this.value,"","",{target:[".edit-form[data-column="+c+"] .thread-edit",
g],errorMsgLoc:this,callback:T})})})}function Fa(c,g){var b=".column-options[data-column="+g+"]";a(".column-options[data-column="+g+"] .save-edit-button").unbind("click").bind("click",function(){ia(b+" .subreddit-group-edit",".subreddit-edit",".thread-edit",b+" .edit-column-settings",g);ja(r[g],g);a(".item").removeClass("active");a(".item[data-column="+g+"]").addClass("active")})}function Ea(c,g){a(".edit-form[data-column="+g+"] .cancel-edit-button, .settings-tab[data-column="+g+"] .cancel-edit-button").unbind("click").bind("click",
function(){N(g)})}function ja(c,g){a(".item[data-column="+g+"]").remove();var b=util.html.i(g),d=util.html.j(g),b=util.html.l(g,c,d,b),b=util.html.m(b),b=util.html.n(g,c,b),b=util.html.o(g,b),d=a(".carousel-inner");0==g?0<d.children().length?a(b).insertBefore(".item:first"):d.append(b):a(b).insertAfter(a(".item[data-column="+(g-1)+"]"));Ia(g);za(c,g,"column");"reddit"==c.type&&(W(c,g),oa(g));n();F(".frame-position[data-column="+g+"]",100)}function da(a){clearInterval(app["r"+a]);delete app["r"+a]}
function oa(c){da(c);a(".refreshSwitch[data-column="+c+"] i").hasClass("fa-toggle-on")?app["r"+c]=setInterval(function(){r[c]?W(r[c],c):clearInterval(app["r"+c])},1E3*parseInt(r[c].settings.refreshRate)):clearInterval(app["r"+c])}function Ia(c){a(".refreshSwitch[data-column="+c+"]").unbind("click").bind("click",function(){var c=a(this).data("column"),b=a(this).find("i");b.toggleClass("fa-toggle-on fa-toggle-off");b.hasClass("fa-toggle-on")&&W(r[c],c);oa(c)});a(".frame[data-column="+c+"] .frame-header").unbind("click").bind("click",
function(){W(r[c],c)});a(".column-bars[data-column="+c+"] > a").unbind("click").bind("click",function(){var c=a(this).parent().data("column"),b=a(".column-options[data-column="+c+"]");b.hasClass("hide")?(b.removeClass("hide"),t(c),a(".edit-form[data-column="+c+"] .subreddit-group-edit").each(function(c,b){var g=a(this).find(".subreddit-edit.tt-input").val(),d=a(this).find(".thread-edit"),e=d.val(),d=d.data("column");""!=g&&null==e&&M("/r/"+g,"","",{target:[".edit-form[data-column="+d+"] .thread-edit",
c,d],errorMsgLoc:this,callback:T})})):(N(c),b.addClass("hide"),t(c,0))});a(".manage-threads[data-column="+c+"]").unbind("click").bind("click",function(){var c=a(this).data("column"),b=a(".edit-form[data-column="+c+"]");a(this.nextSibling).hasClass("hide")?Y(b,c):N(c);A(c)});a(".settings-switch[data-column="+c+"]").unbind("click").bind("click",function(){var c=a(this).data("column"),b=a(".settings-tab[data-column="+c+"]");a(this.nextSibling).hasClass("hide")?Y(b,c):N(c)});a(".write-comment-switch[data-column="+
c+"]").unbind("click").bind("click",function(){var c=a(this).data("column"),b=a(".write-comment[data-column="+c+"]");Ha(".write-comment[data-column="+c+"]",".edit-form[data-column="+c+"]");a(this.nextSibling).hasClass("hide")?Y(b,c):N(c);A(c)});a(".fa-close[data-column="+c+"], .trash[data-column="+c+"]").unbind("click").bind("click",function(){var c=a(this).data("column");a("#delete-column").data("column",c);a("#column-to-delete").text(r[c].settings.name);a("#delete-column-modal").modal()})}function W(c,
b){Ja(b);for(var d=[],e=0,f=c.threads.length;e<f;e++)M(c.threads[e].thread,c.settings.sortBy,c.settings.limitPosts,{target:{columnNum:b,threadNum:e},errorMsgLoc:".frame[data-column="+b+"]",callback:function(c,e){d=d.concat([c.concat(e.columnNum).concat(e.threadNum)]);if(r[e.columnNum].threads&&r[e.columnNum].threads.length==d.length){var E=Ka(d);0==a(".frame-content[data-column="+b+"]").children().length&&0<E[1].data.children.length&&pa(E[1].data.children[0].data.name,e.columnNum);La(E,e.columnNum);
qa(e.columnNum)}}})}function X(a,b,d){a.forEach(function(a,c){var e="more"!=a.kind&&a.data.replies.hasOwnProperty("data")?a.data.replies.data.children:[];a.data.name+="-"+b+"-"+d;a.data.parent_id+="-"+b+"-"+d;X(e,b,d)});return a}function pa(a,b){"undefined"!==typeof a&&(app["firstComment"+b]=a)}function ia(c,b,d,e,f){var h={},k={},l=[];c=a(c);e=a(e).find(".form-control");var m="undefined"!==typeof f&&"reddit"==a(".frame-position[data-column="+f+"]").data("type")||!a("#reddit").hasClass("hide")?"reddit":
"twitter";c.each(function(c,e){if(a(e).find(d).val()){var f={},E=a(e).find(d+" option:selected");f.subreddit=a(e).find(b+".tt-input").val();f.thread=a(e).find(d).val();f.threadid=E.data("threadid");f.threadtitle=E.data("threadtitle");f.subid=E.data("subid");l.push(f)}});0<c.length&&util.fn.any(c.find(d),function(c){return null!=a(c).val()})&&(h.threads=l,k.name=e[0].value,k.refreshRate=e[1].value,k.limitPosts=e[2].value,k.sortBy=e[3].value,h.settings=k,h.type=m,"undefined"!==typeof f?r[f]=h:r=r.concat(h),
util.fn.setInCookie("config",r))}function Z(a){r=r.concat(a);util.fn.setInCookie("config",r)}function Ca(){a("#cancel-column").unbind("click").bind("click",function(){a(".sub-group-controls").remove();a("#add-a-column, #reddit").toggleClass("hide");a("#helpBlock-1").hasClass("hide")&&a("#add-button, .add-thread-button, [id^=helpBlock-], .fa-arrow-circle-right, .sub-group-controls, .column-settings").toggleClass("hide")})}function ha(c,b,d,e,f,h,k,l){a(c+" .add-thread-button").unbind("click").click(function(){var m=
util.html.s(k,f),n=util.html.t(h,e),m=util.html.u(d,n,m);a(m).insertAfter(c+" ."+b);"undefined"!==typeof l?A(l):void 0;C(c+" ."+e+":first",function(b){var g=a(c+" ."+d).index(a(b).parent().parent().parent());M("/r/"+b.value,"","",{target:[c+" ."+f,g],errorMsgLoc:b,callback:T})});Ma(c+" ."+e+".tt-input:first",d,f);F("."+d,100);la(h);ma(k)})}function Ma(c,b,d){a(c).unbind("change").bind("change",function(){var c=a("."+b).index(a(this).parent().parent().parent());M("/r/"+this.value,"","",{target:["."+
d,c],errorMsgLoc:this,callback:T})})}function ma(c){a("."+c).unbind("click").bind("click",function(){var c=a(this).parents(".form-group").find("select option:selected").data("threadid");c&&fa(c,function(c){c.data.children[0].data.selftext_html?(a("#info-title, #info-content").children().remove(),a("#info-title").html(util.html.an(c.data.children[0].data.url,c.data.children[0].data.title)),a("#info-content").append(a("<div/>").html(c.data.children[0].data.selftext_html).text()),a("#author-button").text("/u/"+
c.data.children[0].data.author).attr("onclick","window.open('"+window.location.protocol+"//www.reddit.com/u/"+c.data.children[0].data.author+"','_blank');"),a("#time-button").text(Q(c.data.children[0].data.created_utc)),ra("#info-content .md a"),a("#info-modal").modal()):window.open(c.data.children[0].data.url,"_blank")},void 0,void 0,!0,this)})}function la(c){a("."+c).unbind("click").bind("click",function(){var c=a(this).parents(".item").data("column");a(this).parents(".subreddit-group-edit").remove();
"undefined"!==typeof c&&A(c)})}function Ba(){a("#add-a-column").unbind("click").bind("click",function(){a(this).removeClass("hide").addClass("hide");a("#vendor-group").removeClass("hide");xa()})}function T(c,b){var d="undefined"!==typeof b[2]?a(a(b[0]+"[data-column="+b[2]+"]")[b[1]]):a(a(b[0])[b[1]]);d.children().remove();c.data.children.forEach(function(a,c){d.append(util.html.v(a))});if(0<r.length&&"undefined"!==typeof b[2]){var e=r[b[2]].threads[b[1]];0==d.find("option[data-threadid="+e.threadid+
"]").length&&e.subid==d.find("option:selected").data("subid")&&d.append(util.html.w(e));d.find("option[data-threadid="+e.threadid+"]").prop("selected",!0)}}function Ja(c){a(".frame-overlay[data-column="+c+"]").addClass("half-fade");a(".loading[data-column="+c+"]").addClass("faded")}function qa(c){a(".frame-overlay[data-column="+c+"]").removeClass("half-fade");a(".loading[data-column="+c+"]").removeClass("faded")}function F(c,b,d){setTimeout(function(){a(c).addClass(d?d:"faded")},b)}function ka(a,
b,d){var e=util.html.x(d);a=util.html.y(a);b=util.html.z(b,d);return util.html.aa(a,b,e,d)}function Na(){a(".reply-switch").unbind("click").bind("click",function(){var c=a(this).parent().parent().find(".reply-form");c.hasClass("hide")?(c.removeClass("hide"),c.find("form").removeClass("hide"),c.find(".submitting").removeClass("faded").addClass("hide"),F(c,100)):c.removeClass("faded").addClass("hide")});a(".save-reply").unbind("click").click(function(){var c=a(this).parents(".write-comment"),b=this.form.thing_id.value,
d=b.split("-")[0]||"t3_"+c.find(".post-thread option:selected").data("threadid");additionalData={columnNum:b.split("-")[1]||c.data("column"),threadNum:b.split("-")[2],postPane:0<c.length?c:a(this).parents(".comment-footer")};text=this.form.text.value;$submitting=a(this.form.previousSibling);0!=text.length&&(a(this.form).addClass("hide"),F($submitting.removeClass("hide"),100),0<c.length?A(additionalData.columnNum):void 0,sa("/save-reddit-reply",{thing_id:d,text:text},0<c.length?function(c,b,d,g){c&&
c.needsLogin?a("#login-reddit-modal").modal():c.statusCode?ta(g):c.json&&0<c.json.errors.length?(aa(g),alert(c.json.errors[0][1])):(c=a(g.postPane).find("form"),b=a(g.postPane).find(".submitting"),c.find(".textarea-reply").val(""),b.removeClass("faded").addClass("hide"),c.removeClass("hide"),A(g.columnNum),a(".column-bars[data-column="+g.columnNum+"] > a, .frame[data-column="+g.columnNum+"] .frame-header").trigger("click"))}:function(c,b,d,g){c&&c.needsLogin?a("#login-reddit-modal").modal():c.statusCode?
console.log(c.statusCode):c.json&&0<c.json.errors.length?(aa(g),alert(c.json.errors[0][1])):(c=c.json.data.things,a(U(X(c,g.columnNum,g.threadNum),!0)).insertAfter("#"+c[0].data.parent_id+" .comment-footer:first"),a("#"+c[0].data.parent_id+" .fa-reply:first").trigger("click"),ba(),F(a("#"+c[0].data.name),100))},0<c.length?function(a,c,b,d){ta(d)}:function(a,c,b,d){aa(d)},void 0,additionalData))});a(".textarea-reply").unbind("focus").bind("focus",function(){a("[data-reddituser]").data("reddituser")||
sa("/check-login",{},function(c,b,d){c&&c.needsLogin&&a("#login-reddit-modal").modal()})});a(".cancel-reply").unbind("click").click(function(){var c=a(this).parents(".comment-footer");0<c.length?c.find(".reply-switch").trigger("click"):N(a(this).parents(".column-options").data("column"))})}function aa(c){var b=a(c.postPane).find("form");c=a(c.postPane).find(".submitting");b.removeClass("hide");c.removeClass("hide").addClass("hide");b.launchPopOver(3E3,s("top","","There was a problem posting your reply. Try again!"))}
function ta(c){var b=a(c.postPane).find("form");a(c.postPane).find(".submitting").removeClass("faded").addClass("hide");b.removeClass("hide");A(c.columnNum);b.find(".textarea-reply").launchPopOver(3E3,s("top","","There was a problem posting your comment. Try again!"))}function ba(){ra(".md a");Na();Oa();Pa()}function ra(c){a(c).each(function(c,b){a(b).attr("target","_blank");"/u/"==a(b).attr("href").substring(0,3)||"/r/"==a(b).attr("href").substring(0,3)?a(b).attr("href",window.location.protocol+
"//www.reddit.com"+a(b).attr("href")):""})}function La(c,b){var d=a(".frame-content[data-column="+b+"]");d.children().length?(d=app["firstComment"+b],d!=c[1].data.children[0].data.name&&(d=util.fn.takeWhile(c[1].data.children,d,function(a,c){return!document.getElementById(a.data.name)&&a.data.name!=c}),a(".frame-content[data-column="+b+"]").prepend(U(d,!0,!0)),d.forEach(function(c){F(a("#"+c.data.name),500)}),0<d.length&&a(".frame-overlay[data-column="+b+"]").launchPopOver(3E3,s("bottom","",d.length+
" new comments!")),pa(c[1].data.children[0].data.name,b)),ua(c[1].data.children),Qa(c[1].data.children[c[1].data.children.length-1].data.name,b)):(d.append(U(c[1].data.children,!1,!0)),F(d,1E3));ba()}function Qa(c,b){var d=a.map(a(".frame-content[data-column="+b+"] .media"),function(a){return a.id});d.slice(d.indexOf(c)+1).forEach(function(c){a("#"+c+" .comment-footer[data-id="+c+"] .time-elapsed").text("old")})}function ua(c){c.forEach(function(c){var b="more"!=c.kind&&c.data.replies.hasOwnProperty("data")?
c.data.replies.data.children:[],d=b.length,e="#"+c.data.name+" .comment-footer[data-id="+c.data.name+"]";"undefined"!==typeof c.data.created_utc?a(e+" .time-elapsed").text(Q(c.data.created_utc)):"";"undefind"!==typeof c.data.score?a(".score[data-id="+c.data.name+"]").text(c.data.score):"";c=c.data.name;var f=a("#"+c+" .media[data-parentid="+c+"]"),h=a(e+" .reply"),k=a(e+" .reply .reply-num"),l=d-f.length,m=util.html.ab(l),n=util.html.ac(d);0<d&&0<h.length&&d>h.data("replylength")?(h.data("replylength",
d),k.text(d),0<l&&0==a(e+" .new-comment").length?a(m).insertAfter(e+" .reply"):(!a("footer[data-id="+c+"] .reply").children().length&&0<f.length&&(a("footer[data-id="+c+"] .reply").append(n),a("footer[data-id="+c+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square")),0>=l?void 0:a(e+" .new-comment .diff").text(l+" new")),va(e+" .new-comment")):0<d&&0==h.length&&(d=util.html.ad(c,d),a(d).insertAfter(e+" .refresh-comment"),0<l&&(a(m).insertAfter(e+" .reply"),va(e+" .new-comment")),f.hasClass("faded")&&
(a("footer[data-id="+c+"] .reply").append(n),a("footer[data-id="+c+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square")));ua(b)})}function va(c){a(c).unbind("click").bind("click",function(){a(this).parent().parent().find(".refresh-comment").trigger("click")})}function U(c,b,d,e){c=c||[];var f="";c.forEach(function(c,h){var k="more"!=c.kind&&c.data.replies.hasOwnProperty("data")?c.data.replies.data.children:[],l=k.length,l="more"!=c.kind?util.html.ae(c,l,Q(c.data.created_utc),window.location.protocol+
"//www.reddit.com/comments/"+c.data.link_id.substr(3)+"/_/"+c.data.id,ka(c.data.name,c.data.author)):"",k=a("<div/>").html(c.data.body_html).text()+l+U(k,!0,!1,!0),k="more"!=c.kind?util.html.ag(c,k):util.html.ah(c,k),k=util.html.ai(k),l="more"!=c.kind?util.html.aj(d,"icon-"+c.data.subreddit):"",k=util.html.ak(c,"icon-"+c.data.subreddit,d,b,l,k,e);f+=k});return f}function Pa(){a(".reply").unbind("click").click("click",function(){var c=a(this).data("name"),c=a("#"+c+" .media[data-parentid="+c+"]"),
b=a(this).find(".expand");b.hasClass("fa-plus-square")?(b.removeClass("fa-plus-square").addClass("fa-minus-square"),F(c.removeClass("hide"),100)):(b.removeClass("fa-minus-square").addClass("fa-plus-square"),c.removeClass("faded").addClass("hide"))})}function Oa(){a(".refresh-comment, .load-comments").unbind("click").bind("click",function(){var c=a(this).data("linkid")||a("#"+a(this).data("parent")).data("linkid"),b=a(this).data("id")||a("#"+a(this).data("parent")).attr("id"),d=a("#"+b).hasClass("parent")||
a("#"+a(this).data("parent")).hasClass("parent");Ra(c,b.substr(3).split("-")[0],function(c){var e=b.split("-")[1],f=b.split("-")[2];c=U(X(c[1].data.children,e,f));a("#"+b).replaceWith(c);d&&(a("#"+b).addClass("parent"),a("#"+b).children(":first").addClass(a("#"+b).data("icon")));a("footer[data-id="+b+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square");a("#"+b+" .media[data-parentid="+a("#"+b).attr("id")+"]").removeClass("hide").addClass("faded");a("#"+b).addClass("nopacity");F(a("#"+
b),100);ba()})})}function fa(a,b,d,e,f,h){P(window.location.protocol+"//www.reddit.com/by_id/t3_"+a+".json",b,d,e,f,h)}function Ra(a,b,d,e,f){P(window.location.protocol+"//www.reddit.com/comments/"+a.substr(3)+"/_/"+b+".json?sort=new",d,e,f)}function Q(a){if(a){var b=new Date(1E3*a),d=(new Date).getTime(),e=d-b.getTime(),f=Math.floor(e/864E5),e=e-864E5*f,h=Math.floor(e/36E5),e=e-36E5*h,k=Math.floor(e/6E4),e=Math.floor((e-6E4*k)/1E3);return 0!=!f||0>=f?0==f&&0==!h?h+"h":0==f&&0==h&&0==!k?k+"m":0==
f&&0==h&&0==k&&0==!e?e+"s":1E3>d-1E3*a?"1s":b.toLocaleTimeString():f+"d"}}function Ka(a){var b=[];a.forEach(function(d,e){0<d.length&&(b=b.concat(X(d[1].data.children,a[e][2],a[e][3])))});b=b.filter(function(a){if("more"!=a.kind)return a}).sort(Sa);a[0][1].data.children=b;return a[0]}function Sa(a,b){return"more"!=a.kind&&"more"==b.kind?1:"more"==a.kind&&"more"!=b.kind?-1:a.data.created_utc<b.data.created_utc?1:a.data.created_utc>b.data.created_utc?-1:0}function P(b,d,e,f,h,k,l){a.ajax({url:b,type:"GET",
timeout:7E3,cache:h||!1}).done(function(a,b,c){d&&d(a,b,c,l)}).fail(function(a,b,c){e&&e(a,b,c,l);ca(k,c)}).always(function(){f&&f()})}function sa(b,d,e,f,h,k,l){a.ajax({url:b,type:"POST",timeout:7E3,data:d,cache:!1}).done(function(a,b,c){e&&e(a,b,c,k)}).fail(function(a,b,c){f&&f(a,b,c,k);ca(l,c)}).always(function(){h&&h()})}function ca(b,d){"undefined"!==typeof b&&("timeout"==d?a(b).launchPopOver(3E3,s("bottom","Servers Busy","Reddit servers are busy.")):a(b).launchPopOver(3E3,s("bottom","Generic Error",
"There was an error processing this request. Reddit servers could not be reached or are busy. Try refreshing.")))}function M(b,d,e,f){a.ajax({url:window.location.protocol+"//www.reddit.com"+b+"/.json?sort="+d+"&limit="+e+"&jsonp=?",dataType:"json",timeout:7E3,cache:!1}).done(function(a,b,c){f.callback(a,f.target)}).fail(function(a,b,c){ca(f.errorMsgLoc,c);qa(f.target.columnNum)}).always(function(){f.always&&f.always(f.target)})}var r=util.fn.cookieExists("config")?util.fn.getFromCookie("config"):
[],V=util.fn.cookieExists("watch")?util.fn.getFromCookie("watch"):{},ea=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/search-reddit-names?query=%QUERY",filter:function(a){var b=[];a.names&&a.names.forEach(function(a){var c={};c.value=a;b.push(c)});return b}}});return{init:function(){b();m();f()}}}(jQuery);$(document).ready(function(){app.init()});(function(a,b,l,m,f,u,B){a.GoogleAnalyticsObject=f;a[f]=a[f]||function(){(a[f].q=a[f].q||[]).push(arguments)};a[f].l=1*new Date;u=b.createElement(l);B=b.getElementsByTagName(l)[0];u.async=1;u.src=m;B.parentNode.insertBefore(u,B)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-57745225-1","auto");ga("send","pageview");
