(function(a){function b(c,X,d){var b=this;return this.on("click.pjax",c,function(c){var h=a.extend({},n(X,d));h.container||(h.container=a(this).attr("data-pjax")||b);f(c,h)})}function f(c,d,b){b=n(d,b);d=c.currentTarget;if("A"!==d.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<c.which||c.metaKey||c.ctrlKey||c.shiftKey||c.altKey||location.protocol!==d.protocol||location.hostname!==d.hostname||d.hash&&d.href.replace(d.hash,"")===location.href.replace(location.hash,
"")||d.href===location.href+"#")){var h={url:d.href,container:a(d).attr("data-pjax"),target:d};b=a.extend({},h,b);h=a.Event("pjax:click");a(d).trigger(h,[b]);h.isDefaultPrevented()||(k(b),c.preventDefault(),a(d).trigger("pjax:clicked",[b]))}}function l(c,d,b){b=n(d,b);d=c.currentTarget;if("FORM"!==d.tagName.toUpperCase())throw"$.pjax.submit requires a form element";d={type:d.method.toUpperCase(),url:d.action,data:a(d).serializeArray(),container:a(d).attr("data-pjax"),target:d};k(a.extend({},d,b));
c.preventDefault()}function k(c){function d(c,h){var p=a.Event(c,{relatedTarget:b});x.trigger(p,h);return!p.isDefaultPrevented()}c=a.extend(!0,{},a.ajaxSettings,k.defaults,c);a.isFunction(c.url)&&(c.url=c.url());var b=c.target,p=D(c.url).hash,x=c.context=E(c.container);c.data||(c.data={});c.data._pjax=x.selector;var B;c.beforeSend=function(a,b){"GET"!==b.type&&(b.timeout=0);a.setRequestHeader("X-PJAX","true");a.setRequestHeader("X-PJAX-Container",x.selector);if(!d("pjax:beforeSend",[a,b]))return!1;
0<b.timeout&&(B=setTimeout(function(){d("pjax:timeout",[a,c])&&a.abort("timeout")},b.timeout),b.timeout=0);c.requestUrl=D(b.url).href};c.complete=function(a,b){B&&clearTimeout(B);d("pjax:complete",[a,b,c]);d("pjax:end",[a,c])};c.error=function(a,b,h){var p=H("",a,c);a=d("pjax:error",[a,b,h,c]);"GET"==c.type&&("abort"!==b&&a)&&w(p.url)};c.success=function(b,h,r){var m="function"===typeof a.pjax.defaults.version?a.pjax.defaults.version():a.pjax.defaults.version,B=r.getResponseHeader("X-PJAX-Version"),
f=H(b,r,c);if(m&&B&&m!==B)w(f.url);else if(f.contents){k.state={id:c.id||(new Date).getTime(),url:f.url,title:f.title,container:x.selector,fragment:c.fragment,timeout:c.timeout};(c.push||c.replace)&&window.history.replaceState(k.state,f.title,f.url);try{document.activeElement.blur()}catch(l){}f.title&&(document.title=f.title);x.html(f.contents);(m=x.find("input[autofocus], textarea[autofocus]").last()[0])&&document.activeElement!==m&&m.focus();z(f.scripts);"number"===typeof c.scrollTo&&a(window).scrollTop(c.scrollTo);
""!==p&&(m=D(f.url),m.hash=p,k.state.url=m.href,window.history.replaceState(k.state,f.title,m.href),f=a(m.hash),f.length&&a(window).scrollTop(f.offset().top));d("pjax:success",[b,h,r,c])}else w(f.url)};k.state||(k.state={id:(new Date).getTime(),url:window.location.href,title:document.title,container:x.selector,fragment:c.fragment,timeout:c.timeout},window.history.replaceState(k.state,document.title));var m=k.xhr;m&&4>m.readyState&&(m.onreadystatechange=a.noop,m.abort());k.options=c;m=k.xhr=a.ajax(c);
0<m.readyState&&(c.push&&!c.replace&&(h(k.state.id,x.clone().contents()),window.history.pushState(null,"",F(c.requestUrl))),d("pjax:start",[m,c]),d("pjax:send",[m,c]));return k.xhr}function v(c,d){return k(a.extend({url:window.location.href,push:!1,replace:!0,scrollTo:!1},n(c,d)))}function w(a){window.history.replaceState(null,"","#");window.location.replace(a)}function I(c){if((c=c.state)&&c.container){if(d&&J==c.url||k.state&&k.state.id===c.id)return;var b=a(c.container);if(b.length){var h,p=t[c.id];
if(k.state){var m=h=k.state.id<c.id?"forward":"back",f=k.state.id,x=b.clone().contents();t[f]=x;"forward"===m?(m=u,x=q):(m=q,x=u);m.push(f);(f=x.pop())&&delete t[f]}h=a.Event("pjax:popstate",{state:c,direction:h});b.trigger(h);h={id:c.id,url:c.url,container:b,push:!1,fragment:c.fragment,timeout:c.timeout,scrollTo:!1};p?(b.trigger("pjax:start",[null,h]),c.title&&(document.title=c.title),b.html(p),k.state=c,b.trigger("pjax:end",[null,h])):k(h);b[0].offsetHeight}else w(location.href)}d=!1}function K(c){var d=
a.isFunction(c.url)?c.url():c.url,b=c.type?c.type.toUpperCase():"GET",h=a("<form>",{method:"GET"===b?"GET":"POST",action:d,style:"display:none"});"GET"!==b&&"POST"!==b&&h.append(a("<input>",{type:"hidden",name:"_method",value:b.toLowerCase()}));c=c.data;if("string"===typeof c)a.each(c.split("&"),function(c,d){var b=d.split("=");h.append(a("<input>",{type:"hidden",name:b[0],value:b[1]}))});else if("object"===typeof c)for(key in c)h.append(a("<input>",{type:"hidden",name:key,value:c[key]}));a(document.body).append(h);
h.submit()}function F(a){return a.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function D(a){var d=document.createElement("a");d.href=a;return d}function n(c,d){c&&d?d.container=c:d=a.isPlainObject(c)?c:{container:c};d.container&&(d.container=E(d.container));return d}function E(c){c=a(c);if(c.length){if(""!==c.selector&&c.context===document)return c;if(c.attr("id"))return a("#"+c.attr("id"));throw"cant get selector for pjax container!";}throw"no pjax container for "+
c.selector;}function A(c){return a.parseHTML(c,document,!0)}function H(c,d,b){var h={};h.url=F(d.getResponseHeader("X-PJAX-URL")||b.requestUrl);if(/<html/i.test(c)){d=a(A(c.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));var m=a(A(c.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else d=m=a(A(c));if(0===m.length)return h;h.title=d.filter("title").add(d.find("title")).last().text();b.fragment?(c="body"===b.fragment?m:m.filter(b.fragment).add(m.find(b.fragment)).first(),c.length&&(h.contents=c.contents(),
h.title||(h.title=c.attr("title")||c.data("title")))):/<html/i.test(c)||(h.contents=m);h.contents&&(h.contents=h.contents.not(function(){return a(this).is("title")}),h.contents.find("title").remove(),h.scripts=h.contents.filter("script[src]").add(h.contents.find("script[src]")).remove(),h.contents=h.contents.not(h.scripts));h.title&&(h.title=a.trim(h.title));return h}function z(c){if(c){var d=a("script[src]");c.each(function(){var c=this.src;if(!d.filter(function(){return this.src===c}).length){var b=
document.createElement("script");b.type=a(this).attr("type");b.src=a(this).attr("src");document.head.appendChild(b)}})}}function h(a,d){t[a]=d;for(u.push(a);q.length;)delete t[q.shift()];for(;u.length>k.defaults.maxCacheLength;)delete t[u.shift()]}function x(){return a("meta").filter(function(){var c=a(this).attr("http-equiv");return c&&"X-PJAX-VERSION"===c.toUpperCase()}).attr("content")}function m(){a.fn.pjax=b;a.pjax=k;a.pjax.enable=a.noop;a.pjax.disable=B;a.pjax.click=f;a.pjax.submit=l;a.pjax.reload=
v;a.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:x};a(window).on("popstate.pjax",I)}function B(){a.fn.pjax=function(){return this};a.pjax=K;a.pjax.enable=m;a.pjax.disable=a.noop;a.pjax.click=a.noop;a.pjax.submit=a.noop;a.pjax.reload=function(){window.location.reload()};a(window).off("popstate.pjax",I)}var d=!0,J=window.location.href,L=window.history.state;L&&L.container&&(k.state=L);"state"in window.history&&(d=!1);var t={},q=[],u=[];
0>a.inArray("state",a.event.props)&&a.event.props.push("state");a.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/);a.support.pjax?m():B()})(jQuery);var hljs=new function(){function a(a){return a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function b(a,b){var m=a&&a.exec(b);return m&&0==m.index}function f(a){a=(a.className+" "+(a.parentNode?a.parentNode.className:"")).split(/\s+/);a=a.map(function(a){return a.replace(/^lang(uage)?-/,"")});return a.filter(function(a){return E(a)||/no(-?)highlight/.test(a)})[0]}function l(a,b){var m={},f;for(f in a)m[f]=a[f];if(b)for(f in b)m[f]=b[f];return m}function k(a){var b=[];(function B(a,
h){for(var f=a.firstChild;f;f=f.nextSibling)3==f.nodeType?h+=f.nodeValue.length:1==f.nodeType&&(b.push({event:"start",offset:h,node:f}),h=B(f,h),f.nodeName.toLowerCase().match(/br|hr|img|input/)||b.push({event:"stop",offset:h,node:f}));return h})(a,0);return b}function v(b,f,m){function k(){return b.length&&f.length?b[0].offset!=f[0].offset?b[0].offset<f[0].offset?b:f:"start"==f[0].event?b:f:b.length?b:f}function d(c){q+="<"+c.nodeName.toLowerCase()+Array.prototype.map.call(c.attributes,function(c){return" "+
c.nodeName+'="'+a(c.value)+'"'}).join("")+">"}function l(a){q+="</"+a.nodeName.toLowerCase()+">"}function n(a){("start"==a.event?d:l)(a.node)}for(var t=0,q="",u=[];b.length||f.length;){var c=k(),q=q+a(m.substr(t,c[0].offset-t)),t=c[0].offset;if(c==b){u.reverse().forEach(l);do n(c.splice(0,1)[0]),c=k();while(c==b&&c.length&&c[0].offset==t);u.reverse().forEach(d)}else"start"==c[0].event?u.push(c[0].node):u.pop(),n(c.splice(0,1)[0])}return q+a(m.substr(t))}function w(a){function b(a){return a&&a.source||
a}function f(d,m){return RegExp(b(d),"m"+(a.cI?"i":"")+(m?"g":""))}function k(d,J){if(!d.compiled){d.compiled=!0;d.k=d.k||d.bK;if(d.k){var n={},t=function(c,b){a.cI&&(b=b.toLowerCase());b.split(" ").forEach(function(a){a=a.split("|");n[a[0]]=[c,a[1]?Number(a[1]):1]})};"string"==typeof d.k?t("keyword",d.k):Object.keys(d.k).forEach(function(a){t(a,d.k[a])});d.k=n}d.lR=f(d.l||/\b[A-Za-z0-9_]+\b/,!0);J&&(d.bK&&(d.b="\\b("+d.bK.split(" ").join("|")+")\\b"),d.b||(d.b=/\B|\b/),d.bR=f(d.b),d.e||d.eW||(d.e=
/\B|\b/),d.e&&(d.eR=f(d.e)),d.tE=b(d.e)||"",d.eW&&J.tE&&(d.tE+=(d.e?"|":"")+J.tE));d.i&&(d.iR=f(d.i));void 0===d.r&&(d.r=1);d.c||(d.c=[]);var q=[];d.c.forEach(function(a){a.v?a.v.forEach(function(b){q.push(l(a,b))}):q.push("self"==a?d:a)});d.c=q;d.c.forEach(function(a){k(a,d)});d.starts&&k(d.starts,J);var u=d.c.map(function(a){return a.bK?"\\.?("+a.b+")\\.?":a.b}).concat([d.tE,d.i]).map(b).filter(Boolean);d.t=u.length?f(u.join("|"),!0):{exec:function(a){return null}}}}k(a)}function I(f,k,m,l){function d(a,
c){if(b(a.eR,c))return a;if(a.eW)return d(a.parent,c)}function n(a,c,b,d){d='<span class="'+(d?"":A.classPrefix);return d+(a+'">')+c+(b?"":"</span>")}function v(){var b;if(void 0!==c.sL)c.sL&&!H[c.sL]?b=a(p):(b=c.sL?I(c.sL,p,!0,D):K(p),0<c.r&&(y+=b.r),"continuous"==c.subLanguageMode&&(D=b.top),b=n(b.language,b.value,!1,!0));else if(c.k){b="";var d=0;c.lR.lastIndex=0;for(var f=c.lR.exec(p);f;){b+=a(p.substr(d,f.index-d));var d=c,h=f,h=u.cI?h[0].toLowerCase():h[0];(d=d.k.hasOwnProperty(h)&&d.k[h])?
(y+=d[1],b+=n(d[0],a(f[0]))):b+=a(f[0]);d=c.lR.lastIndex;f=c.lR.exec(p)}b+=a(p.substr(d))}else b=a(p);return b}function t(b,d){var f=b.cN?n(b.cN,"",!0):"";b.rB?(r+=f,p=""):b.eB?(r+=a(d)+f,p=""):(r+=f,p=d);c=Object.create(b,{parent:{value:c}})}function q(f,h){p+=f;if(void 0===h)return r+=v(),0;var k;a:{k=c;for(var l=0;l<k.c.length;l++)if(b(k.c[l].bR,h)){k=k.c[l];break a}k=void 0}if(k)return r+=v(),t(k,h),k.rB?0:h.length;if(k=d(c,h)){l=c;l.rE||l.eE||(p+=h);r+=v();do c.cN&&(r+="</span>"),y+=c.r,c=c.parent;
while(c!=k.parent);l.eE&&(r+=a(h));p="";k.starts&&t(k.starts,"");return l.rE?0:h.length}if(!m&&b(c.iR,h))throw Error('Illegal lexeme "'+h+'" for mode "'+(c.cN||"<unnamed>")+'"');p+=h;return h.length||1}var u=E(f);if(!u)throw Error('Unknown language: "'+f+'"');w(u);var c=l||u,D,r="";for(l=c;l!=u;l=l.parent)l.cN&&(r=n(l.cN,"",!0)+r);var p="",y=0;try{for(var G,F,z=0;;){c.t.lastIndex=z;G=c.t.exec(k);if(!G)break;F=q(k.substr(z,G.index-z),G[0]);z=G.index+F}q(k.substr(z));for(l=c;l.parent;l=l.parent)l.cN&&
(r+="</span>");return{r:y,value:r,language:f,top:c}}catch(N){if(-1!=N.message.indexOf("Illegal"))return{r:0,value:a(k)};throw N;}}function K(b,f){f=f||A.languages||Object.keys(H);var k={r:0,value:a(b)},l=k;f.forEach(function(a){if(E(a)){var f=I(a,b,!1);f.language=a;f.r>l.r&&(l=f);f.r>k.r&&(l=k,k=f)}});l.language&&(k.second_best=l);return k}function F(a){A.tabReplace&&(a=a.replace(/^((<[^>]+>|\t)+)/gm,function(a,b,f,d){return b.replace(/\t/g,A.tabReplace)}));A.useBR&&(a=a.replace(/\n/g,"<br>"));return a}
function D(a){var b=f(a);if(!/no(-?)highlight/.test(b)){var l;A.useBR?(l=document.createElementNS("http://www.w3.org/1999/xhtml","div"),l.innerHTML=a.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):l=a;var n=l.textContent,d=b?I(b,n,!0):K(n);l=k(l);if(l.length){var w=document.createElementNS("http://www.w3.org/1999/xhtml","div");w.innerHTML=d.value;d.value=v(l,k(w),n)}d.value=F(d.value);a.innerHTML=d.value;a.className+=" hljs "+(!b&&d.language||"");a.result={language:d.language,re:d.r};d.second_best&&
(a.second_best={language:d.second_best.language,re:d.second_best.r})}}function n(){if(!n.called){n.called=!0;var a=document.querySelectorAll("pre code");Array.prototype.forEach.call(a,D)}}function E(a){return H[a]||H[z[a]]}var A={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},H={},z={};this.highlight=I;this.highlightAuto=K;this.fixMarkup=F;this.highlightBlock=D;this.configure=function(a){A=l(A,a)};this.initHighlighting=n;this.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",
n,!1);addEventListener("load",n,!1)};this.registerLanguage=function(a,b){var f=H[a]=b(this);f.aliases&&f.aliases.forEach(function(b){z[b]=a})};this.listLanguages=function(){return Object.keys(H)};this.getLanguage=E;this.inherit=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";
this.BE={b:"\\\\[\\s\\S]",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]};this.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/};this.CLCM={cN:"comment",b:"//",e:"$",c:[this.PWM]};this.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[this.PWM]};this.HCM={cN:"comment",b:"#",e:"$",c:[this.PWM]};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM=
{cN:"number",b:this.BNR,r:0};this.CSSNM={cN:"number",b:this.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0};this.RM={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]};this.TM={cN:"title",b:this.IR,r:0};this.UTM={cN:"title",b:this.UIR,r:0}};
hljs.registerLanguage("javascript",function(a){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"},
c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},a.ASM,a.QSM,a.CLCM,a.CBCM,a.CNM,{b:"("+a.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[a.CLCM,a.CBCM,a.RM,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[a.inherit(a.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[a.CLCM,a.CBCM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+a.IR,r:0}]}});var util={fn:{remove:function(a,b,f){f=a.slice((f||b)+1||a.length);a.length=0>b?a.length+b:b;return a.push.apply(a,f)},takeWhile:function(a,b,f){for(var l=[],k=0,v=a.length;k<v;k++)if(f(a[k],b))l.push(a[k]);else break;return l},any:function(a,b){var f=!1;$(a).each(function(a,k){b(k)&&(f=!0)});return f},setCookie:function(a,b){document.cookie=a+"="+b+";"},getCookie:function(a){a+="=";for(var b=document.cookie.split(";"),f=0;f<b.length;f++){for(var l=b[f];" "==l.charAt(0);)l=l.substring(1);if(0==l.indexOf(a))return l.substring(a.length,
l.length)}return""},cookieExists:function(a){return util.fn.getCookie(a)?!0:!1},getFromCookie:function(a){return JSON.parse(util.fn.getCookie(a))},setInCookie:function(a,b){util.fn.setCookie(a,JSON.stringify(b))},jQueryExtensions:function(){$.fn.launchPopOver=function(a,b){if(!/popover/.test($(this).attr("aria-describedby"))){var f=this;$(this).popover("destroy");$(this).popover(b);$(this).popover("show");setTimeout(function(){$(f).popover("destroy")},a);return this}};$.fn.hasOverflowed=function(){return 0<
this.length?this[0].scrollHeight>this[0].clientHeight||this[0].scrollWidth>this[0].clientWidth:!1}}()},html:{a:function(a){return["<li class='list-group-item'><div class='input-group'>","<input class='form-control' type='text' value='"+a+"'></input>","<span class='input-group-addon'><i class='fa fa-close'></i></span></div></li>"].join("")},b:function(a,b){return["<li data-subid="+a.subreddit_id+" data-subreddit="+a.subreddit+" data-thread="+a.permalink+" data-threadid="+a.id+" class='list-group-item nopacity'>",
a.title," <span class='text-primary'>in /r/"+a.subreddit+"</span>","<span class='badge pull-right'>"+b+"</span>","</li>"].join("")},c:function(a,b){var f=function(){var a="";b.forEach(function(b){a+="<a class='btn "+b[0]+"'><i class='fa fa-"+b[1]+" fa-2x'></i></a>"});return a}();return["<ul class='list-group controls "+a+"'>","<li class='list-group-item controls'><div class='btn-group'>",f,"</div></li></ul>"].join("")},d:function(a){return["<div class='form-group'><label class='control-label label-width'>Threads <span class='info-edit label label-default pull-right'>Info</span></label>",
"<select data-column='"+a+"' class='form-control thread-edit'></select>","</div>"].join("")},e:function(){return"<div class='form-group'><label class='control-label label-width'>Subreddit <span class='label label-danger delete-edit pull-right'>Delete</span></label><input type='text' class='form-control subreddit-edit' placeholder='Enter a subreddit'></div>"},f:function(a,b){return"<div class='subreddit-group-edit'>"+a+b+"</div>"},g:function(a){return["<form action='javascript:void(0);' class='edit-column-settings'>"+
a,"<input type='submit' class='hide'></form>"].join("")},h:function(a,b,f,l){return['<ul class="nav nav-tabs">','<li class="active"><a href="#'+a+'-add" data-toggle="tab">Add</a></li>','<li><a data-toggle="tab" href="#'+a+'-settings">Settings</a></li>',l?'<li class="post-tab"><a data-toggle="tab" href="#'+a+'-post">Post</a></li>':"",'</ul><div class="tab-content">','<div class="tab-pane fade active in" id="'+a+'-add">'+b+"</div>",'<div class="tab-pane fade" id="'+a+'-settings">'+f+"</div>",l?'<div class="tab-pane fade" id="'+
a+'-post">'+l+"</div>":"","</div>"].join("")},i:function(a){return"<div data-column='"+a+"' class='frame-content nopacity'></div>"},j:function(a){return["<div data-column='"+a+"' class='btn-group column-bars'>","<a class='btn'>","<i data-column='"+a+"' class='fa fa-bars fa-lg'></i>","</a></div>"].join("")},l:function(a,b,f,l){return["<i data-column='"+a+"' class='nopacity loading fa fa-refresh fa-spin fa-2x'></i>","<div class='frame-overlay' data-column='"+a+"'>","<div data-column='"+a+"' class='frame'>",
"<h6 class='frame-header'>"+("reddit"==b.type?"<i class='fa fa-reddit fa-lg'></i> ":"<i class='fa fa-twitter'></i> ")+b.settings.name,"</h6>",f,"</div>","</div>"+util.html.p(a)+l].join("")},m:function(a){return"<div class='frame-container'>"+a+"</div>"},n:function(a,b,f){return"<div data-column='"+a+"' data-type='"+b.type+"' class='frame-position nopacity'>"+f+"</div>"},o:function(a,b){return"<div data-column='"+a+"' class='item "+(0==a?"active":"")+"'>"+b+"</div>"},p:function(a){return['<div data-column="'+
a+'" class="hide column-options btn-group" style="height:0;">','<a data-column="'+a+'" class="btn column-option teal manage-threads">','<i class="fa fa-newspaper-o fa-2x"></i><p>THREADS</p></a>','<form action="javascript:void(0);" data-column="'+a+'" class="hide edit-form teal">','<input data-column="'+a+'" type="submit" class="hide">',"</form>",'<a data-column="'+a+'" class="btn column-option darkgoldenrod settings-switch">','<i class="fa fa-cog fa-2x"></i><p>SETTINGS</p></a>','<div data-column="'+
a+'" class="hide settings-tab darkgoldenrod"></div>','<a data-column="'+a+'" class="btn column-option write-comment-switch cornflowerblue">','<i class="fa fa-pencil fa-2x"></i><p>WRITE COMMENT</p></a>','<div data-column="'+a+'" class="hide write-comment cornflowerblue"></div>','<a data-column="'+a+'" class="refreshSwitch btn column-option slateblue">','<i class="fa fa-toggle-on fa-2x"></i><p>AUTO REFRESH</p></a>','<a data-column="'+a+'" class="trash btn column-option darkred">','<i class="fa fa-trash fa-2x"></i><p>DELETE COLUMN</p></a></div>'].join("")},
q:function(a){return['<div id="collapse'+a+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading'+a+'">','<div class="panel-body"></div></div>'].join("")},r:function(a,b){return'<div class="panel panel-default nopacity">'+a+b+"</div>"},s:function(a,b){return["<div class='form-group'>","<label class='control-label label-width'>Threads <span class='"+a+" label label-default pull-right'>Info</span></label>","<select class='form-control "+b+"'></select>","</div>"].join("")},t:function(a,
b){return["<div class='form-group'>","<label class='control-label label-width'>Subreddit <span class='"+a+" label label-danger pull-right'>Delete</span></label>","<input type='text' class='form-control "+b+"' placeholder='Enter a subreddit'>","</div>"].join("")},u:function(a,b,f){return"<div class='"+a+" nopacity'>"+b+f+"</div>"},v:function(a){return["<option data-subid='"+a.data.subreddit_id+"' data-threadtitle='"+a.data.title+"' data-threadid='"+a.data.id+"' value='"+a.data.permalink+"'>",a.data.title,
"</option>"].join("")},w:function(a){return["<option data-subid='"+a.subid+"' data-threadtitle='"+a.threadtitle+"' data-threadid='"+a.threadid+"' value='"+a.thread+"'>",a.threadtitle,"</option>"].join("")},x:function(a){return["<div class='reply-buttons'><button class='cancel-reply btn btn-default'>Cancel</button>","<button type='submit' class='save-reply btn "+(a?"btn-default":"btn-primary")+"'>Save</button>","</div>"].join("")},y:function(a){return"<input type='hidden' name='thing_id' value='"+
a+"'>"},z:function(a,b){return[b?"<label>Comment</label>":"","<textarea name='text' class='form-control textarea-reply'","placeholder='"+(b?"Write a comment":"Reply to "+a+"..")+"'></textarea>"].join("")},aa:function(a,b,f,l){return["<div class='"+(l?"isTopLevel":"nopacity hide")+" reply-form'>","<div class='submitting nopacity hide'>"+(l?"<b><span class='black'>Submitting...</span></b>":"Submitting...")+"</div>","<form action='javascript:void(0)'>"+a+b+f+"</form>","</div>"].join("")},ab:function(a){return"<a class='btn new-comment'><span class='text-primary diff'>"+
a+" new</span></a>"},ac:function(a){return["<span class='reply-num text-warning'>"+a+"</span>","<span class='text-warning'>&nbsp;<i class='fa expand fa-plus-square'></i>&nbsp;</span>"].join("")},ad:function(a,b){return"<a data-name='"+a+"' data-replylength='"+b+"' class='btn reply'></a>"},ae:function(a,b,f,l,k){return["<footer data-id='"+a.data.name+"' class='comment-footer'>","<div class='links-container btn-group'>","<a class='btn time-elapsed white'>"+f+"</a>","<a class='btn reply-switch'><i class='fa fa-reply fa-lg'></i></a>",
"<a class='btn perma' href='"+l+"' target='_blank'><i class='fa fa-link fa-lg'></i></a>","<a class='btn refresh-comment' data-linkid='"+a.data.link_id+"' data-id='"+a.data.name+"'><i class='fa fa-refresh fa-lg'></i></a>",0!=b?util.html.af(a,b):"","</div>",k,"</footer>"].join("")},af:function(a,b){return["<a data-name='"+a.data.name+"' data-replylength='"+b+"' class='btn reply'>","<span class='reply-num text-warning'>"+b+"</span>","<span class='text-warning'>&nbsp;<i class='fa expand fa-plus-square'></i>&nbsp;</span></a>"].join("")},
ag:function(a,b){return["<div class='media-heading btn-group'><a class='btn vote'><i class='fa fa-arrow-up'></i></a>","<a data-id='"+a.data.name+"' class='score btn'>"+a.data.score+"</a>","<a class='btn vote vote-last'><i class='fa fa-arrow-down'></i></a>","<a class='btn author' href='"+window.location.protocol+"//www.reddit.com/u/"+a.data.author+"' target='_blank'>"+a.data.author+"</a>",a.data.author_flair_css_class?"<a class='flair btn'>"+a.data.author_flair_css_class+"</a>":"&nbsp;","</div>"+b].join("")},
ah:function(a,b){return["<div class='load-comments' data-parent='"+a.data.parent_id+"' class='load-comments'>","<i class='fa fa-download'></i>&nbsp; load more comments","</div>"+b].join("")},ai:function(a){return"<div class='media-body'>"+a+"</div>"},aj:function(a,b){return"<div class='thumb pull-left "+(a?b:"")+"'></div>"},ak:function(a,b,f,l,k,v,w){return["<div data-parentid='"+a.data.parent_id+"' data-linkid='"+a.data.link_id+"' ","data-icon='"+b+"' id='"+a.data.name+"' ","class='media"+(f?" parent ":
w?" hide":"")+""+(l?" nopacity":"")+"'>"+k+v,"</div>"].join("")},al:function(){return'<li class="list-group-item"><div class="input-group"><input class="form-control" type="text"><span class="input-group-addon"><i class="fa fa-close"></i></span></div></li>'},am:function(){return'<div class="form-group"><label>Thread</label><select class="form-control post-thread"></select></div>'},an:function(a,b){return'<a target="_blank" href="'+a+'">'+b+"</a>"}}},app=function(a){function b(){a(document).pjax("a[data-pjax]",
"#pjax-container");a(document).on("pjax:send",function(){});a(document).on("pjax:end",function(){0<a("#listsjs").length?l():0<a("#blenddit").length?k():(a(".teams").hide(),a("#sidebarTrigger").hide(),a(".navbar-fixed-top").show(),a(".navbar-brand > .text-warning").text("kurtlocker.org"),a(".social").show(),a("html, body").removeClass("noverflow"))})}function f(){a("#sidebarTrigger").unbind("click").click(function(e){e.preventDefault();a("#wrapper").toggleClass("toggled")})}function l(){0<a("#listsjs").length&&
(f(),a("#sidebarTrigger").show(),a(".navbar-brand > .text-warning").text("[ l [ i [ s ] t ] s ]"),a("div.js").each(function(e,g){a(g).text(a(g).text().trim());hljs.highlightBlock(g)}),a(".sidebarFunc").unbind("click").click(function(){a(".sidebarFunc").removeClass("blue-dotted");a(this).addClass("blue-dotted");a(".nav-tabs").removeClass("blue-dotted");a("#function-"+a(this).attr("num")).addClass("blue-dotted");a("html, body").animate({scrollTop:a("#function-"+a(this).attr("num")).offset().top-60},
500);a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}),a("#page-content-wrapper").unbind("click").click(function(){a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}),a(".navbar-fixed-top, .navbar-fixed-bottom").removeClass("hide"))}function k(){0<a("#blenddit").length&&(a(".teams").show(),a(".social").hide(),a(".navbar-fixed-bottom").removeClass("hide"),a(".navbar-fixed-top").hasClass("hide")?void 0:a(".navbar-fixed-top").addClass("hide"),a(".open-controls").unbind("click").click(function(){u()}),
a(".help").unbind("click").bind("click",function(){console.log("help modal")}),a("#delete-column").unbind("click").click(function(){util.fn.remove(s,a(this).data("column"));ba(a(this).data("column"));util.fn.setInCookie("config",s);R(!0)}),a('[data-toggle="tooltip"]').tooltip(),ca.initialize(),K(),L(),w("#subreddit-search",!0),v())}function v(){function e(){var e;a("#greeting").hasClass("hide")?(a(".columns-or-home i").removeClass("fa-columns").addClass("fa-home"),e="home"):(a(".columns-or-home i").removeClass("fa-home").addClass("fa-columns"),
e="columns");return e}e();a(".columns-or-home").unbind("click").bind("click",function(){"columns"==e()?0<s.length?R():a(this).parent().launchPopOver(3E3,n("top","No columns","Build at least one column to view columns.")):(0==a("#watch-threads .list-group.contain").children().length?E():"",G("#greeting"),e())})}function w(e,g){a(e+" .subreddit-search-input").hasClass("tt-input")||I(e+" .subreddit-search-input");a(e+" .subreddit-search-submit").unbind("click").bind("click",function(){var g=a(e+" .subreddit-search-input.tt-input").val();
g&&S(window.location.protocol+"//www.reddit.com/r/"+g+".json",function(e,g,b,c){G("#subreddit-container");a("#subreddit-result-title").text(c);w("#subreddit-search-results");v()},void 0,void 0,!1,"#"+this.form.id,g)});g&&a(e+" .subreddit-search-submit").trigger("click")}function I(e,g){a(e).typeahead(null,{name:"reddit-names",displayKey:"value",source:ca.ttAdapter()}).on("typeahead:selected typeahead:autocompleted",function(){g&&g(this)})}function K(){var e=a("#reddit-uri").data("subreddituri"),g=
a("#reddit-uri").data("threadiduri");e&&g?da(g,function(a){"undefined"!==typeof a.data.children&&ea(D(a.data.children))},void 0,F):e?a("#subreddit-search .subreddit-search-input").val(e):F()}function F(){0<s.length?(a(".carousel-inner").children().remove(),R()):(G("#greeting"),E())}function D(a){var g={},b={},c=[];a.forEach(function(a){var e={};e.subid=a.data.subreddit_id;e.subreddit=a.data.subreddit.toLowerCase();e.thread=a.data.permalink;e.threadid=a.data.id;e.threadtitle=a.data.title;c.push(e)});
b.limitPosts="50";b.name=1==a.length?a[0].data.title.substring(0,22)+" ...":"My Column";b.refreshRate="60";b.sortBy="new";g.type="reddit";g.settings=b;g.threads=c;return g}function n(a,g,b){return{placement:a,title:g,content:b,trigger:"manual"}}function E(){var a;Object.keys(T).length?a=T:a={subs:"nfl nba mlb nhl mls hockey soccer collegebasketball".split(" "),match:["Game Thread","Match Thread","Live Thread"]};A(a);H(a.match);z();m();h();x()}function A(e){var g=e.match,b="",c="";e.subs.forEach(function(a,
e){b+=J(a,"input")});g.forEach(function(a,e){c+=J(a,"input")});a("#watch-subreddits .list-group.contain, #watch-matching .list-group.contain").children().remove();a("#watch-subreddits .list-group.contain").append(b);a("#watch-matching .list-group.contain").append(c)}function H(e){a("#watch-threads .list-group.contain").children().remove();a("#watch-list-no-results").removeClass("hide");a("#watch-subreddits input").each(function(g,b){M("/r/"+b.value,"","",{target:e,callback:function(g,b){g.data.children.forEach(function(g,
b){e.some(function(a){return RegExp(a.toLowerCase()).test(g.data.title.toLowerCase())})&&(a("#watch-list-no-results").addClass("hide"),a("#watch-threads .list-group.contain").append(J(g.data)));C(a("#watch-threads .list-group-item"),100);d()})}})})}function z(){a("#watch-subreddits .input-group-addon, #watch-matching .input-group-addon").unbind("click").click(function(){a(this).parent().parent().remove()})}function h(){a("#watch-subreddits .btn.add").unbind("click").bind("click",function(){a("#watch-subreddits .list-group.contain").append(util.html.al);
z()});a("#watch-matching .btn.add").unbind("click").bind("click",function(){a("#watch-matching .list-group.contain").append(util.html.al);z()})}function x(){a("#watch-threads .btn.refresh").unbind("click").bind("click",function(){B();E()})}function m(){a("#watch-subreddits .btn.save, #watch-matching .btn.save, #watch-threads .btn.save").unbind("click").bind("click",function(){function e(e){return""!=a(e).val()}var g=a("#watch-subreddits .list-group.contain"),b=a("#watch-matching .list-group.contain");
if(0!=g.children().length&&util.fn.any(g.find("input"),e)&&0!=b.children().length&&util.fn.any(b.find("input"),e)){if(B(),a(this).hasClass("wthreads"))if(util.fn.any("#watch-threads .list-group.contain li",function(e){return a(e).hasClass("white")})){var c=[];a("#watch-threads .list-group.contain li.white").each(function(e,g){var b={},d={};d.subreddit_id=a(g).data("subid");d.subreddit=a(g).data("subreddit");d.permalink=a(g).data("thread");d.id=a(g).data("threadid");d.title=a(g).text();b.data=d;c.push(b)});
ea(D(c));F()}else a("#watch-threads .list-group-item.controls").launchPopOver(3E3,n("top","Verification","Please select at least one thread from the list."))}else a("#watch-subreddits .list-group-item.controls, #watch-matching .list-group-item.controls, #watch-threads .list-group-item.controls").launchPopOver(3E3,n("top","Verification","Verify you have one subreddit and one matching pattern added with values."))})}function B(){var e={};e.subs=function(){var e=[];a("#watch-subreddits .list-group.contain input").each(function(a,
b){""!=b.value&&null!=b.value?e.push(b.value):""});return e}();e.match=function(){var e=[];a("#watch-matching .list-group.contain input").each(function(a,b){""!=b.value&&null!=b.value?e.push(b.value):""});return e}();T=e;util.fn.setInCookie("watch",T)}function d(){a("#watch-threads .list-group-item").unbind("click").click(function(){a(this).hasClass("white")?a(this).removeClass("white"):a(this).addClass("white")})}function J(a,g){return"input"==g?util.html.a(a):util.html.b(a,U(a.created_utc))}function L(){function e(){a("#greeting").hasClass("hide")?
a(".carousel-inner").css("height",window.innerHeight-53):a(".carousel-inner").removeAttr("style")}app.height=window.innerHeight;e();q();a(window).unbind("resize").bind("resize",function(){app.height!=window.innerHeight&&(e(),q(),app.height=window.innerHeight)})}function t(e,g){var b=a(".column-options[data-column="+e+"]");b.removeAttr("style").css("max-height",b.height());q(e,g)}function q(e,g){var b="undefined"!==typeof e?a(".frame-content[data-column="+e+"]"):a(".frame-content");if("undefined"===
typeof e)b.each(function(e,b){var c=a(".column-options[data-column="+e+"]").hasClass("hide")?0:a(".column-options[data-column="+e+"]").height(),c="undefined"!==typeof g?g:c;a(b).removeAttr("style").css("height",window.innerHeight-(107+c))});else{var c=a(".column-options[data-column="+e+"]").hasClass("hide")?0:a(".column-options[data-column="+e+"]").height(),c="undefined"!==typeof g?g:c;b.removeAttr("style").css("height",window.innerHeight-(107+c))}}function u(){Aa();c();a("#save-changes").unbind("click").bind("click",
function(){r();R(!0)});a("#controlModal").modal()}function c(){C(a("a.white"),100);a("#reddit-logout").unbind("click").bind("click",function(){S("/reddit-logout",function(e,g,b){a("[data-reddituser]").data("reddituser",null);a(".config-account").children().remove();a(".config-account").append(e);C(a("a.white"),100)})})}function X(){a("#reddit-block, #twitter-block").unbind("click").bind("click",function(){"reddit-block"==this.id&&(fa("#reddit","column-settings","sub-group-controls","subreddit-controls",
"thread-controls","delete-controls"),Ba(),a("#vendor-group, #reddit").toggleClass("hide"))})}function r(){!a("#reddit").hasClass("hide")&&util.fn.any(".thread-controls",function(e){return null!=a(e).val()})&&(ha(".sub-group-controls",".subreddit-controls",".thread-controls","#reddit .column-settings"),a("#cancel-column").trigger("click"))}function p(e,g){a([".write-comment[data-column="+g+"]",".settings-switch[data-column="+g+"]",".edit-form[data-column="+g+"]",".manage-threads[data-column="+g+"]",
".settings-tab[data-column="+g+"]",".write-comment-switch[data-column="+g+"]",".refreshSwitch[data-column="+g+"]",".trash[data-column="+g+"]"].join()).addClass("hide");a(e).removeClass("hide");a(e[0].previousSibling).removeClass("hide")}function y(e){a([".settings-switch[data-column="+e+"]",".manage-threads[data-column="+e+"]",".write-comment-switch[data-column="+e+"]",".refreshSwitch[data-column="+e+"]",".trash[data-column="+e+"]"].join()).removeClass("hide");a([".write-comment[data-column="+e+"]",
".edit-form[data-column="+e+"]",".settings-tab[data-column="+e+"]"].join()).addClass("hide")}function G(e){a("#main-loader-container, #content-container, #greeting, #subreddit-container").removeClass("faded").addClass("hide");"#content-container"==e?a("html, body").addClass("noverflow"):a("html, body").removeClass("noverflow");C(a(e).removeClass("hide"),100)}function R(e){if(0==s.length)G("#greeting"),0==a("#watch-threads .list-group.contain").children().length?E():"";else if(G("#content-container"),
0==a(".carousel-inner").children().length||e){e&&a(".carousel-inner").children().remove();e=0;for(var g=s.length;e<g;e++)ia(s[e],e)}v();L()}function ua(e,g){var b=function(){for(var a=util.html.c("edit-button-group",[["add-thread-button","plus-circle"],["cancel-edit-button","close"],["save-edit-button","save"]]),b=0,c=e.threads.length;b<c;b++)var d=util.html.d(g),O=util.html.e(),d=util.html.f(O,d),a=a+d;return a}(),c=function(){var e=util.html.c("edit-button-group",[["cancel-edit-button","close"],
["save-edit-button","save"]]),b=a("<div>").append(a(".column-settings").children().clone().each(function(){var e=a(this).find("label"),b=a(this).find("*[id]");e.each(function(e,b){a(b).attr("for",a(b).attr("for")+"-column-"+g)});b.each(function(e,b){a(b).attr("id",a(b).attr("id")+"-column-"+g)})})).html();return util.html.g(e+b)}(),d=util.html.am()+ja("","",!0);a(".edit-form[data-column="+g+"]").append(b);a(".settings-tab[data-column="+g+"]").append(c);a(".write-comment[data-column="+g+"]").append(d);
xa(g);ka("delete-edit");la("info-edit");fa(".edit-form[data-column="+g+"]","edit-button-group","subreddit-group-edit","subreddit-edit","thread-edit","delete-edit","info-edit",g);za(e,g);ya(e,g);N(".edit-form[data-column="+g+"]",g);N(".settings-tab[data-column="+g+"]",g);wa(g,e)}function N(e,g){a(e).find("input[type=submit]").unbind("click").bind("click",function(){a(e).find(".save-edit-button").trigger("click")})}function va(e,g){var b=a(e+" .post-thread"),c=a(g+" .thread-edit");b.children().remove();
c.each(function(e,g){a(g).val()&&b.append(a(g).find("option:selected").clone())})}function wa(e,g){a("#column-name-column-"+e).val(g.settings.name);a("#refresh-column-"+e).val(g.settings.refreshRate);a("#limit-column-"+e).val(g.settings.limitPosts);a("#sortBy-column-"+e).val(g.settings.sortBy)}function xa(e){a(".edit-form[data-column="+e+"] .subreddit-edit").each(function(g,b){this.value=s[e].threads[g].subreddit;I(b,function(g){var b=a(".edit-form[data-column="+e+"] .subreddit-edit").parent().parent().parent().index(a(g).parent().parent().parent());
M("/r/"+g.value,"","",{target:[".edit-form[data-column="+e+"] .thread-edit",b],errorMsgLoc:g,callback:P})});a(this).unbind("change").bind("change",function(){var g=a(".edit-form[data-column="+e+"] .subreddit-edit").parent().parent().parent().index(a(this).parent().parent().parent());M("/r/"+this.value,"","",{target:[".edit-form[data-column="+e+"] .thread-edit",g],errorMsgLoc:this,callback:P})})})}function ya(e,g){var b=".column-options[data-column="+g+"]";a(".column-options[data-column="+g+"] .save-edit-button").unbind("click").bind("click",
function(){ha(b+" .subreddit-group-edit",".subreddit-edit",".thread-edit",b+" .edit-column-settings",g);ia(s[g],g);a(".item").removeClass("active");a(".item[data-column="+g+"]").addClass("active")})}function za(e,g){a(".edit-form[data-column="+g+"] .cancel-edit-button, .settings-tab[data-column="+g+"] .cancel-edit-button").unbind("click").bind("click",function(){y(g)})}function ia(e,g){a(".item[data-column="+g+"]").remove();var b=util.html.i(g),c=util.html.j(g),b=util.html.l(g,e,c,b),b=util.html.m(b),
b=util.html.n(g,e,b),b=util.html.o(g,b),c=a(".carousel-inner");0==g?0<c.children().length?a(b).insertBefore(".item:first"):c.append(b):a(b).insertAfter(a(".item[data-column="+(g-1)+"]"));Ca(g);ua(e,g,"column");"reddit"==e.type&&(V(e,g),ma(g));L();C(".frame-position[data-column="+g+"]",100)}function ba(a){clearInterval(app["r"+a]);delete app["r"+a]}function ma(e){ba(e);a(".refreshSwitch[data-column="+e+"] i").hasClass("fa-toggle-on")?app["r"+e]=setInterval(function(){s[e]?V(s[e],e):clearInterval(app["r"+
e])},1E3*parseInt(s[e].settings.refreshRate)):clearInterval(app["r"+e])}function Ca(e){a(".refreshSwitch[data-column="+e+"]").unbind("click").bind("click",function(){var e=a(this).data("column"),b=a(this).find("i");b.toggleClass("fa-toggle-on fa-toggle-off");b.hasClass("fa-toggle-on")&&V(s[e],e);ma(e)});a(".frame[data-column="+e+"] .frame-header").unbind("click").bind("click",function(){V(s[e],e)});a(".column-bars[data-column="+e+"] > a").unbind("click").bind("click",function(){var e=a(this).parent().data("column"),
b=a(".column-options[data-column="+e+"]");b.hasClass("hide")?(b.removeClass("hide"),t(e),a(".edit-form[data-column="+e+"] .subreddit-group-edit").each(function(e,b){var g=a(this).find(".subreddit-edit.tt-input").val(),c=a(this).find(".thread-edit"),d=c.val(),c=c.data("column");""!=g&&null==d&&M("/r/"+g,"","",{target:[".edit-form[data-column="+c+"] .thread-edit",e,c],errorMsgLoc:this,callback:P})})):(y(e),b.addClass("hide"),t(e,0))});a(".manage-threads[data-column="+e+"]").unbind("click").bind("click",
function(){var e=a(this).data("column"),b=a(".edit-form[data-column="+e+"]");a(this.nextSibling).hasClass("hide")?p(b,e):y(e);q(e)});a(".settings-switch[data-column="+e+"]").unbind("click").bind("click",function(){var e=a(this).data("column"),b=a(".settings-tab[data-column="+e+"]");a(this.nextSibling).hasClass("hide")?p(b,e):y(e)});a(".write-comment-switch[data-column="+e+"]").unbind("click").bind("click",function(){var e=a(this).data("column"),b=a(".write-comment[data-column="+e+"]");va(".write-comment[data-column="+
e+"]",".edit-form[data-column="+e+"]");a(this.nextSibling).hasClass("hide")?p(b,e):y(e);q(e)});a(".fa-close[data-column="+e+"], .trash[data-column="+e+"]").unbind("click").bind("click",function(){var e=a(this).data("column");a("#delete-column").data("column",e);a("#column-to-delete").text(s[e].settings.name);a("#delete-column-modal").modal()})}function V(e,b){Da(b);for(var c=[],d=0,f=e.threads.length;d<f;d++)M(e.threads[d].thread,e.settings.sortBy,e.settings.limitPosts,{target:{columnNum:b,threadNum:d},
errorMsgLoc:".frame[data-column="+b+"]",callback:function(e,d){c=c.concat([e.concat(d.columnNum).concat(d.threadNum)]);if(s[d.columnNum].threads&&s[d.columnNum].threads.length==c.length){var f=Ea(c);0==a(".frame-content[data-column="+b+"]").children().length&&0<f[1].data.children.length&&na(f[1].data.children[0].data.name,d.columnNum);Fa(f,d.columnNum);oa(d.columnNum)}}})}function W(a,b,c){a.forEach(function(a,e){var d="more"!=a.kind&&a.data.replies.hasOwnProperty("data")?a.data.replies.data.children:
[];a.data.name+="-"+b+"-"+c;a.data.parent_id+="-"+b+"-"+c;W(d,b,c)});return a}function na(a,b){"undefined"!==typeof a&&(app["firstComment"+b]=a)}function ha(e,b,c,d,f){var k={},h={},l=[];e=a(e);d=a(d).find(".form-control");var m="undefined"!==typeof f&&"reddit"==a(".frame-position[data-column="+f+"]").data("type")||!a("#reddit").hasClass("hide")?"reddit":"twitter";e.each(function(e,d){if(a(d).find(c).val()){var f={},O=a(d).find(c+" option:selected");f.subreddit=a(d).find(b+".tt-input").val();f.thread=
a(d).find(c).val();f.threadid=O.data("threadid");f.threadtitle=O.data("threadtitle");f.subid=O.data("subid");l.push(f)}});0<e.length&&util.fn.any(e.find(c),function(e){return null!=a(e).val()})&&(k.threads=l,h.name=d[0].value,h.refreshRate=d[1].value,h.limitPosts=d[2].value,h.sortBy=d[3].value,k.settings=h,k.type=m,"undefined"!==typeof f?s[f]=k:s=s.concat(k),util.fn.setInCookie("config",s))}function ea(a){s=s.concat(a);util.fn.setInCookie("config",s)}function Ba(){a("#cancel-column").unbind("click").bind("click",
function(){a(".sub-group-controls").remove();a("#add-a-column, #reddit").toggleClass("hide");a("#helpBlock-1").hasClass("hide")&&a("#add-button, .add-thread-button, [id^=helpBlock-], .fa-arrow-circle-right, .sub-group-controls, .column-settings").toggleClass("hide")})}function fa(e,b,c,d,f,k,h,l){a(e+" .add-thread-button").unbind("click").click(function(){var m=util.html.s(h,f),n=util.html.t(k,d),m=util.html.u(c,n,m);a(m).insertAfter(e+" ."+b);"undefined"!==typeof l?q(l):void 0;I(e+" ."+d+":first",
function(b){var g=a(e+" ."+c).index(a(b).parent().parent().parent());M("/r/"+b.value,"","",{target:[e+" ."+f,g],errorMsgLoc:b,callback:P})});Ga(e+" ."+d+".tt-input:first",c,f);C("."+c,100);ka(k);la(h)})}function Ga(e,b,c){a(e).unbind("change").bind("change",function(){var e=a("."+b).index(a(this).parent().parent().parent());M("/r/"+this.value,"","",{target:["."+c,e],errorMsgLoc:this,callback:P})})}function la(e){a("."+e).unbind("click").bind("click",function(){var e=a(this).parents(".form-group").find("select option:selected").data("threadid");
e&&da(e,function(e){e.data.children[0].data.selftext_html?(a("#info-title, #info-content").children().remove(),a("#info-title").html(util.html.an(e.data.children[0].data.url,e.data.children[0].data.title)),a("#info-content").append(a("<div/>").html(e.data.children[0].data.selftext_html).text()),a("#author-button").text("/u/"+e.data.children[0].data.author).attr("onclick","window.open('"+window.location.protocol+"//www.reddit.com/u/"+e.data.children[0].data.author+"','_blank');"),a("#time-button").text(U(e.data.children[0].data.created_utc)),
pa("#info-content .md a"),a("#info-modal").modal()):window.open(e.data.children[0].data.url,"_blank")},void 0,void 0,!0,this)})}function ka(e){a("."+e).unbind("click").bind("click",function(){var e=a(this).parents(".item").data("column");a(this).parents(".subreddit-group-edit").remove();"undefined"!==typeof e&&q(e)})}function Aa(){a("#add-a-column").unbind("click").bind("click",function(){a(this).removeClass("hide").addClass("hide");a("#vendor-group").removeClass("hide");X()})}function P(e,b){var c=
"undefined"!==typeof b[2]?a(a(b[0]+"[data-column="+b[2]+"]")[b[1]]):a(a(b[0])[b[1]]);c.children().remove();e.data.children.forEach(function(a,e){c.append(util.html.v(a))});if(0<s.length&&"undefined"!==typeof b[2]){var d=s[b[2]].threads[b[1]];0==c.find("option[data-threadid="+d.threadid+"]").length&&d.subid==c.find("option:selected").data("subid")&&c.append(util.html.w(d));c.find("option[data-threadid="+d.threadid+"]").prop("selected",!0)}}function Da(e){a(".frame-overlay[data-column="+e+"]").addClass("half-fade");
a(".loading[data-column="+e+"]").addClass("faded")}function oa(e){a(".frame-overlay[data-column="+e+"]").removeClass("half-fade");a(".loading[data-column="+e+"]").removeClass("faded")}function C(e,b){setTimeout(function(){a(e).addClass("faded")},b)}function ja(a,b,c){var d=util.html.x(c);a=util.html.y(a);b=util.html.z(b,c);return util.html.aa(a,b,d,c)}function Ha(){a(".reply-switch").unbind("click").bind("click",function(){var b=a(this).parent().parent().find(".reply-form");b.hasClass("hide")?(b.removeClass("hide"),
b.find("form").removeClass("hide"),b.find(".submitting").removeClass("faded").addClass("hide"),C(b,100)):b.removeClass("faded").addClass("hide")});a(".save-reply").unbind("click").click(function(){var b=a(this).parents(".write-comment"),c=this.form.thing_id.value,d=c.split("-")[0]||"t3_"+b.find(".post-thread option:selected").data("threadid");additionalData={columnNum:c.split("-")[1]||b.data("column"),threadNum:c.split("-")[2],postPane:0<b.length?b:a(this).parents(".comment-footer")};text=this.form.text.value;
$submitting=a(this.form.previousSibling);0!=text.length&&(a(this.form).addClass("hide"),C($submitting.removeClass("hide"),100),0<b.length?q(additionalData.columnNum):void 0,qa("/save-reddit-reply",{thing_id:d,text:text},0<b.length?function(b,e,c,g){b&&b.needsLogin?a("#login-reddit-modal").modal():b.statusCode?ra(g):b.json&&0<b.json.errors.length?(Y(g),alert(b.json.errors[0][1])):(b=a(g.postPane).find("form"),e=a(g.postPane).find(".submitting"),b.find(".textarea-reply").val(""),e.removeClass("faded").addClass("hide"),
b.removeClass("hide"),q(g.columnNum),a(".column-bars[data-column="+g.columnNum+"] > a, .frame[data-column="+g.columnNum+"] .frame-header").trigger("click"))}:function(b,e,c,g){b&&b.needsLogin?a("#login-reddit-modal").modal():b.statusCode?console.log(b.statusCode):b.json&&0<b.json.errors.length?(Y(g),alert(b.json.errors[0][1])):(b=b.json.data.things,a(Q(W(b,g.columnNum,g.threadNum),!0)).insertAfter("#"+b[0].data.parent_id+" .comment-footer:first"),a("#"+b[0].data.parent_id+" .fa-reply:first").trigger("click"),
Z(),C(a("#"+b[0].data.name),100))},0<b.length?function(a,b,e,c){ra(c)}:function(a,b,e,c){Y(c)},void 0,additionalData))});a(".textarea-reply").unbind("focus").bind("focus",function(){a("[data-reddituser]").data("reddituser")||qa("/check-login",{},function(b,c,d){b&&b.needsLogin&&a("#login-reddit-modal").modal()})});a(".cancel-reply").unbind("click").click(function(){var b=a(this).parents(".comment-footer");0<b.length?b.find(".reply-switch").trigger("click"):y(a(this).parents(".column-options").data("column"))})}
function Y(b){var c=a(b.postPane).find("form");b=a(b.postPane).find(".submitting");c.removeClass("hide");b.removeClass("hide").addClass("hide");c.launchPopOver(3E3,n("top","","There was a problem posting your reply. Try again!"))}function ra(b){var c=a(b.postPane).find("form");a(b.postPane).find(".submitting").removeClass("faded").addClass("hide");c.removeClass("hide");q(b.columnNum);c.find(".textarea-reply").launchPopOver(3E3,n("top","","There was a problem posting your comment. Try again!"))}function Z(){pa(".md a");
Ha();Ia();Ja()}function pa(b){a(b).each(function(b,e){a(e).attr("target","_blank");"/u/"==a(e).attr("href").substring(0,3)||"/r/"==a(e).attr("href").substring(0,3)?a(e).attr("href",window.location.protocol+"//www.reddit.com"+a(e).attr("href")):""})}function Fa(b,c){var d=a(".frame-content[data-column="+c+"]");if(d.children().length){d=app["firstComment"+c];if(d!=b[1].data.children[0].data.name){var f=util.fn.takeWhile(b[1].data.children,d,function(a,b){return!document.getElementById(a.data.name)&&
a.data.name!=b});a(Q(f,!0,!0)).insertBefore(".frame-content[data-column="+c+"] #"+d);f.forEach(function(b){C(a("#"+b.data.name),500)});a(".frame-overlay[data-column="+c+"]").launchPopOver(3E3,n("bottom","",f.length+" new comments!"));na(b[1].data.children[0].data.name,c)}sa(b[1].data.children);Ka(b[1].data.children[b[1].data.children.length-1].data.name,c)}else d.append(Q(b[1].data.children,!1,!0)),C(d,1E3);Z()}function Ka(b,c){var d=a.map(a(".frame-content[data-column="+c+"] .media"),function(a){return a.id});
d.slice(d.indexOf(b)+1).forEach(function(b){a("#"+b+" .comment-footer[data-id="+b+"] .time-elapsed").text("old")})}function sa(b){b.forEach(function(b){var e="more"!=b.kind&&b.data.replies.hasOwnProperty("data")?b.data.replies.data.children:[],c=e.length,d="#"+b.data.name+" .comment-footer[data-id="+b.data.name+"]";"undefined"!==typeof b.data.created_utc?a(d+" .time-elapsed").text(U(b.data.created_utc)):"";"undefind"!==typeof b.data.score?a(".score[data-id="+b.data.name+"]").text(b.data.score):"";
b=b.data.name;var f=a("#"+b+" .media[data-parentid="+b+"]"),k=a(d+" .reply"),h=a(d+" .reply .reply-num"),l=c-f.length,m=util.html.ab(l),n=util.html.ac(c);0<c&&0<k.length?(k.data("replylength",c),h.text(c),0<l&&0==a(d+" .new-comment").length?a(m).insertAfter(d+" .reply"):(!a("footer[data-id="+b+"] .reply").children().length&&0<f.length&&(a("footer[data-id="+b+"] .reply").append(n),a("footer[data-id="+b+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square")),a(d+" .new-comment .diff").text(l+
" new")),ta(d+" .new-comment")):0<c&&(c=util.html.ad(b,c),a(c).insertAfter(d+" .refresh-comment"),0<l&&(a(m).insertAfter(d+" .reply"),ta(d+" .new-comment")),f.hasClass("faded")&&(a("footer[data-id="+b+"] .reply").append(n),a("footer[data-id="+b+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square")));sa(e)})}function ta(b){a(b).unbind("click").bind("click",function(){a(this).parent().parent().find(".refresh-comment").trigger("click")})}function Q(b,c,d,f){b=b||[];var k="";b.forEach(function(b,
e){var h="more"!=b.kind&&b.data.replies.hasOwnProperty("data")?b.data.replies.data.children:[],l=h.length,l="more"!=b.kind?util.html.ae(b,l,U(b.data.created_utc),window.location.protocol+"//www.reddit.com/comments/"+b.data.link_id.substr(3)+"/_/"+b.data.id,ja(b.data.name,b.data.author)):"",h=a("<div/>").html(b.data.body_html).text()+l+Q(h,!0,!1,!0),h="more"!=b.kind?util.html.ag(b,h):util.html.ah(b,h),h=util.html.ai(h),l="more"!=b.kind?util.html.aj(d,"icon-"+b.data.subreddit):"",h=util.html.ak(b,"icon-"+
b.data.subreddit,d,c,l,h,f);k+=h});return k}function Ja(){a(".reply").unbind("click").click("click",function(){var b=a(this).data("name"),b=a("#"+b+" .media[data-parentid="+b+"]"),c=a(this).find(".expand");c.hasClass("fa-plus-square")?(c.removeClass("fa-plus-square").addClass("fa-minus-square"),C(b.removeClass("hide"),100)):(c.removeClass("fa-minus-square").addClass("fa-plus-square"),b.removeClass("faded").addClass("hide"))})}function Ia(){a(".refresh-comment, .load-comments").unbind("click").bind("click",
function(){var b=a(this).data("linkid")||a("#"+a(this).data("parent")).data("linkid"),c=a(this).data("id")||a("#"+a(this).data("parent")).attr("id"),d=a("#"+c).hasClass("parent")||a("#"+a(this).data("parent")).hasClass("parent");La(b,c.substr(3).split("-")[0],function(b){var e=c.split("-")[1],f=c.split("-")[2];b=Q(W(b[1].data.children,e,f));a("#"+c).replaceWith(b);d&&(a("#"+c).addClass("parent"),a("#"+c).children(":first").addClass(a("#"+c).data("icon")));a("footer[data-id="+c+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square");
a("#"+c+" .media[data-parentid="+a("#"+c).attr("id")+"]").removeClass("hide").addClass("faded");a("#"+c).addClass("nopacity");C(a("#"+c),100);Z()})})}function da(a,b,c,d,f,h){S(window.location.protocol+"//www.reddit.com/by_id/t3_"+a+".json",b,c,d,f,h)}function La(a,b,c,d,f){S(window.location.protocol+"//www.reddit.com/comments/"+a.substr(3)+"/_/"+b+".json?sort=new",c,d,f)}function U(a){if(a){var b=new Date(1E3*a),c=(new Date).getTime(),d=c-b.getTime(),f=Math.floor(d/864E5),d=d-864E5*f,h=Math.floor(d/
36E5),d=d-36E5*h,k=Math.floor(d/6E4),d=Math.floor((d-6E4*k)/1E3);return 0!=!f||0>=f?0==f&&0==!h?h+"h":0==f&&0==h&&0==!k?k+"m":0==f&&0==h&&0==k&&0==!d?d+"s":1E3>c-1E3*a?"1s":b.toLocaleTimeString():f+"d"}}function Ea(a){var b=[];a.forEach(function(c,d){0<c.length&&(b=b.concat(W(c[1].data.children,a[d][2],a[d][3])))});b=b.filter(function(a){if("more"!=a.kind)return a}).sort(Ma);a[0][1].data.children=b;return a[0]}function Ma(a,b){return"more"!=a.kind&&"more"==b.kind?1:"more"==a.kind&&"more"!=b.kind?
-1:a.data.created_utc<b.data.created_utc?1:a.data.created_utc>b.data.created_utc?-1:0}function S(b,c,d,f,h,k,l){a.ajax({url:b,type:"GET",timeout:7E3,cache:h||!1}).done(function(a,b,e){c&&c(a,b,e,l)}).fail(function(a,b,c){d&&d(a,b,c);aa(k,c)}).always(function(){f&&f()})}function qa(b,c,d,f,h,k,l){a.ajax({url:b,type:"POST",timeout:7E3,data:c,cache:!1}).done(function(a,b,c){d&&d(a,b,c,k)}).fail(function(a,b,c){f&&f(a,b,c,k);aa(l,c)}).always(function(){h&&h()})}function aa(b,c){"undefined"!==typeof b&&
("timeout"==c?a(b).launchPopOver(3E3,n("bottom","Servers Busy","Reddit servers are busy.")):a(b).launchPopOver(3E3,n("bottom","Generic Error","There was an error processing this request.")))}function M(b,c,d,f){a.ajax({url:window.location.protocol+"//www.reddit.com"+b+"/.json?sort="+c+"&limit="+d+"&jsonp=?",dataType:"json",timeout:7E3,cache:!1}).done(function(a,b,c){f.callback(a,f.target)}).fail(function(a,b,c){aa(f.errorMsgLoc,c);oa(f.target.columnNum)}).always(function(){f.always&&f.always(f.target)})}
var s=util.fn.cookieExists("config")?util.fn.getFromCookie("config"):[],T=util.fn.cookieExists("watch")?util.fn.getFromCookie("watch"):{},ca=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/search-reddit-names?query=%QUERY",filter:function(a){var b=[];a.names&&a.names.forEach(function(a){var c={};c.value=a;b.push(c)});return b}}});return{init:function(){b();l();k()}}}(jQuery);$(document).ready(function(){app.init()});(function(a,b,f,l,k,v,w){a.GoogleAnalyticsObject=k;a[k]=a[k]||function(){(a[k].q=a[k].q||[]).push(arguments)};a[k].l=1*new Date;v=b.createElement(f);w=b.getElementsByTagName(f)[0];v.async=1;v.src=l;w.parentNode.insertBefore(v,w)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-57745225-1","auto");ga("send","pageview");
