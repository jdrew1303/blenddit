(function(a){function d(b,p,c){var f=this;return this.on("click.pjax",b,function(b){var d=a.extend({},w(p,c));d.container||(d.container=a(this).attr("data-pjax")||f);k(b,d)})}function k(b,p,c){c=w(p,c);p=b.currentTarget;if("A"!==p.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<b.which||b.metaKey||b.ctrlKey||b.shiftKey||b.altKey||location.protocol!==p.protocol||location.hostname!==p.hostname||p.hash&&p.href.replace(p.hash,"")===location.href.replace(location.hash,
"")||p.href===location.href+"#")){var f={url:p.href,container:a(p).attr("data-pjax"),target:p};c=a.extend({},f,c);f=a.Event("pjax:click");a(p).trigger(f,[c]);f.isDefaultPrevented()||(e(c),b.preventDefault(),a(p).trigger("pjax:clicked",[c]))}}function m(b,c,f){f=w(c,f);c=b.currentTarget;if("FORM"!==c.tagName.toUpperCase())throw"$.pjax.submit requires a form element";c={type:c.method.toUpperCase(),url:c.action,data:a(c).serializeArray(),container:a(c).attr("data-pjax"),target:c};e(a.extend({},c,f));
b.preventDefault()}function e(b){function c(b,f){var p=a.Event(b,{relatedTarget:d});y.trigger(p,f);return!p.isDefaultPrevented()}b=a.extend(!0,{},a.ajaxSettings,e.defaults,b);a.isFunction(b.url)&&(b.url=b.url());var d=b.target,q=D(b.url).hash,y=b.context=G(b.container);b.data||(b.data={});b.data._pjax=y.selector;var h;b.beforeSend=function(a,f){"GET"!==f.type&&(f.timeout=0);a.setRequestHeader("X-PJAX","true");a.setRequestHeader("X-PJAX-Container",y.selector);if(!c("pjax:beforeSend",[a,f]))return!1;
0<f.timeout&&(h=setTimeout(function(){c("pjax:timeout",[a,b])&&a.abort("timeout")},f.timeout),f.timeout=0);b.requestUrl=D(f.url).href};b.complete=function(a,f){h&&clearTimeout(h);c("pjax:complete",[a,f,b]);c("pjax:end",[a,b])};b.error=function(a,f,d){var q=E("",a,b);a=c("pjax:error",[a,f,d,b]);"GET"==b.type&&("abort"!==f&&a)&&z(q.url)};b.success=function(f,d,n){var g="function"===typeof a.pjax.defaults.version?a.pjax.defaults.version():a.pjax.defaults.version,h=n.getResponseHeader("X-PJAX-Version"),
x=E(f,n,b);if(g&&h&&g!==h)z(x.url);else if(x.contents){e.state={id:b.id||(new Date).getTime(),url:x.url,title:x.title,container:y.selector,fragment:b.fragment,timeout:b.timeout};(b.push||b.replace)&&window.history.replaceState(e.state,x.title,x.url);try{document.activeElement.blur()}catch(N){}x.title&&(document.title=x.title);y.html(x.contents);(g=y.find("input[autofocus], textarea[autofocus]").last()[0])&&document.activeElement!==g&&g.focus();F(x.scripts);"number"===typeof b.scrollTo&&a(window).scrollTop(b.scrollTo);
""!==q&&(g=D(x.url),g.hash=q,e.state.url=g.href,window.history.replaceState(e.state,x.title,g.href),x=a(g.hash),x.length&&a(window).scrollTop(x.offset().top));c("pjax:success",[f,d,n,b])}else z(x.url)};e.state||(e.state={id:(new Date).getTime(),url:window.location.href,title:document.title,container:y.selector,fragment:b.fragment,timeout:b.timeout},window.history.replaceState(e.state,document.title));var g=e.xhr;g&&4>g.readyState&&(g.onreadystatechange=a.noop,g.abort());e.options=b;g=e.xhr=a.ajax(b);
0<g.readyState&&(b.push&&!b.replace&&(f(e.state.id,y.clone().contents()),window.history.pushState(null,"",J(b.requestUrl))),c("pjax:start",[g,b]),c("pjax:send",[g,b]));return e.xhr}function s(b,c){return e(a.extend({url:window.location.href,push:!1,replace:!0,scrollTo:!1},w(b,c)))}function z(a){window.history.replaceState(null,"","#");window.location.replace(a)}function C(b){if((b=b.state)&&b.container){if(c&&N==b.url||e.state&&e.state.id===b.id)return;var f=a(b.container);if(f.length){var d,g=t[b.id];
if(e.state){var y=d=e.state.id<b.id?"forward":"back",h=e.state.id,k=f.clone().contents();t[h]=k;"forward"===y?(y=v,k=u):(y=u,k=v);y.push(h);(h=k.pop())&&delete t[h]}d=a.Event("pjax:popstate",{state:b,direction:d});f.trigger(d);d={id:b.id,url:b.url,container:f,push:!1,fragment:b.fragment,timeout:b.timeout,scrollTo:!1};g?(f.trigger("pjax:start",[null,d]),b.title&&(document.title=b.title),f.html(g),e.state=b,f.trigger("pjax:end",[null,d])):e(d);f[0].offsetHeight}else z(location.href)}c=!1}function H(b){var c=
a.isFunction(b.url)?b.url():b.url,f=b.type?b.type.toUpperCase():"GET",d=a("<form>",{method:"GET"===f?"GET":"POST",action:c,style:"display:none"});"GET"!==f&&"POST"!==f&&d.append(a("<input>",{type:"hidden",name:"_method",value:f.toLowerCase()}));b=b.data;if("string"===typeof b)a.each(b.split("&"),function(b,c){var f=c.split("=");d.append(a("<input>",{type:"hidden",name:f[0],value:f[1]}))});else if("object"===typeof b)for(key in b)d.append(a("<input>",{type:"hidden",name:key,value:b[key]}));a(document.body).append(d);
d.submit()}function J(a){return a.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function D(a){var c=document.createElement("a");c.href=a;return c}function w(b,c){b&&c?c.container=b:c=a.isPlainObject(b)?b:{container:b};c.container&&(c.container=G(c.container));return c}function G(b){b=a(b);if(b.length){if(""!==b.selector&&b.context===document)return b;if(b.attr("id"))return a("#"+b.attr("id"));throw"cant get selector for pjax container!";}throw"no pjax container for "+
b.selector;}function A(b){return a.parseHTML(b,document,!0)}function E(b,c,f){var d={};d.url=J(c.getResponseHeader("X-PJAX-URL")||f.requestUrl);if(/<html/i.test(b)){c=a(A(b.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));var g=a(A(b.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else c=g=a(A(b));if(0===g.length)return d;d.title=c.filter("title").add(c.find("title")).last().text();f.fragment?(b="body"===f.fragment?g:g.filter(f.fragment).add(g.find(f.fragment)).first(),b.length&&(d.contents=b.contents(),
d.title||(d.title=b.attr("title")||b.data("title")))):/<html/i.test(b)||(d.contents=g);d.contents&&(d.contents=d.contents.not(function(){return a(this).is("title")}),d.contents.find("title").remove(),d.scripts=d.contents.filter("script[src]").add(d.contents.find("script[src]")).remove(),d.contents=d.contents.not(d.scripts));d.title&&(d.title=a.trim(d.title));return d}function F(b){if(b){var c=a("script[src]");b.each(function(){var b=this.src;if(!c.filter(function(){return this.src===b}).length){var f=
document.createElement("script");f.type=a(this).attr("type");f.src=a(this).attr("src");document.head.appendChild(f)}})}}function f(a,c){t[a]=c;for(v.push(a);u.length;)delete t[u.shift()];for(;v.length>e.defaults.maxCacheLength;)delete t[v.shift()]}function y(){return a("meta").filter(function(){var b=a(this).attr("http-equiv");return b&&"X-PJAX-VERSION"===b.toUpperCase()}).attr("content")}function g(){a.fn.pjax=d;a.pjax=e;a.pjax.enable=a.noop;a.pjax.disable=h;a.pjax.click=k;a.pjax.submit=m;a.pjax.reload=
s;a.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:y};a(window).on("popstate.pjax",C)}function h(){a.fn.pjax=function(){return this};a.pjax=H;a.pjax.enable=g;a.pjax.disable=a.noop;a.pjax.click=a.noop;a.pjax.submit=a.noop;a.pjax.reload=function(){window.location.reload()};a(window).off("popstate.pjax",C)}var c=!0,N=window.location.href,K=window.history.state;K&&K.container&&(e.state=K);"state"in window.history&&(c=!1);var t={},u=[],v=[];
0>a.inArray("state",a.event.props)&&a.event.props.push("state");a.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/);a.support.pjax?g():h()})(jQuery);var hljs=new function(){function a(a){return a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function d(a,d){var g=a&&a.exec(d);return g&&0==g.index}function k(a){a=(a.className+" "+(a.parentNode?a.parentNode.className:"")).split(/\s+/);a=a.map(function(a){return a.replace(/^lang(uage)?-/,"")});return a.filter(function(a){return G(a)||/no(-?)highlight/.test(a)})[0]}function m(a,d){var g={},h;for(h in a)g[h]=a[h];if(d)for(h in d)g[h]=d[h];return g}function e(a){var d=[];(function h(a,
f){for(var e=a.firstChild;e;e=e.nextSibling)3==e.nodeType?f+=e.nodeValue.length:1==e.nodeType&&(d.push({event:"start",offset:f,node:e}),f=h(e,f),e.nodeName.toLowerCase().match(/br|hr|img|input/)||d.push({event:"stop",offset:f,node:e}));return f})(a,0);return d}function s(d,e,g){function h(){return d.length&&e.length?d[0].offset!=e[0].offset?d[0].offset<e[0].offset?d:e:"start"==e[0].event?d:e:d.length?d:e}function c(b){u+="<"+b.nodeName.toLowerCase()+Array.prototype.map.call(b.attributes,function(b){return" "+
b.nodeName+'="'+a(b.value)+'"'}).join("")+">"}function k(a){u+="</"+a.nodeName.toLowerCase()+">"}function m(a){("start"==a.event?c:k)(a.node)}for(var t=0,u="",v=[];d.length||e.length;){var b=h(),u=u+a(g.substr(t,b[0].offset-t)),t=b[0].offset;if(b==d){v.reverse().forEach(k);do m(b.splice(0,1)[0]),b=h();while(b==d&&b.length&&b[0].offset==t);v.reverse().forEach(c)}else"start"==b[0].event?v.push(b[0].node):v.pop(),m(b.splice(0,1)[0])}return u+a(g.substr(t))}function z(a){function d(a){return a&&a.source||
a}function g(c,e){return RegExp(d(c),"m"+(a.cI?"i":"")+(e?"g":""))}function e(c,k){if(!c.compiled){c.compiled=!0;c.k=c.k||c.bK;if(c.k){var z={},t=function(b,c){a.cI&&(c=c.toLowerCase());c.split(" ").forEach(function(a){a=a.split("|");z[a[0]]=[b,a[1]?Number(a[1]):1]})};"string"==typeof c.k?t("keyword",c.k):Object.keys(c.k).forEach(function(a){t(a,c.k[a])});c.k=z}c.lR=g(c.l||/\b[A-Za-z0-9_]+\b/,!0);k&&(c.bK&&(c.b="\\b("+c.bK.split(" ").join("|")+")\\b"),c.b||(c.b=/\B|\b/),c.bR=g(c.b),c.e||c.eW||(c.e=
/\B|\b/),c.e&&(c.eR=g(c.e)),c.tE=d(c.e)||"",c.eW&&k.tE&&(c.tE+=(c.e?"|":"")+k.tE));c.i&&(c.iR=g(c.i));void 0===c.r&&(c.r=1);c.c||(c.c=[]);var u=[];c.c.forEach(function(a){a.v?a.v.forEach(function(c){u.push(m(a,c))}):u.push("self"==a?c:a)});c.c=u;c.c.forEach(function(a){e(a,c)});c.starts&&e(c.starts,k);var v=c.c.map(function(a){return a.bK?"\\.?("+a.b+")\\.?":a.b}).concat([c.tE,c.i]).map(d).filter(Boolean);c.t=v.length?g(v.join("|"),!0):{exec:function(a){return null}}}}e(a)}function C(f,e,g,h){function c(a,
b){if(d(a.eR,b))return a;if(a.eW)return c(a.parent,b)}function k(a,b,c,d){d='<span class="'+(d?"":A.classPrefix);return d+(a+'">')+b+(c?"":"</span>")}function m(){var c;if(void 0!==b.sL)b.sL&&!E[b.sL]?c=a(q):(c=b.sL?C(b.sL,q,!0,p):H(q),0<b.r&&(s+=c.r),"continuous"==b.subLanguageMode&&(p=c.top),c=k(c.language,c.value,!1,!0));else if(b.k){c="";var d=0;b.lR.lastIndex=0;for(var f=b.lR.exec(q);f;){c+=a(q.substr(d,f.index-d));var d=b,e=f,e=v.cI?e[0].toLowerCase():e[0];(d=d.k.hasOwnProperty(e)&&d.k[e])?
(s+=d[1],c+=k(d[0],a(f[0]))):c+=a(f[0]);d=b.lR.lastIndex;f=b.lR.exec(q)}c+=a(q.substr(d))}else c=a(q);return c}function t(c,d){var f=c.cN?k(c.cN,"",!0):"";c.rB?(n+=f,q=""):c.eB?(n+=a(d)+f,q=""):(n+=f,q=d);b=Object.create(c,{parent:{value:b}})}function u(f,e){q+=f;if(void 0===e)return n+=m(),0;var h;a:{h=b;for(var k=0;k<h.c.length;k++)if(d(h.c[k].bR,e)){h=h.c[k];break a}h=void 0}if(h)return n+=m(),t(h,e),h.rB?0:e.length;if(h=c(b,e)){k=b;k.rE||k.eE||(q+=e);n+=m();do b.cN&&(n+="</span>"),s+=b.r,b=b.parent;
while(b!=h.parent);k.eE&&(n+=a(e));q="";h.starts&&t(h.starts,"");return k.rE?0:e.length}if(!g&&d(b.iR,e))throw Error('Illegal lexeme "'+e+'" for mode "'+(b.cN||"<unnamed>")+'"');q+=e;return e.length||1}var v=G(f);if(!v)throw Error('Unknown language: "'+f+'"');z(v);var b=h||v,p,n="";for(h=b;h!=v;h=h.parent)h.cN&&(n=k(h.cN,"",!0)+n);var q="",s=0;try{for(var w,D,I=0;;){b.t.lastIndex=I;w=b.t.exec(e);if(!w)break;D=u(e.substr(I,w.index-I),w[0]);I=w.index+D}u(e.substr(I));for(h=b;h.parent;h=h.parent)h.cN&&
(n+="</span>");return{r:s,value:n,language:f,top:b}}catch(F){if(-1!=F.message.indexOf("Illegal"))return{r:0,value:a(e)};throw F;}}function H(d,e){e=e||A.languages||Object.keys(E);var g={r:0,value:a(d)},h=g;e.forEach(function(a){if(G(a)){var e=C(a,d,!1);e.language=a;e.r>h.r&&(h=e);e.r>g.r&&(h=g,g=e)}});h.language&&(g.second_best=h);return g}function J(a){A.tabReplace&&(a=a.replace(/^((<[^>]+>|\t)+)/gm,function(a,d,e,c){return d.replace(/\t/g,A.tabReplace)}));A.useBR&&(a=a.replace(/\n/g,"<br>"));return a}
function D(a){var d=k(a);if(!/no(-?)highlight/.test(d)){var g;A.useBR?(g=document.createElementNS("http://www.w3.org/1999/xhtml","div"),g.innerHTML=a.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):g=a;var h=g.textContent,c=d?C(d,h,!0):H(h);g=e(g);if(g.length){var m=document.createElementNS("http://www.w3.org/1999/xhtml","div");m.innerHTML=c.value;c.value=s(g,e(m),h)}c.value=J(c.value);a.innerHTML=c.value;a.className+=" hljs "+(!d&&c.language||"");a.result={language:c.language,re:c.r};c.second_best&&
(a.second_best={language:c.second_best.language,re:c.second_best.r})}}function w(){if(!w.called){w.called=!0;var a=document.querySelectorAll("pre code");Array.prototype.forEach.call(a,D)}}function G(a){return E[a]||E[F[a]]}var A={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},E={},F={};this.highlight=C;this.highlightAuto=H;this.fixMarkup=J;this.highlightBlock=D;this.configure=function(a){A=m(A,a)};this.initHighlighting=w;this.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",
w,!1);addEventListener("load",w,!1)};this.registerLanguage=function(a,d){var e=E[a]=d(this);e.aliases&&e.aliases.forEach(function(d){F[d]=a})};this.listLanguages=function(){return Object.keys(E)};this.getLanguage=G;this.inherit=m;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";
this.BE={b:"\\\\[\\s\\S]",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]};this.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/};this.CLCM={cN:"comment",b:"//",e:"$",c:[this.PWM]};this.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[this.PWM]};this.HCM={cN:"comment",b:"#",e:"$",c:[this.PWM]};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM=
{cN:"number",b:this.BNR,r:0};this.CSSNM={cN:"number",b:this.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0};this.RM={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]};this.TM={cN:"title",b:this.IR,r:0};this.UTM={cN:"title",b:this.UIR,r:0}};
hljs.registerLanguage("javascript",function(a){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"},
c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},a.ASM,a.QSM,a.CLCM,a.CBCM,a.CNM,{b:"("+a.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[a.CLCM,a.CBCM,a.RM,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[a.inherit(a.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[a.CLCM,a.CBCM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+a.IR,r:0}]}});var util={html:{a:function(a){return["<li class='list-group-item'><div class='input-group'>","<input class='form-control' type='text' value='"+a+"'></input>","<span class='input-group-addon'><i class='fa fa-close'></i></span></div></li>"].join("")},b:function(a,d){return["<li class='list-group-item nopacity'>"+a.title," <span class='text-primary'>in /r/"+a.subreddit+"</span>","<span class='badge pull-right'>"+d+"</span>","</li>"].join("")},c:function(){return"<div class='edit-button-group'><button type='button' class='add-thread-button btn btn-primary btn-default'>Add Thread</button><button style='float:right;' type='button' class='save-edit-button btn btn-primary btn-default'>Save</button><button style='float:right; margin-right: 5px;' type='button' class='cancel-edit-button btn btn-default'>Cancel</button></div>"},
d:function(a){return["<div class='form-group'><label class='control-label'>Threads</label>","<select data-column='"+a+"' class='form-control thread-edit'></select>","</div>"].join("")},e:function(a){return["<div class='form-group'><label class='control-label'>Subreddit</label><span style='float:right;'><i class='fa fa-close fa-lg delete-edit'></i></span>","<select class='form-control subreddit-edit'>"+a+"</select>","</div>"].join("")},f:function(a,d){return"<div class='subreddit-group-edit'>"+a+d+
"</div>"},g:function(a){return"<div class='edit-column-settings'>"+a+"</div>"},h:function(a,d){return['<ul class="nav nav-tabs">','<li class="active"><a href="#'+a+'-add" data-toggle="tab">Add</a></li>','<li><a data-toggle="tab" href="#'+a+'-settings">Settings</a></li>','<li><a data-toggle="tab" href="#'+a+'-post">Post</a></li>','<li><a data-toggle="tab" href="#'+a+'-info">Info</a></li>','</ul><div class="tab-content">','<div class="tab-pane fade active in" id="'+a+'-add">'+d+"</div>",'<div class="tab-pane fade" id="'+
a+'-settings">Settings</div>','<div class="tab-pane fade" id="'+a+'-post">Post</div>','<div class="tab-pane fade" id="'+a+'-info">Info</div>',"</div>"].join("")},i:function(a){return"<div data-column='"+a+"' class='frame-content nopacity'></div>"},j:function(a){return["<span style='float:right;'>","<i data-column='"+a+"' class='fa fa-toggle-on fa-lg refreshSwitch'></i>","<i data-column='"+a+"' class='fa fa-edit fa-lg'></i>","<i data-column='"+a+"' class='fa fa-close fa-lg'></i>","</span>"].join("")},
k:function(a){return["<div data-column='"+a+"' class='frame-edit nopacity hide'>","<form data-column='"+a+"' role='form' class='edit-form'></form>","</div>"].join("")},l:function(a,d,k,m,e){return["<i data-column='"+a+"' class='nopacity loading fa fa-refresh fa-spin fa-2x'></i>","<div class='frame-overlay' data-column='"+a+"'>","<div data-column='"+a+"' class='frame'>","<h6 class='frame-header'>"+("reddit"==d.type?"<i class='fa fa-reddit fa-lg'></i> ":"<i class='fa fa-twitter'></i> ")+d.settings.name+
k,"</h6>"+m,"</div>","</div>"+e].join("")},m:function(a){return"<div class='frame-container'>"+a+"</div>"},n:function(a,d,k){return"<div data-column='"+a+"' data-type='"+d.type+"' class='frame-position nopacity'>"+k+"</div>"},o:function(a,d){return"<div data-column='"+a+"' class='item "+(0==a?"active":"")+"'>"+d+"</div>"},p:function(a,d){return['<div class="panel-heading" role="tab" id="heading'+a+'">','<h4 class="panel-title">','<a data-toggle="collapse" data-parent="#accordion" href="#collapse'+
a+'" aria-expanded="true" aria-controls="collapse'+a+'">',a+1+". "+d.settings.name,"</a></h4></div>"].join("")},q:function(a){return['<div id="collapse'+a+'" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading'+a+'">','<div class="panel-body"></div></div>'].join("")},r:function(a,d){return'<div class="panel panel-default">'+a+d+"</div>"},s:function(a){return["<div class='form-group'><label class='control-label'>Threads</label>","<select class='form-control "+a+"'></select>","</div>"].join("")},
t:function(a,d){return["<div class='form-group'>","<label class='control-label'>Subreddit</label><span style='float:right;'><i class='fa fa-close fa-lg "+a+"'></i></span>","<select class='form-control "+d+"'></select>","</div>"].join("")},u:function(a,d,k){return"<div class='"+a+" nopacity'>"+d+k+"</div>"},v:function(a){return["<option data-subid='"+a.data.subreddit_id+"' data-threadtitle='"+a.data.title+"' data-threadid='"+a.data.id+"' value='"+a.data.permalink+"'>",a.data.title,"</option>"].join("")},
w:function(a){return["<option data-subid='"+a.subid+"' data-threadtitle='"+a.threadtitle+"' data-threadid='"+a.threadid+"' value='"+a.thread+"'>",a.threadtitle,"</option>"].join("")},x:function(){return"<div class='reply-buttons'><button class='cancel-reply btn btn-default'>Cancel</button><button type='submit' class='save-reply btn btn-primary'>Save</button></div>"},y:function(a){return"<input type='hidden' name='thing_id' value='"+a+"''>"},z:function(a){return"<textarea name='text' class='form-control' placeholder='Reply to "+
a+"..'></textarea>"},aa:function(a,d,k){return["<div class='nopacity hide reply-form'><div class='submitting nopacity hide'>Submitting...</div>","<form action='javascript:void(0)'>"+a+d+k+"</form>","</div>"].join("")},ab:function(a){return"<a class='btn new-comment'><span class='text-primary diff'>"+a+" new</span></a>"},ac:function(a){return["<span class='reply-num text-warning'>"+a+"</span>","<span class='text-warning'>&nbsp;<i class='fa expand fa-plus-square'></i>&nbsp;</span>"].join("")},ad:function(a,
d){return"<a data-name='"+a+"' data-replylength='"+d+"' class='btn reply'></a>"},ae:function(a,d,k,m,e){return["<footer data-id='"+a.data.name+"' class='comment-footer'>","<div class='links-container btn-group'>","<a class='btn time-elapsed white'>"+k+"</a>","<a class='btn reply-switch'><i class='fa fa-reply fa-lg'></i></a>","<a class='btn perma' href='"+m+"' target='_blank'><i class='fa fa-link fa-lg'></i></a>","<a class='btn refresh-comment' data-linkid='"+a.data.link_id+"' data-id='"+a.data.id+
"'><i class='fa fa-refresh fa-lg'></i></a>",0!=d?util.html.af(a,d):"","</div>",e,"</footer>"].join("")},af:function(a,d){return["<a data-name='"+a.data.name+"' data-replylength='"+d+"' class='btn reply'>","<span class='reply-num text-warning'>"+d+"</span>","<span class='text-warning'>&nbsp;<i class='fa expand fa-plus-square'></i>&nbsp;</span></a>"].join("")},ag:function(a,d){return["<div class='media-heading btn-group'><a class='btn vote'><i class='fa fa-arrow-up'></i></a>","<a data-id='"+a.data.name+
"' class='score btn'>"+a.data.score+"</a>","<a class='btn vote vote-last'><i class='fa fa-arrow-down'></i></a>","<a class='btn author' href='http://www.reddit.com/u/"+a.data.author+"' target='_blank'>"+a.data.author+"</a>",a.data.author_flair_css_class?"<a class='flair btn'>"+a.data.author_flair_css_class+"</a>":"&nbsp;","</div>"+d].join("")},ah:function(a,d){return["<div class='load-comments' data-parent='"+a.data.parent_id+"' class='load-comments'>","<i class='fa fa-download'></i>&nbsp; load more comments",
"</div>"+d].join("")},ai:function(a){return"<div class='media-body'>"+a+"</div>"},aj:function(a,d){return"<div class='thumb pull-left "+(a?d:"")+"'></div>"},ak:function(a,d,k,m,e,s,z){return["<div data-parentid='"+a.data.parent_id+"' data-linkid='"+a.data.link_id+"' ","data-icon='"+d+"' id='"+a.data.name+"' ","class='media"+(k?" parent ":z?" hide":"")+""+(m?" nopacity":"")+"'>"+e+s,"</div>"].join("")},al:function(){return'<li class="list-group-item"><div class="input-group"><input class="form-control" type="text"><span class="input-group-addon"><i class="fa fa-close"></i></span></div></li>'}}},
app=function(a){function d(a){if(Storage)return JSON.parse(localStorage.getItem(a))}function k(a,l){Storage&&localStorage.setItem(a,JSON.stringify(l))}function m(){a(document).pjax("a[data-pjax]","#pjax-container");a(document).on("pjax:send",function(){});a(document).on("pjax:end",function(){0<a("#listsjs").length?s():0<a("#merger").length?z():(a(".teams").hide(),a("#sidebarTrigger").hide(),a(".navbar-fixed-top").show(),a(".navbar-brand > .text-warning").text("kurtlocker.org"),a(".social").show())})}
function e(){a("#sidebarTrigger").unbind("click").click(function(b){b.preventDefault();a("#wrapper").toggleClass("toggled")})}function s(){0<a("#listsjs").length&&(e(),a("#sidebarTrigger").show(),a(".navbar-brand > .text-warning").text("[ l [ i [ s ] t ] s ]"),a("div.js").each(function(b,l){a(l).text(a(l).text().trim());hljs.highlightBlock(l)}),a(".sidebarFunc").unbind("click").click(function(){a(".sidebarFunc").removeClass("blue-dotted");a(this).addClass("blue-dotted");a(".nav-tabs").removeClass("blue-dotted");
a("#function-"+a(this).attr("num")).addClass("blue-dotted");a("html, body").animate({scrollTop:a("#function-"+a(this).attr("num")).offset().top-60},500);a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}),a("#page-content-wrapper").unbind("click").click(function(){a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}))}function z(){0<a("#merger").length&&(a(".teams").show(),a(".social").hide(),a(".navbar-fixed-top").hide(),a(".navbar-brand > .text-warning").text("thread merger"),
a(".open-controls").unbind("click").click(function(){h()}),a("#delete-column").unbind("click").click(function(){r.remove(a(this).data("column"));n(a(this).data("column"));k("config",r);M();t()}),0<r.length?(M(),t()):H(),g())}function C(a,l,b){return{placement:a,title:l,content:b,trigger:"manual"}}function H(){var a;Object.keys(O).length?a=O:a={subs:"nfl nba mlb nhl mls hockey soccer".split(" "),match:["Game Thread","Match Thread","Live Thread"]};J(a);D(a.match);w();E();G();A()}function J(b){var l=
b.match,c="",d="";b.subs.forEach(function(a,l){c+=y(a,"input")});l.forEach(function(a,l){d+=y(a,"input")});a("#watch-subreddits .list-group.contain, #watch-matching .list-group.contain").children().remove();a("#watch-subreddits .list-group.contain").append(c);a("#watch-matching .list-group.contain").append(d)}function D(b){a("#watch-threads .list-group.contain").children().remove();a("#watch-subreddits input").each(function(l,c){P("/r/"+c.value,"","",{target:b,callback:function(l,c){l.data.children.forEach(function(l,
c){b.some(function(a){return RegExp(a.toLowerCase()).test(l.data.title.toLowerCase())})&&a("#watch-threads .list-group.contain").append(y(l.data));B(a("#watch-threads .list-group-item"),100);f()})}})})}function w(){a("#watch-subreddits .input-group-addon, #watch-matching .input-group-addon").unbind("click").click(function(){a(this).parent().parent().remove()})}function G(){a("#watch-subreddits .btn.add").unbind("click").bind("click",function(){a("#watch-subreddits .list-group.contain").append(util.html.al);
w()});a("#watch-matching .btn.add").unbind("click").bind("click",function(){a("#watch-matching .list-group.contain").append(util.html.al);w()})}function A(){a("#watch-threads .btn.refresh").unbind("click").bind("click",function(){F();H()})}function E(){a("#watch-subreddits .btn.save, #watch-matching .btn.save, #watch-threads .btn.save").unbind("click").bind("click",function(){function b(l){return""!=a(l).val()}var l=a("#watch-subreddits .list-group.contain"),c=a("#watch-matching .list-group.contain");
0!=l.children().length&&any(l.find("input"),b)&&0!=c.children().length&&any(c.find("input"),b)?(F(),a(this).hasClass("wthreads")&&!any("#watch-threads .list-group.contain li",function(l){return a(l).hasClass("white")})&&a("#watch-threads .list-group-item.controls").launchPopOver(3E3,C("top","Verification","Please select at least one thread from the list."))):a("#watch-subreddits .list-group-item.controls, #watch-matching .list-group-item.controls, #watch-threads .list-group-item.controls").launchPopOver(3E3,
C("top","Verification","Verify you have one subreddit and one matching pattern added with values."))})}function F(){var b={};b.subs=function(){var l=[];a("#watch-subreddits .list-group.contain input").each(function(a,b){""!=b.value&&null!=b.value?l.push(b.value):""});return l}();b.match=function(){var b=[];a("#watch-matching .list-group.contain input").each(function(a,c){""!=c.value&&null!=c.value?b.push(c.value):""});return b}();O=b;k("watch",O)}function f(){a("#watch-threads .list-group-item").unbind("click").click(function(){a(this).hasClass("white")?
a(this).removeClass("white"):a(this).addClass("white")})}function y(a,b){return"input"==b?util.html.a(a):util.html.b(a,R(a.created_utc))}function g(){app.height=window.innerHeight;a(".frame-content, .edit-form").css("height",window.innerHeight-107);a("#greeting").hasClass("hide")?a(".carousel-inner").css("height",window.innerHeight-50):a(".carousel-inner").removeAttr("style");a(window).unbind("resize").bind("resize",function(){app.height!=window.innerHeight&&(a(".frame-content, .edit-form").css("height",
window.innerHeight-107),a("#greeting").hasClass("hide")?a(".carousel-inner").css("height",window.innerHeight-50):a(".carousel-inner").removeAttr("style"),app.height=window.innerHeight)})}function h(){ea();M();c();a("#save-changes").unbind("click").bind("click",function(){K();k("config",r);t()});a("#controlModal").unbind("hide.bs.modal").on("hide.bs.modal",function(b){a("#config-rows").children().remove()});a("#controlModal").modal()}function c(){B(a("a.white"),100);a("#reddit-logout").unbind("click").bind("click",
function(){X("/reddit-logout",function(b,l,c){a(".config-account").children().remove();a(".config-account").append(b);B(a("a.white"),100)})})}function N(){a("#reddit-block, #twitter-block").unbind("click").bind("click",function(){"reddit-block"==this.id&&(V("#reddit","column-settings","sub-group-controls","subreddit-controls","thread-controls","delete-controls"),da(),a("#vendor-group, #reddit").toggleClass("hide"))})}function K(){!a("#reddit").hasClass("hide")&&any(".thread-controls",function(b){return null!=
a(b).val()})&&(U(".sub-group-controls",".subreddit-controls",".thread-controls","#reddit .column-settings"),M(),a("#cancel-column").trigger("click"))}function t(){a(".carousel-inner").children().remove();0==r.length?(a("#greeting").removeClass("hide"),0==a("#watch-threads .list-group.contain").children().length?H():""):a("#greeting").addClass("hide");g();for(var b=0,l=r.length;b<l;b++)p(r[b],b)}function u(c,l,d){for(var e=util.html.c(),f=a("<div>").append(a("#template > option").clone()).html(),fa=
a("<div>").append(a(".column-settings").children().clone().each(function(){var b=a(this).find("label"),c=a(this).find("*[id]");b.each(function(b,c){a(c).attr("for","column"==d?a(c).attr("for")+"-column-"+l:a(c).attr("for")+"-config-"+l)});c.each(function(b,c){a(c).attr("id","column"==d?a(c).attr("id")+"-column-"+l:a(c).attr("id")+"-config-"+l)})})).html(),g=0,h=c.threads.length;g<h;g++)var k=util.html.d(l),m=util.html.e(f),k=util.html.f(m,k),e=e+k;e+=util.html.g(fa);navTabs=util.html.h("column"==
d?"column-"+l:"config-"+l,e);"column"==d?a(".edit-form[data-column="+l+"]").append(navTabs):a("#collapse"+l+" .panel-body").append(navTabs);"column"==d?a("#column-name-column-"+l).val(c.settings.name):a("#column-name-config-"+l).val(c.settings.name);"column"==d?a("#refresh-column-"+l).val(c.settings.refreshRate):a("#refresh-config-"+l).val(c.settings.refreshRate);"column"==d?a("#limit-column-"+l).val(c.settings.limitPosts):a("#limit-config-"+l).val(c.settings.limitPosts);"column"==d?a("#sortBy-column-"+
l).val(c.settings.sortBy):a("#sortBy-config-"+l).val(c.settings.sortBy);("column"==d?a(".edit-form[data-column="+l+"] .subreddit-edit"):a("#collapse"+l+" .panel-body .subreddit-edit")).each(function(b,c){this.value=r[l].threads[b].subreddit;a(this).unbind("change").bind("change",function(){var b="column"==d?a(".edit-form[data-column="+l+"] .subreddit-group-edit").index(a(this).parent().parent()):a("#collapse"+l+" .panel-body .subreddit-group-edit").index(a(this).parent().parent());P(this.value,"",
"",{target:"column"==d?[".edit-form .thread-edit",b,l]:["#collapse"+l+" .panel-body .thread-edit",b],callback:Y})})});e="column"==d?".edit-form[data-column="+l+"]":"#collapse"+l+" .panel-body";x("delete-edit");V(e,"edit-button-group","subreddit-group-edit","subreddit-edit","thread-edit","delete-edit");b(c,l);v(c,l)}function v(b,c){a(".edit-form[data-column="+c+"] .save-edit-button").unbind("click").bind("click",function(){var a=".edit-form[data-column="+c+"]";U(a+" .subreddit-group-edit",".subreddit-edit",
".thread-edit",a+" .edit-column-settings",c);k("config",r);p(r[c],c);T(c)})}function b(b,c){a(".edit-form[data-column="+c+"] .cancel-edit-button").unbind("click").bind("click",function(){p(b,c);T(c)})}function p(b,c){a(".item[data-column="+c+"]").remove();var d=util.html.i(c),e=util.html.j(c),f=util.html.k(c),d=util.html.l(c,b,e,f,d),d=util.html.m(d),d=util.html.n(c,b,d),d=util.html.o(c,d),e=a(".carousel-inner");0==c?0<e.children().length?a(d).insertBefore(".item:first"):e.append(d):a(d).insertAfter(a(".item[data-column="+
(c-1)+"]"));ca(c);u(b,c,"column");"reddit"==b.type&&(Q(b,c),q(c));g();B(".frame-position[data-column="+c+"]",100)}function n(a){clearInterval(app["r"+a]);delete app["r"+a]}function q(b){n(b);a(".refreshSwitch[data-column="+b+"]").hasClass("fa-toggle-on")?app["r"+b]=setInterval(function(){r[b]?Q(r[b],b):clearInterval(app["r"+b])},1E3*parseInt(r[b].settings.refreshRate)):clearInterval(app["r"+b])}function ca(b){a(".refreshSwitch[data-column="+b+"]").unbind("click").bind("click",function(){var b=a(this).data("column");
a(this).toggleClass("fa-toggle-on fa-toggle-off");a(this).hasClass("fa-toggle-on")&&Q(r[b],b);q(b)});a(".fa-edit[data-column="+b+"]").unbind("click").bind("click",function(){var b=a(this).data("column"),c=a(".frame-edit[data-column="+b+"]"),d=a(".frame-content[data-column="+b+"]");c.hasClass("hide")?(c.removeClass("hide"),d.removeClass("faded").addClass("hide"),B(c,100),a(".edit-form[data-column="+b+"] .subreddit-group-edit").each(function(b,c){var d=a(this).find(".subreddit-edit").val(),l=a(this).find(".thread-edit").val();
"default"!=d&&null==l&&a(this).find(".subreddit-edit").trigger("change")})):(c.removeClass("faded").addClass("hide"),d.removeClass("hide"),B(d,100))});a(".fa-close[data-column="+b+"]").unbind("click").bind("click",function(){var b=a(this).data("column");a("#delete-column").data("column",b);a("#column-to-delete").text(r[b].settings.name);a("#delete-column-modal").modal()})}function T(b){a(".item").removeClass("active");a(".item[data-column="+b+"]").addClass("active")}function Q(b,c){ha(c);for(var d=
[],e=0,f=b.threads.length;e<f;e++)P(b.threads[e].thread,b.settings.sortBy,b.settings.limitPosts,{target:c,timeout:".frame[data-column="+c+"]",callback:function(b,e){d=d.concat([b.concat(e)]);if(r[e].threads&&r[e].threads.length==d.length){var f=ia(d);0==a(".frame-content[data-column="+c+"]").children().length&&0<f[1].data.children.length&&I(f[1].data.children[0].data.name,e);ja(f,e);Z(e)}}})}function I(a,b){"undefined"!==typeof a&&(app["firstComment"+b]=a)}function M(){if(0<r.length){a("#current-config").removeClass("hide");
var b=a("#accordion"),c="";b.children().remove();for(var d=0,e=r.length;d<e;d++)var f=util.html.p(d,r[d]),g=util.html.q(d),f=util.html.r(f,g),c=c+f;b.append(c);r.forEach(function(a,b){u(a,b,"config")})}else a("#current-config").removeClass("hide").addClass("hide")}function U(b,c,d,e,f){var g={},h={},k=[];b=a(b);e=a(e).find(".form-control");var m="undefined"!==typeof f&&"reddit"==a(".frame-position[data-column="+f+"]").data("type")||!a("#reddit").hasClass("hide")?"reddit":"twitter";b.each(function(b,
e){if(a(e).find(d).val()){var f={},g=a(e).find(d+" option:selected");f.subreddit=a(e).find(c).val();f.thread=a(e).find(d).val();f.threadid=g.data("threadid");f.threadtitle=g.data("threadtitle");f.subid=g.data("subid");k.push(f)}});0<b.length&&(g.threads=k,h.name=e[0].value,h.refreshRate=e[1].value,h.limitPosts=e[2].value,h.sortBy=e[3].value,g.settings=h,g.type=m,"undefined"!==typeof f?r[f]=g:r=r.concat(g))}function da(){a("#cancel-column").unbind("click").bind("click",function(){a(".sub-group-controls").remove();
a("#add-a-column, #reddit").toggleClass("hide");a("#helpBlock-1").hasClass("hide")&&a("#add-button, .add-thread-button, [id^=helpBlock-], .fa-arrow-circle-right, .sub-group-controls, .column-settings").toggleClass("hide")})}function V(b,c,d,e,f,g){a(b+" .add-thread-button").unbind("click").click(function(){var h=util.html.s(f),k=util.html.t(g,e),h=util.html.u(d,k,h),k=a("#template > option").clone();a(h).insertAfter(b+" ."+c);a(b+" ."+e+":first").append(k);a(b+" ."+e+":first").unbind("change").bind("change",
function(){var b=a("."+d).index(a(this).parent().parent());P(this.value,"","",{target:["."+f,b],callback:Y})});B("."+d,100);x(g)})}function x(b){a("."+b).unbind("click").bind("click",function(){a(this).parent().parent().parent().remove()})}function ea(){a("#add-a-column").unbind("click").bind("click",function(){a(this).removeClass("hide").addClass("hide");a("#vendor-group").removeClass("hide");N()})}function Y(b,c){var d="undefined"!==typeof c[2]?a(a(c[0]+"[data-column="+c[2]+"]")[c[1]]):a(a(c[0])[c[1]]);
d.children().remove();b.data.children.forEach(function(a,b){d.append(util.html.v(a))});if(0<r.length&&"undefined"!==typeof c[2]){var e=r[c[2]].threads[c[1]];0==d.find("option[data-threadid="+e.threadid+"]").length&&e.subid==d.find("option:selected").data("subid")&&d.append(util.html.w(e));d.find("option[data-threadid="+e.threadid+"]").prop("selected",!0)}}function ha(b){a(".frame-overlay[data-column="+b+"]").addClass("half-fade");a(".loading[data-column="+b+"]").addClass("faded")}function Z(b){a(".frame-overlay[data-column="+
b+"]").removeClass("half-fade");a(".loading[data-column="+b+"]").removeClass("faded")}function B(b,c){setTimeout(function(){a(b).addClass("faded")},c)}function ka(a,b,c){c=util.html.x();a=util.html.y(a);b=util.html.z(b);return util.html.aa(a,b,c)}function la(){a(".reply-switch").unbind("click").bind("click",function(){var b=a(this).parent().parent().find(".reply-form");b.hasClass("hide")?(b.removeClass("hide"),b.find("form").removeClass("hide"),b.find(".submitting").removeClass("faded").addClass("hide"),
B(b,100)):b.removeClass("faded").addClass("hide")});a(".save-reply").unbind("click").click(function(){function b(c,d,e){c&&c.needsLogin?a("#login-reddit-modal").modal():c.statusCode?console.log(c.statusCode):c.json&&0<c.json.errors.length?console.log(c.json.errors):(c=c.json.data.things,a(L(c,!0)).insertAfter("#"+c[0].data.parent_id+" .comment-footer:first"),a("#"+c[0].data.parent_id+" .fa-reply:first").trigger("click"),S(),B(a("#"+c[0].data.name),100))}function c(a,b,d){console.log(b)}var d=this.form.thing_id.value,
e=this.form.text.value,f=a(this.form.previousSibling);0!=e.length&&(a(this.form).addClass("hide"),B(f.removeClass("hide"),100),ma("/save-reddit-reply",{thing_id:d,text:e},b,c))});a(".cancel-reply").unbind("click").click(function(){console.log("shut it down!")})}function S(){a(".md a").each(function(b,c){a(c).attr("target","_blank");"/u/"==a(c).attr("href").substring(0,3)||"/r/"==a(c).attr("href").substring(0,3)?a(c).attr("href","http://www.reddit.com"+a(c).attr("href")):""});la();na();oa()}function ja(b,
c){var d=a(".frame-content[data-column="+c+"]");if(d.children().length){d=app["firstComment"+c];if(d!=b[1].data.children[0].data.name){var e=takeWhile(b[1].data.children,d,function(a,b){return a.data.name!=b});a(L(e,!0,!0)).insertBefore(".frame-content[data-column="+c+"] #"+d);e.forEach(function(b){B(a("#"+b.data.name),500)});a(".frame-overlay[data-column="+c+"]").launchPopOver(3E3,C("bottom","",e.length+" new comments!"));I(b[1].data.children[0].data.name,c)}aa(b[1].data.children)}else d.append(L(b[1].data.children,
!1,!0)),B(d,1E3);S()}function aa(b){b.forEach(function(b){var c="more"!=b.kind&&b.data.replies.hasOwnProperty("data")?b.data.replies.data.children:[],d=c.length,e="#"+b.data.name+" .comment-footer[data-id="+b.data.name+"]";"undefined"!==typeof b.data.created_utc?a(e+" .time-elapsed").text(R(b.data.created_utc)):"";"undefind"!==typeof b.data.score?a(".score[data-id="+b.data.name+"]").text(b.data.score):"";b=b.data.name;var f=a("#"+b+" .media[data-parentid="+b+"]"),g=a(e+" .reply"),h=a(e+" .reply .reply-num"),
k=d-f.length,W=util.html.ab(k),m=util.html.ac(d);0<d&&0<g.length?(g.data("replylength",d),h.text(d),0<k&&0==a(e+" .new-comment").length?a(W).insertAfter(e+" .reply"):(!a("footer[data-id="+b+"] .reply").children().length&&0<f.length&&(a("footer[data-id="+b+"] .reply").append(m),a("footer[data-id="+b+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square")),a(e+" .new-comment .diff").text(k+" new")),ba(e+" .new-comment")):0<d&&(d=util.html.ad(b,d),a(d).insertAfter(e+" .refresh-comment"),0<
k&&(a(W).insertAfter(e+" .reply"),ba(e+" .new-comment")),f.hasClass("faded")&&(a("footer[data-id="+b+"] .reply").append(m),a("footer[data-id="+b+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square")));aa(c)})}function ba(b){a(b).unbind("click").bind("click",function(){a(this).parent().parent().find(".refresh-comment").trigger("click")})}function L(b,c,d,e){b=b||[];var f="";b.forEach(function(b,g){var h="more"!=b.kind&&b.data.replies.hasOwnProperty("data")?b.data.replies.data.children:
[],k=h.length,k="more"!=b.kind?util.html.ae(b,k,R(b.data.created_utc),"http://www.reddit.com/comments/"+b.data.link_id.substr(3)+"/_/"+b.data.id,ka(b.data.name,b.data.author)):"",h=a("<div/>").html(b.data.body_html).text()+k+L(h,!0,!1,!0),h="more"!=b.kind?util.html.ag(b,h):util.html.ah(b,h),h=util.html.ai(h),k="more"!=b.kind?util.html.aj(d,"icon-"+b.data.subreddit):"",h=util.html.ak(b,"icon-"+b.data.subreddit,d,c,k,h,e);f+=h});return f}function oa(){a(".reply").unbind("click").click("click",function(){var b=
a(this).data("name"),b=a("#"+b+" .media[data-parentid="+b+"]"),c=a(this).find(".expand");c.hasClass("fa-plus-square")?(c.removeClass("fa-plus-square").addClass("fa-minus-square"),B(b.removeClass("hide"),100)):(c.removeClass("fa-minus-square").addClass("fa-plus-square"),b.removeClass("faded").addClass("hide"))})}function na(){a(".refresh-comment, .load-comments").unbind("click").bind("click",function(){var b=a(this).data("linkid"),c=a(this).data("id")?a(this).data("id"):a("#"+a(this).data("parent")).attr("id").substr(3),
d=a("#t1_"+c).hasClass("parent");pa(b?b:a("#"+a(this).data("parent")).data("linkid"),c,function(b){b=L(b[1].data.children);a("#t1_"+c).replaceWith(b);d&&(a("#t1_"+c).addClass("parent"),a("#t1_"+c).children(":first").addClass(a("#t1_"+c).data("icon")));a("footer[data-id=t1_"+c+"] .reply .expand").toggleClass("fa-plus-square fa-minus-square");a("#t1_"+c+" .media[data-parentid="+a("#t1_"+c).attr("id")+"]").removeClass("hide").addClass("faded");a("#t1_"+c).addClass("nopacity");B(a("#t1_"+c),100);S()})})}
function pa(a,b,c,d){X("http://www.reddit.com/comments/"+a.substr(3)+"/_/"+b+".json?sort=new",c,d)}function R(a){if(a){var b=new Date(1E3*a),c=(new Date).getTime(),d=c-b.getTime(),e=Math.floor(d/864E5),d=d-864E5*e,f=Math.floor(d/36E5),d=d-36E5*f,g=Math.floor(d/6E4),d=Math.floor((d-6E4*g)/1E3);return 0!=!e||0>=e?0==e&&0==!f?f+"h":0==e&&0==f&&0==!g?g+"m":0==e&&0==f&&0==g&&0==!d?d+"s":1E3>c-1E3*a?"1s":b.toLocaleTimeString():e+"d"}}function ia(a){var b=[];a.forEach(function(a,c){0<a.length&&(b=b.concat(a[1].data.children))});
b=b.filter(function(a){if("more"!=a.kind)return a}).sort(qa);a[0][1].data.children=b;return a[0]}function qa(a,b){return"more"!=a.kind&&"more"==b.kind?1:"more"==a.kind&&"more"!=b.kind?-1:a.data.created_utc<b.data.created_utc?1:a.data.created_utc>b.data.created_utc?-1:0}function X(b,c,d,e){a.ajax({url:b,type:"GET",timeout:7E3,cache:!1}).done(function(a,b,d){c&&c(a,b,d)}).fail(function(a,b,c){d&&d(a,b,c)}).always(function(){e&&e()})}function ma(b,c,d,e,f){a.ajax({url:b,type:"POST",timeout:7E3,data:c,
cache:!1}).done(function(a,b,c){d&&d(a,b,c)}).fail(function(a,b,c){e&&e(a,b,c)}).always(function(){f&&f()})}function P(b,c,d,e){a.ajax({url:"http://www.reddit.com"+b+"/.json?sort="+c+"&limit="+d+"&jsonp=?",dataType:"json",timeout:7E3,cache:!1}).done(function(a,b,c){e.callback(a,e.target)}).fail(function(c,d,f){"timeout"==f?"undefined"!==typeof e.timeout&&a(e.timeout).launchPopOver(5E3,C("bottom","Servers Busy","Reddit servers are busy.")):console.log(f+": error retrieving - "+b);Z(e.target)}).always(function(){e.always&&
e.always(e.target)})}var r=localStorage.getItem("config")?d("config"):[],O=localStorage.getItem("watch")?d("watch"):{};return{init:function(){m();s();z()}}}(jQuery);(function(){app.init()})();Array.prototype.remove=function(a,d){var k=this.slice((d||a)+1||this.length);this.length=0>a?this.length+a:a;return this.push.apply(this,k)};function takeWhile(a,d,k){for(var m=[],e=0,s=a.length;e<s;e++)if(k(a[e],d))m.push(a[e]);else break;return m}
function any(a,d){var k=!1;$(a).each(function(a,e){d(e)&&(k=!0)});return k}$.fn.launchPopOver=function(a,d){var k=this;$(this).popover("destroy");$(this).popover(d);$(this).popover("show");setTimeout(function(){$(k).popover("destroy")},a);return this};(function(a,d,k,m,e,s,z){a.GoogleAnalyticsObject=e;a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)};a[e].l=1*new Date;s=d.createElement(k);z=d.getElementsByTagName(k)[0];s.async=1;s.src=m;z.parentNode.insertBefore(s,z)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-57745225-1","auto");ga("send","pageview");
