(function(a){function D(c,b,d){var e=this;return this.on("click.pjax",c,function(c){var f=a.extend({},r(b,d));f.container||(f.container=a(this).attr("data-pjax")||e);w(c,f)})}function w(c,b,d){d=r(b,d);b=c.currentTarget;if("A"!==b.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(1<c.which||c.metaKey||c.ctrlKey||c.shiftKey||c.altKey||location.protocol!==b.protocol||location.hostname!==b.hostname||b.hash&&b.href.replace(b.hash,"")===location.href.replace(location.hash,
"")||b.href===location.href+"#")){var e={url:b.href,container:a(b).attr("data-pjax"),target:b};d=a.extend({},e,d);e=a.Event("pjax:click");a(b).trigger(e,[d]);e.isDefaultPrevented()||(k(d),c.preventDefault(),a(b).trigger("pjax:clicked",[d]))}}function s(c,b,d){d=r(b,d);b=c.currentTarget;if("FORM"!==b.tagName.toUpperCase())throw"$.pjax.submit requires a form element";b={type:b.method.toUpperCase(),url:b.action,data:a(b).serializeArray(),container:a(b).attr("data-pjax"),target:b};k(a.extend({},b,d));
c.preventDefault()}function k(c){function b(c,e){var l=a.Event(c,{relatedTarget:d});f.trigger(l,e);return!l.isDefaultPrevented()}c=a.extend(!0,{},a.ajaxSettings,k.defaults,c);a.isFunction(c.url)&&(c.url=c.url());var d=c.target,e=x(c.url).hash,f=c.context=A(c.container);c.data||(c.data={});c.data._pjax=f.selector;var h;c.beforeSend=function(a,d){"GET"!==d.type&&(d.timeout=0);a.setRequestHeader("X-PJAX","true");a.setRequestHeader("X-PJAX-Container",f.selector);if(!b("pjax:beforeSend",[a,d]))return!1;
0<d.timeout&&(h=setTimeout(function(){b("pjax:timeout",[a,c])&&a.abort("timeout")},d.timeout),d.timeout=0);c.requestUrl=x(d.url).href};c.complete=function(a,d){h&&clearTimeout(h);b("pjax:complete",[a,d,c]);b("pjax:end",[a,c])};c.error=function(a,d,e){var f=m("",a,c);a=b("pjax:error",[a,d,e,c]);"GET"==c.type&&("abort"!==d&&a)&&B(f.url)};c.success=function(d,l,h){var g="function"===typeof a.pjax.defaults.version?a.pjax.defaults.version():a.pjax.defaults.version,n=h.getResponseHeader("X-PJAX-Version"),
t=m(d,h,c);if(g&&n&&g!==n)B(t.url);else if(t.contents){k.state={id:c.id||(new Date).getTime(),url:t.url,title:t.title,container:f.selector,fragment:c.fragment,timeout:c.timeout};(c.push||c.replace)&&window.history.replaceState(k.state,t.title,t.url);try{document.activeElement.blur()}catch(E){}t.title&&(document.title=t.title);f.html(t.contents);(g=f.find("input[autofocus], textarea[autofocus]").last()[0])&&document.activeElement!==g&&g.focus();v(t.scripts);"number"===typeof c.scrollTo&&a(window).scrollTop(c.scrollTo);
""!==e&&(g=x(t.url),g.hash=e,k.state.url=g.href,window.history.replaceState(k.state,t.title,g.href),t=a(g.hash),t.length&&a(window).scrollTop(t.offset().top));b("pjax:success",[d,l,h,c])}else B(t.url)};k.state||(k.state={id:(new Date).getTime(),url:window.location.href,title:document.title,container:f.selector,fragment:c.fragment,timeout:c.timeout},window.history.replaceState(k.state,document.title));var g=k.xhr;g&&4>g.readyState&&(g.onreadystatechange=a.noop,g.abort());k.options=c;g=k.xhr=a.ajax(c);
0<g.readyState&&(c.push&&!c.replace&&(l(k.state.id,f.clone().contents()),window.history.pushState(null,"",z(c.requestUrl))),b("pjax:start",[g,c]),b("pjax:send",[g,c]));return k.xhr}function C(c,b){return k(a.extend({url:window.location.href,push:!1,replace:!0,scrollTo:!1},r(c,b)))}function B(c){window.history.replaceState(null,"","#");window.location.replace(c)}function y(c){if((c=c.state)&&c.container){if(b&&h==c.url||k.state&&k.state.id===c.id)return;var d=a(c.container);if(d.length){var e,f=E[c.id];
if(k.state){var l=e=k.state.id<c.id?"forward":"back",g=k.state.id,m=d.clone().contents();E[g]=m;"forward"===l?(l=p,m=G):(l=G,m=p);l.push(g);(g=m.pop())&&delete E[g]}e=a.Event("pjax:popstate",{state:c,direction:e});d.trigger(e);e={id:c.id,url:c.url,container:d,push:!1,fragment:c.fragment,timeout:c.timeout,scrollTo:!1};f?(d.trigger("pjax:start",[null,e]),c.title&&(document.title=c.title),d.html(f),k.state=c,d.trigger("pjax:end",[null,e])):k(e);d[0].offsetHeight}else B(location.href)}b=!1}function F(c){var b=
a.isFunction(c.url)?c.url():c.url,d=c.type?c.type.toUpperCase():"GET",e=a("<form>",{method:"GET"===d?"GET":"POST",action:b,style:"display:none"});"GET"!==d&&"POST"!==d&&e.append(a("<input>",{type:"hidden",name:"_method",value:d.toLowerCase()}));c=c.data;if("string"===typeof c)a.each(c.split("&"),function(c,b){var d=b.split("=");e.append(a("<input>",{type:"hidden",name:d[0],value:d[1]}))});else if("object"===typeof c)for(key in c)e.append(a("<input>",{type:"hidden",name:key,value:c[key]}));a(document.body).append(e);
e.submit()}function z(c){return c.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function x(c){var a=document.createElement("a");a.href=c;return a}function r(c,b){c&&b?b.container=c:b=a.isPlainObject(c)?c:{container:c};b.container&&(b.container=A(b.container));return b}function A(c){c=a(c);if(c.length){if(""!==c.selector&&c.context===document)return c;if(c.attr("id"))return a("#"+c.attr("id"));throw"cant get selector for pjax container!";}throw"no pjax container for "+
c.selector;}function u(c){return a.parseHTML(c,document,!0)}function m(c,b,d){var e={};e.url=z(b.getResponseHeader("X-PJAX-URL")||d.requestUrl);if(/<html/i.test(c)){b=a(u(c.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]));var f=a(u(c.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else b=f=a(u(c));if(0===f.length)return e;e.title=b.filter("title").add(b.find("title")).last().text();d.fragment?(c="body"===d.fragment?f:f.filter(d.fragment).add(f.find(d.fragment)).first(),c.length&&(e.contents=c.contents(),
e.title||(e.title=c.attr("title")||c.data("title")))):/<html/i.test(c)||(e.contents=f);e.contents&&(e.contents=e.contents.not(function(){return a(this).is("title")}),e.contents.find("title").remove(),e.scripts=e.contents.filter("script[src]").add(e.contents.find("script[src]")).remove(),e.contents=e.contents.not(e.scripts));e.title&&(e.title=a.trim(e.title));return e}function v(c){if(c){var b=a("script[src]");c.each(function(){var c=this.src;if(!b.filter(function(){return this.src===c}).length){var d=
document.createElement("script");d.type=a(this).attr("type");d.src=a(this).attr("src");document.head.appendChild(d)}})}}function l(c,a){E[c]=a;for(p.push(c);G.length;)delete E[G.shift()];for(;p.length>k.defaults.maxCacheLength;)delete E[p.shift()]}function d(){return a("meta").filter(function(){var c=a(this).attr("http-equiv");return c&&"X-PJAX-VERSION"===c.toUpperCase()}).attr("content")}function f(){a.fn.pjax=D;a.pjax=k;a.pjax.enable=a.noop;a.pjax.disable=e;a.pjax.click=w;a.pjax.submit=s;a.pjax.reload=
C;a.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:d};a(window).on("popstate.pjax",y)}function e(){a.fn.pjax=function(){return this};a.pjax=F;a.pjax.enable=f;a.pjax.disable=a.noop;a.pjax.click=a.noop;a.pjax.submit=a.noop;a.pjax.reload=function(){window.location.reload()};a(window).off("popstate.pjax",y)}var b=!0,h=window.location.href,g=window.history.state;g&&g.container&&(k.state=g);"state"in window.history&&(b=!1);var E={},G=[],p=[];
0>a.inArray("state",a.event.props)&&a.event.props.push("state");a.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/);a.support.pjax?f():e()})(jQuery);var hljs=new function(){function a(a){return a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function D(a,d){var f=a&&a.exec(d);return f&&0==f.index}function w(a){a=(a.className+" "+(a.parentNode?a.parentNode.className:"")).split(/\s+/);a=a.map(function(a){return a.replace(/^lang(uage)?-/,"")});return a.filter(function(a){return A(a)||/no(-?)highlight/.test(a)})[0]}function s(a,d){var f={},e;for(e in a)f[e]=a[e];if(d)for(e in d)f[e]=d[e];return f}function k(a){var d=[];(function e(a,
h){for(var g=a.firstChild;g;g=g.nextSibling)3==g.nodeType?h+=g.nodeValue.length:1==g.nodeType&&(d.push({event:"start",offset:h,node:g}),h=e(g,h),g.nodeName.toLowerCase().match(/br|hr|img|input/)||d.push({event:"stop",offset:h,node:g}));return h})(a,0);return d}function C(l,d,f){function e(){return l.length&&d.length?l[0].offset!=d[0].offset?l[0].offset<d[0].offset?l:d:"start"==d[0].event?l:d:l.length?l:d}function b(c){m+="<"+c.nodeName.toLowerCase()+Array.prototype.map.call(c.attributes,function(c){return" "+
c.nodeName+'="'+a(c.value)+'"'}).join("")+">"}function h(a){m+="</"+a.nodeName.toLowerCase()+">"}function g(a){("start"==a.event?b:h)(a.node)}for(var k=0,m="",p=[];l.length||d.length;){var c=e(),m=m+a(f.substr(k,c[0].offset-k)),k=c[0].offset;if(c==l){p.reverse().forEach(h);do g(c.splice(0,1)[0]),c=e();while(c==l&&c.length&&c[0].offset==k);p.reverse().forEach(b)}else"start"==c[0].event?p.push(c[0].node):p.pop(),g(c.splice(0,1)[0])}return m+a(f.substr(k))}function B(a){function d(a){return a&&a.source||
a}function f(b,e){return RegExp(d(b),"m"+(a.cI?"i":"")+(e?"g":""))}function e(b,h){if(!b.compiled){b.compiled=!0;b.k=b.k||b.bK;if(b.k){var g={},k=function(c,b){a.cI&&(b=b.toLowerCase());b.split(" ").forEach(function(a){a=a.split("|");g[a[0]]=[c,a[1]?Number(a[1]):1]})};"string"==typeof b.k?k("keyword",b.k):Object.keys(b.k).forEach(function(a){k(a,b.k[a])});b.k=g}b.lR=f(b.l||/\b[A-Za-z0-9_]+\b/,!0);h&&(b.bK&&(b.b="\\b("+b.bK.split(" ").join("|")+")\\b"),b.b||(b.b=/\B|\b/),b.bR=f(b.b),b.e||b.eW||(b.e=
/\B|\b/),b.e&&(b.eR=f(b.e)),b.tE=d(b.e)||"",b.eW&&h.tE&&(b.tE+=(b.e?"|":"")+h.tE));b.i&&(b.iR=f(b.i));void 0===b.r&&(b.r=1);b.c||(b.c=[]);var m=[];b.c.forEach(function(a){a.v?a.v.forEach(function(b){m.push(s(a,b))}):m.push("self"==a?b:a)});b.c=m;b.c.forEach(function(a){e(a,b)});b.starts&&e(b.starts,h);var p=b.c.map(function(a){return a.bK?"\\.?("+a.b+")\\.?":a.b}).concat([b.tE,b.i]).map(d).filter(Boolean);b.t=p.length?f(p.join("|"),!0):{exec:function(a){return null}}}}e(a)}function y(l,d,f,e){function b(a,
c){if(D(a.eR,c))return a;if(a.eW)return b(a.parent,c)}function h(a,c,b,d){d='<span class="'+(d?"":u.classPrefix);return d+(a+'">')+c+(b?"":"</span>")}function g(){var b;if(void 0!==c.sL)c.sL&&!m[c.sL]?b=a(q):(b=c.sL?y(c.sL,q,!0,x):F(q),0<c.r&&(s+=b.r),"continuous"==c.subLanguageMode&&(x=b.top),b=h(b.language,b.value,!1,!0));else if(c.k){b="";var d=0;c.lR.lastIndex=0;for(var e=c.lR.exec(q);e;){b+=a(q.substr(d,e.index-d));var d=c,f=e,f=p.cI?f[0].toLowerCase():f[0];(d=d.k.hasOwnProperty(f)&&d.k[f])?
(s+=d[1],b+=h(d[0],a(e[0]))):b+=a(e[0]);d=c.lR.lastIndex;e=c.lR.exec(q)}b+=a(q.substr(d))}else b=a(q);return b}function k(b,d){var e=b.cN?h(b.cN,"",!0):"";b.rB?(n+=e,q=""):b.eB?(n+=a(d)+e,q=""):(n+=e,q=d);c=Object.create(b,{parent:{value:c}})}function r(d,e){q+=d;if(void 0===e)return n+=g(),0;var h;a:{h=c;for(var l=0;l<h.c.length;l++)if(D(h.c[l].bR,e)){h=h.c[l];break a}h=void 0}if(h)return n+=g(),k(h,e),h.rB?0:e.length;if(h=b(c,e)){l=c;l.rE||l.eE||(q+=e);n+=g();do c.cN&&(n+="</span>"),s+=c.r,c=c.parent;
while(c!=h.parent);l.eE&&(n+=a(e));q="";h.starts&&k(h.starts,"");return l.rE?0:e.length}if(!f&&D(c.iR,e))throw Error('Illegal lexeme "'+e+'" for mode "'+(c.cN||"<unnamed>")+'"');q+=e;return e.length||1}var p=A(l);if(!p)throw Error('Unknown language: "'+l+'"');B(p);var c=e||p,x,n="";for(e=c;e!=p;e=e.parent)e.cN&&(n=h(e.cN,"",!0)+n);var q="",s=0;try{for(var v,z,w=0;;){c.t.lastIndex=w;v=c.t.exec(d);if(!v)break;z=r(d.substr(w,v.index-w),v[0]);w=v.index+z}r(d.substr(w));for(e=c;e.parent;e=e.parent)e.cN&&
(n+="</span>");return{r:s,value:n,language:l,top:c}}catch(C){if(-1!=C.message.indexOf("Illegal"))return{r:0,value:a(d)};throw C;}}function F(l,d){d=d||u.languages||Object.keys(m);var f={r:0,value:a(l)},e=f;d.forEach(function(a){if(A(a)){var d=y(a,l,!1);d.language=a;d.r>e.r&&(e=d);d.r>f.r&&(e=f,f=d)}});e.language&&(f.second_best=e);return f}function z(a){u.tabReplace&&(a=a.replace(/^((<[^>]+>|\t)+)/gm,function(a,f,e,b){return f.replace(/\t/g,u.tabReplace)}));u.useBR&&(a=a.replace(/\n/g,"<br>"));return a}
function x(a){var d=w(a);if(!/no(-?)highlight/.test(d)){var f;u.useBR?(f=document.createElementNS("http://www.w3.org/1999/xhtml","div"),f.innerHTML=a.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):f=a;var e=f.textContent,b=d?y(d,e,!0):F(e);f=k(f);if(f.length){var h=document.createElementNS("http://www.w3.org/1999/xhtml","div");h.innerHTML=b.value;b.value=C(f,k(h),e)}b.value=z(b.value);a.innerHTML=b.value;a.className+=" hljs "+(!d&&b.language||"");a.result={language:b.language,re:b.r};b.second_best&&
(a.second_best={language:b.second_best.language,re:b.second_best.r})}}function r(){if(!r.called){r.called=!0;var a=document.querySelectorAll("pre code");Array.prototype.forEach.call(a,x)}}function A(a){return m[a]||m[v[a]]}var u={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},m={},v={};this.highlight=y;this.highlightAuto=F;this.fixMarkup=z;this.highlightBlock=x;this.configure=function(a){u=s(u,a)};this.initHighlighting=r;this.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",
r,!1);addEventListener("load",r,!1)};this.registerLanguage=function(a,d){var f=m[a]=d(this);f.aliases&&f.aliases.forEach(function(d){v[d]=a})};this.listLanguages=function(){return Object.keys(m)};this.getLanguage=A;this.inherit=s;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";
this.BE={b:"\\\\[\\s\\S]",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]};this.PWM={b:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/};this.CLCM={cN:"comment",b:"//",e:"$",c:[this.PWM]};this.CBCM={cN:"comment",b:"/\\*",e:"\\*/",c:[this.PWM]};this.HCM={cN:"comment",b:"#",e:"$",c:[this.PWM]};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM=
{cN:"number",b:this.BNR,r:0};this.CSSNM={cN:"number",b:this.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0};this.RM={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]};this.TM={cN:"title",b:this.IR,r:0};this.UTM={cN:"title",b:this.UIR,r:0}};
hljs.registerLanguage("javascript",function(a){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"},
c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},a.ASM,a.QSM,a.CLCM,a.CBCM,a.CNM,{b:"("+a.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[a.CLCM,a.CBCM,a.RM,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[a.inherit(a.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[a.CLCM,a.CBCM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+a.IR,r:0}]}});if("undefined"===!window.jQuery)throw Error("app.js requires jQuery");else{var app=function(a){function D(){a(document).pjax("a[data-pjax]","#pjax-container");a(document).on("pjax:send",function(){});a(document).on("pjax:end",function(){0<a("#listsjs").length?s():0<a("#merger").length?k():(a(".teams").hide(),a("#sidebarTrigger").hide(),a(".navbar-brand > .text-warning").text("kurtlocker.org"),a(".social").show())})}function w(){a("#sidebarTrigger").unbind("click").click(function(d){d.preventDefault();
a("#wrapper").toggleClass("toggled")})}function s(){0<a("#listsjs").length&&(w(),a("#sidebarTrigger").show(),a(".navbar-brand > .text-warning").text("[ l [ i [ s ] t ] s ]"),a("div.js").each(function(d,f){a(f).text(a(f).text().trim());hljs.highlightBlock(f)}),a(".sidebarFunc").unbind("click").click(function(){a(".sidebarFunc").removeClass("blue-dotted");a(this).addClass("blue-dotted");a(".nav-tabs").removeClass("blue-dotted");a("#function-"+a(this).attr("num")).addClass("blue-dotted");a("html, body").animate({scrollTop:a("#function-"+
a(this).attr("num")).offset().top-60},500);a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}),a("#page-content-wrapper").unbind("click").click(function(){a("#wrapper").hasClass("toggled")&&a("#wrapper").toggleClass("toggled")}))}function k(){0<a("#merger").length&&(a(".teams").show(),a(".social").hide(),a(".navbar-brand > .text-warning").text("thread merger"),a("#team1 li, #team2 li").unbind("click").click(function(){if("team1"===a(this).parent().parent().attr("id")){var d=
a(this).find("a"),f=d.attr("value");m(f,"","team1",C);a("#team1text").text(f).removeClass().addClass(d.attr("class"))}else"team2"===a(this).parent().parent().attr("id")&&(d=a(this).find("a"),f=d.attr("value"),m(f,"","team2",C),a("#team2text").text(f).removeClass().addClass(d.attr("class")))}))}function C(d,f){var e="team1"===f?a("#threads-1"):a("#threads-2");e.children().remove();d.data.children.forEach(function(a,d){e.append("<option value='"+a.data.permalink+"'>"+a.data.title+"</option>")});e.unbind("change").change(function(){null==
a("#threads-1").val()||null==a("#threads-2").val()?m(this.value,"sort=new&","threads-1"===this.id?"team1":"team2",B):A()});e.trigger("change")}function B(d,f){a(".team1, .team2, .both").remove();d[1].data.children.forEach(function(d,b){var h="more"!=d.kind&&d.data.replies.hasOwnProperty("data")?d.data.replies.data.children:[],g=h.length,g=0==g?"":1==g?g+" reply":g+" replies",k="more"!=d.kind?"<p class='stats'>"+r(d.data.created_utc)+"  |  <a href='"+x(f,d.data.id)+"' target='_blank'>permalink</a></p>":
"",h=a("<div/>").html(d.data.body_html).text()+k+y(h,f);body="<div style='padding-top:5px;' class='media-body'>"+("more"!=d.kind?"<p class='media-heading'><a style='color:white;' href='http://www.reddit.com/u/"+d.data.author+"' target='_blank'>"+d.data.author+"</a>  |  "+d.data.score+"  |  <a data-name='"+d.data.name+"' class='"+f+" reply'><span class='text-warning'>"+g+"</span></a></p>"+h:"<div>load more comments</div>"+h)+"</div>";thumbnail="more"!=d.kind?"<a style='padding: 5px 0 0 5px;'class='pull-left' href='#'><i class='fa fa-pencil-square'></i></a>":
"<a style='padding: 5px 0 0 5px;'class='pull-left' href='#'><i class='fa fa-download'></i></a>";media="<div id='"+d.data.name+"' class='"+f+" media parent a"+d.data.subreddit+"'>"+thumbnail+body+"</div>";a("#merger").append(media)});a(".md a").attr("target","_blank");z();F();v(".media",10)}function y(d,f){d=d||[];var e="";d.forEach(function(b){var d="more"!=b.kind&&b.data.replies.hasOwnProperty("data")?b.data.replies.data.children:[],g=d.length,g=0==g?"":1==g?g+" reply":g+" replies",k="more"!=b.kind?
"<p class='stats'>"+r(b.data.created_utc)+"  |  <a href='"+x(f,b.data.id)+"' target='_blank'>permalink</a></p>":"",d=a("<div/>").html(b.data.body_html).text()+k+y(d,f);body="<div style='padding-top:5px;' class='media-body'>"+("more"!=b.kind?"<p class='media-heading'><a style='color:white;' href='http://www.reddit.com/u/"+b.data.author+"' target='_blank'>"+b.data.author+"</a>  |  "+b.data.score+"  |  <a data-name='"+b.data.name+"' class='reply'><span class='text-warning'>"+g+"</span></a></p>"+d:"<div class='loadReplies' id='"+
b.data.id+"' data-name='"+b.data.name+"' data-team='"+f+"' data-parent='"+b.data.parent_id+"'>load "+b.data.count+" replies</div><p></p>")+"</div>";thumbnail="more"!=b.kind?"<a style='padding: 5px 0 0 5px;'class='pull-left' href='#'><i class='fa fa-pencil-square'></i></a>":"<a style='padding: 5px 0 0 5px;'class='pull-left' href='#'><i class='fa fa-download'></i></a>";media="<div id='"+b.data.name+"' class='"+f+" media hide'>"+thumbnail+body+"</div>";e+=media});return e}function F(){a(".reply").unbind("click").click(function(){a("#"+
a(this).data("name")).find(".hide").removeClass("hide")})}function z(){a(".loadReplies").unbind("click").click(function(){var d=a(this).data("team"),f=a(this).data("parent"),e="team1"==d?a("#threads-1").val():a("#threads-2").val();m(e+f.substr(3),"",d,function(b,d){var e=y(b[1].data.children,d);a("#"+f).replaceWith(e);"merger"!=a("#"+f).parent().attr("id")||a("#"+f).hasClass("parent")||a("#"+f).addClass("parent");a(".media:not(.faded)").find(".md a").attr("target","_blank");v(".media:not(.faded)",
10)})})}function x(d,f){return"http://www.reddit.com/"+("team1"===d?a("#threads-1"):a("#threads-2")).val()+f}function r(a){a=new Date(1E3*a);return a.toLocaleDateString()+" at "+a.toLocaleTimeString()}function A(){m(a("#threads-1").val(),"sort=new&","team1",function(d,f){l=d;m(a("#threads-2").val(),"sort=new&","team2",function(a,b){var d=u(l,a);try{B(d,"both")}catch(f){console.log(f)}})})}function u(a,f){var e;if(0==a.length&&0<f.length)e=f;else{if(!(0==f.length&&0<a.length)){e=0;for(var b=f[1].data.children.length;e<
b;e++)a[1].data.children=a[1].data.children.concat(f[1].data.children[e]);a[1].data.children.sort(function(a,b){return a.data.created_utc<b.data.created_utc?1:a.data.created_utc>b.data.created_utc?-1:0})}e=a}return e}function m(d,f,e,b){a.getJSON("http://www.reddit.com"+d+"/.json?"+f+"jsonp=?",function(a){b(a,e)}).fail(function(){console.log("error retrieving - "+d+" json");b([],e)})}function v(d,f){var e=f||0;a(d).each(function(b,d){setTimeout(function(){a(d).addClass("faded")},e);e+=f})}var l;return{init:function(){D();
s();k()},getPosts:m,setThread1Refresh:function(a){},setThread2Refresh:function(a){},setBoth:function(a){},setRate:function(a){}}}(jQuery);$(document).ready(function(){app.init()})};
